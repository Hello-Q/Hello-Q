<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Python-内置模块</title>
      <link href="/2020/04/03/python/python-nei-zhi-mo-kuai/"/>
      <url>/2020/04/03/python/python-nei-zhi-mo-kuai/</url>
      
        <content type="html"><![CDATA[<blockquote><p>内置模块是安装完Python解释器后，系统提供的模块</p></blockquote><h2 id="pickle-—-Python-对象序列化"><a href="#pickle-—-Python-对象序列化" class="headerlink" title="pickle — Python 对象序列化"></a><a href="https://docs.python.org/zh-cn/3/library/pickle.html#module-pickle" target="_blank" rel="noopener"><code>pickle</code></a> — Python 对象序列化</h2><blockquote><p>序列化是指可以把Python中的数据，以文本（json）或二进制（pickle）的方式进行转换，并且在需要的时候进行反序列化恢复成原来的Python数据。</p></blockquote><h3 id="pickle-dumps-序列化"><a href="#pickle-dumps-序列化" class="headerlink" title="pickle.dumps- 序列化"></a><code>pickle.dumps</code>- 序列化</h3><p><strong>语法：</strong> <code>pickle.dumps</code>(<em>obj</em>, <em>protocol=None</em>, <em>**, *fix_imports=True</em>, <em>buffer_callback=None</em>)<a href="https://docs.python.org/zh-cn/3/library/pickle.html#pickle.dumps" target="_blank" rel="noopener">¶</a></p><p><em>obj</em>：Python对象</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> picklels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>res <span class="token operator">=</span> pickle<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>ls<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> type<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> b<span class="token string">'\x80\x03]q\x00(K\x01K\x02K\x03K\x04e.'</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'bytes'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="pickle-loads-反序列化"><a href="#pickle-loads-反序列化" class="headerlink" title="pickle.loads - 反序列化"></a><code>pickle.loads</code> - 反序列化</h3><p><strong>语法：</strong> <code>pickle.``loads</code>(<em>bytes_object</em>, <em>**, *fix_imports=True</em>, <em>encoding=”ASCII”</em>, <em>errors=”strict”</em>, <em>buffers=None</em>)</p><p><em>bytes_object</em>：封存生成的对象</p><pre class="line-numbers language-python"><code class="language-python">res <span class="token operator">=</span> pickle<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> type<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'list'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="pickle-dump-序列化数据并保存文件"><a href="#pickle-dump-序列化数据并保存文件" class="headerlink" title="pickle.dump - 序列化数据并保存文件"></a><code>pickle.dump</code> - 序列化数据并保存文件</h3><p><strong>语法：</strong> <code>pickle.dump</code>(<em>obj</em>, <em>file</em>, <em>protocol=None</em>, <em>**, *fix_imports=True</em>, <em>buffer_callback=None</em>)<a href="https://docs.python.org/zh-cn/3/library/pickle.html#pickle.dump" target="_blank" rel="noopener">¶</a></p><p><em>obj</em>：需要序列化的Python对象</p><p><em>file</em>：保存序列化数据的文件对象（要求以二级制可写模式（wb）打开）</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> picklels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    pickle<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>ls<span class="token punctuation">,</span> f<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>执行完成会在当前目录生成一个test文件</p><h3 id="pickle-load-读取序列化文件中的数据"><a href="#pickle-load-读取序列化文件中的数据" class="headerlink" title="pickle.load - 读取序列化文件中的数据"></a><code>pickle.load</code> - 读取序列化文件中的数据</h3><p><strong>语法：</strong> <code>pickle.``load</code>(<em>file</em>, <em>**, *fix_imports=True</em>, <em>encoding=”ASCII”</em>, <em>errors=”strict”</em>, <em>buffers=None</em>)<a href="https://docs.python.org/zh-cn/3/library/pickle.html#pickle.load" target="_blank" rel="noopener">¶</a></p><p><em>file</em>： file object 对象（二进制只读打开（rb)）</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    res <span class="token operator">=</span> pickle<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> type<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'list'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="json-—-JSON-编码和解码器"><a href="#json-—-JSON-编码和解码器" class="headerlink" title="json — JSON 编码和解码器"></a><a href="https://docs.python.org/zh-cn/3/library/json.html#module-json" target="_blank" rel="noopener"><code>json</code></a> — JSON 编码和解码器</h2><blockquote><p><a href="https://docs.python.org/zh-cn/3/library/json.html#module-json" target="_blank" rel="noopener"><code>json</code></a> 提供了与标准库 <a href="https://docs.python.org/zh-cn/3/library/marshal.html#module-marshal" target="_blank" rel="noopener"><code>marshal</code></a> 和 <a href="https://docs.python.org/zh-cn/3/library/pickle.html#module-pickle" target="_blank" rel="noopener"><code>pickle</code></a> 相似的API接口。</p></blockquote><h3 id="json-dumps-将Python对象序列化为json字符串"><a href="#json-dumps-将Python对象序列化为json字符串" class="headerlink" title="json.dumps - 将Python对象序列化为json字符串"></a><code>json.dumps</code> - 将Python对象序列化为json字符串</h3><p><strong>语法：</strong> <code>json.dumps</code>(<em>obj</em>, <em>, *skipkeys=False</em>, <em>ensure_ascii=True</em>, <em>check_circular=True</em>, <em>allow_nan=True</em>, <em>cls=None</em>, <em>indent=None</em>, <em>separators=None</em>, <em>default=None</em>, <em>sort_keys=False</em>, <em>**kw</em>)<a href="https://docs.python.org/zh-cn/3/library/json.html#json.dumps" target="_blank" rel="noopener">¶</a></p><p><em>obj</em>：Python对象</p><p><strong>功能：</strong>按照下表对python数据进行转换</p><table><thead><tr><th align="left">Python</th><th align="left">JSON</th></tr></thead><tbody><tr><td align="left">dict</td><td align="left">object</td></tr><tr><td align="left">list, tuple</td><td align="left">array</td></tr><tr><td align="left">str</td><td align="left">string</td></tr><tr><td align="left">int, float, int 和 float 派生的枚举</td><td align="left">number</td></tr><tr><td align="left">True</td><td align="left">true</td></tr><tr><td align="left">False</td><td align="left">false</td></tr><tr><td align="left">None</td><td align="left">null</td></tr></tbody></table><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> jsonres <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">:</span> None<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> type<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"xiaoming"</span><span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">"sex"</span><span class="token punctuation">:</span> null<span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'str'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="json-loads-将json字符串反序列换为Python对象"><a href="#json-loads-将json字符串反序列换为Python对象" class="headerlink" title="json.loads - 将json字符串反序列换为Python对象"></a><code>json.loads</code> - 将json字符串反序列换为Python对象</h3><p><strong>语法：</strong><code>json.loads</code>(<em>s</em>, <em>, *cls=None</em>, <em>object_hook=None</em>, <em>parse_float=None</em>, <em>parse_int=None</em>, <em>parse_constant=None</em>, <em>object_pairs_hook=None</em>, <em>**kw</em>)<a href="https://docs.python.org/zh-cn/3/library/json.html#json.loads" target="_blank" rel="noopener">¶</a></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> jsondc <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span><span class="token string">'{"name": "xiaoming", "age": 19, "sex": null}'</span><span class="token punctuation">)</span>ls <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span><span class="token string">'[1, 2]'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>dc<span class="token punctuation">,</span> type<span class="token punctuation">(</span>dc<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>ls<span class="token punctuation">,</span> type<span class="token punctuation">(</span>ls<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">:</span> None<span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'dict'</span><span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'list'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="json-dump¶、json-load¶用法与pickle类似"><a href="#json-dump¶、json-load¶用法与pickle类似" class="headerlink" title="json.dump¶、json.load¶用法与pickle类似"></a><code>json.dump</code><a href="https://docs.python.org/zh-cn/3/library/json.html#json.dump" target="_blank" rel="noopener">¶</a>、<code>json.load</code><a href="https://docs.python.org/zh-cn/3/library/json.html#json.load" target="_blank" rel="noopener">¶</a>用法与pickle类似</h3><h2 id="math-—-数学函数"><a href="#math-—-数学函数" class="headerlink" title="math — 数学函数"></a><a href="https://docs.python.org/zh-cn/3/library/math.html#module-math" target="_blank" rel="noopener"><code>math</code></a> — 数学函数</h2><table><thead><tr><th>函数</th><th>用途</th><th>示例</th><th>结果</th></tr></thead><tbody><tr><td><code>math</code>.<code>ceil</code>(<em>x</em>)<a href="https://docs.python.org/zh-cn/3/library/math.html#math.ceil" target="_blank" rel="noopener">¶</a></td><td>向上取整</td><td>math.ceil(3.44)</td><td>3</td></tr><tr><td><code>math</code>.<code>pow</code>(<em>x</em>, <em>y</em>)<a href="https://docs.python.org/zh-cn/3/library/math.html#math.pow" target="_blank" rel="noopener">¶</a></td><td>返回x的y次幂(返回浮点数)</td><td>math.pow(2,3)</td><td>8.0</td></tr><tr><td><code>math</code>.<code>sqrt</code>(<em>x</em>)<a href="https://docs.python.org/zh-cn/3/library/math.html#math.sqrt" target="_blank" rel="noopener">¶</a></td><td>返回x的平方根(返回浮点数)</td><td>math.sqrt(4)</td><td>2.0</td></tr><tr><td><code>math</code>.<code>fabs</code>(<em>x</em>)<a href="https://docs.python.org/zh-cn/3/library/math.html#math.fabs" target="_blank" rel="noopener">¶</a></td><td>返回x的绝对值(浮点数)</td><td>math.fabs(-4)</td><td>4.0</td></tr><tr><td><code>math</code>.<code>modf</code>(x)<a href="https://docs.python.org/zh-cn/3/library/math.html#math.modf" target="_blank" rel="noopener">¶</a></td><td>拆分一个小数，将整数部分和小数部分组成一个元祖（连个元素都为浮点数形式）</td><td>math.modf(3.145)</td><td>(0.14500000000000002, 3.0)</td></tr><tr><td><code>math.copysign</code>(<em>x</em>, <em>y</em>)<a href="https://docs.python.org/zh-cn/3/library/math.html#math.copysign" target="_blank" rel="noopener">¶</a></td><td>将y的符号（正负号）复制给x</td><td>math.copysign(3.145, -23)</td><td>-3.145</td></tr><tr><td><code>math.``fsum</code>(<em>iterable</em>)<a href="https://docs.python.org/zh-cn/3/library/math.html#math.fsum" target="_blank" rel="noopener">¶</a></td><td>返回迭代器中元素的和（浮点数）</td><td>math.fsum([1, 2, 3])</td><td>6.0</td></tr><tr><td><code>math</code>.<code>factorial</code>(<em>x</em>)</td><td>返回x的阶乘</td><td>math.factorial(3)</td><td>6</td></tr></tbody></table><h2 id="random-—-生成伪随机数"><a href="#random-—-生成伪随机数" class="headerlink" title="random — 生成伪随机数"></a><a href="https://docs.python.org/zh-cn/3/library/random.html#module-random" target="_blank" rel="noopener"><code>random</code></a> — 生成伪随机数</h2><table><thead><tr><th>函数</th><th>用途</th><th>示例</th><th>结果</th></tr></thead><tbody><tr><td><code>random</code>.<code>random</code>()<a href="https://docs.python.org/zh-cn/3/library/random.html#random.random" target="_blank" rel="noopener">¶</a></td><td>随机生成一个小数</td><td>random.random()</td><td>0.709557022521133</td></tr><tr><td><code>random</code>.<code>uniform(a, b)</code><a href="https://docs.python.org/zh-cn/3/library/random.html#random.uniform" target="_blank" rel="noopener">¶</a></td><td>随机生成一个介于a, b之间小数</td><td>random.uniform(2, 7)</td><td>6.627613954751759</td></tr><tr><td><code>random</code>.<code>randrange</code>(<em>start</em>, <em>stop</em>[, <em>step</em>])<a href="https://docs.python.org/zh-cn/3/library/random.html#random.randrange" target="_blank" rel="noopener">¶</a></td><td>生成随机整数<br><em>start</em>：起始值<br><em>stop</em>：结束值<br><em>step</em>：步进值</td><td>random.randrange(2, 7, 2)</td><td>6</td></tr><tr><td><code>random</code>.<code>randint</code>(<em>a</em>, <em>b</em>)<a href="https://docs.python.org/zh-cn/3/library/random.html#random.randint" target="_blank" rel="noopener">¶</a></td><td>生成a,b之间整数</td><td>random.randint(2, 7)</td><td>3</td></tr><tr><td><code>random</code>.<code>choice</code>(<em>seq</em>)<a href="https://docs.python.org/zh-cn/3/library/random.html#random.choice" target="_blank" rel="noopener">¶</a></td><td>从序列中随机选取元素</td><td>random.choice((2, 7, 44))</td><td>44</td></tr><tr><td><code>random.</code>shuffle`(<em>x</em>[, <em>random</em>])<a href="https://docs.python.org/zh-cn/3/library/random.html#random.shuffle" target="_blank" rel="noopener">¶</a></td><td>随机打乱可变序列x，没有返回值。</td><td>l = [2, 7, 44]<br>random.shuffle(l)<br>print(l)</td><td>[7, 44, 2]</td></tr></tbody></table><h2 id="os-—-多种操作系统接口¶"><a href="#os-—-多种操作系统接口¶" class="headerlink" title="os — 多种操作系统接口¶"></a><a href="https://docs.python.org/zh-cn/3/library/os.html#module-os" target="_blank" rel="noopener"><code>os</code></a> — 多种操作系统接口<a href="https://docs.python.org/zh-cn/3/library/os.html#module-os" target="_blank" rel="noopener">¶</a></h2><table><thead><tr><th>函数</th><th>用途</th><th>示例</th><th>结果</th></tr></thead><tbody><tr><td><code>os</code>.<code>getcwd</code>()</td><td>返回当前目录</td><td>os.getcwd()</td><td>/home/zhang/study/test</td></tr><tr><td><code>os</code>.<code>chdir</code>(<em>path</em>)<a href="https://docs.python.org/zh-cn/3/library/os.html#os.chdir" target="_blank" rel="noopener">¶</a></td><td>将工作目录设置为<em>path</em></td><td>os.chdir(‘/home’)</td><td>没有返回值，os.getcwd()会返回 ‘/home’</td></tr><tr><td><code>os</code>.<code>listdir</code>(<em>path=’.’</em>)<a href="https://docs.python.org/zh-cn/3/library/os.html#os.listdir" target="_blank" rel="noopener">¶</a></td><td>返回<em>path</em>下的所有项（文件和文件夹）组成列表。</td><td>os.listdir(‘/home/zhang/‘)</td><td>[‘.vscode’,  ‘test.txt’, ‘.idea’, ‘.pytest_cache’, ‘test.py’]</td></tr><tr><td><code>os</code>.<code>mkdir</code>(<em>path</em>, <em>mode=0o777</em>, <em>, *dir_fd=None</em>)<a href="https://docs.python.org/zh-cn/3/library/os.html#os.mkdir" target="_blank" rel="noopener">¶</a></td><td>在工作目录下创建名为<em>path</em>的文件夹，mode制定权限</td><td>os.mkdir(‘aa’)</td><td>没有返回值，会在工作目录下创建aa文件夹。</td></tr><tr><td><code>os</code>.<code>makedirs</code>(<em>name</em>, <em>mode=0o777</em>, <em>exist_ok=False</em>)<a href="https://docs.python.org/zh-cn/3/library/os.html#os.makedirs" target="_blank" rel="noopener">¶</a></td><td>递归创建目录</td><td>os.makedirs(‘/home/zhang/test’)</td><td>创建test文件夹</td></tr><tr><td><code>os</code>.<code>rmdir</code>(<em>path</em>, <em>, *dir_fd=None</em>)<a href="https://docs.python.org/zh-cn/3/library/os.html#os.rmdir" target="_blank" rel="noopener">¶</a></td><td>删除一个空文件夹</td><td>os.rmdir(‘/home/zhang/test’)</td><td>删除test文件夹</td></tr><tr><td><code>os</code>.<code>removedirs</code>(<em>name</em>)<a href="https://docs.python.org/zh-cn/3/library/os.html#os.removedirs" target="_blank" rel="noopener">¶</a></td><td>递归删除文件夹(非空)</td><td>os.removedirs(‘test/a/b/‘)</td><td>从下向上依次检查删除空目录</td></tr><tr><td><code>os</code>.<code>remove</code>(<em>path</em>, <em>, *dir_fd=None</em>)<a href="https://docs.python.org/zh-cn/3/library/os.html#os.remove" target="_blank" rel="noopener">¶</a></td><td>删除一个文件</td><td>os.remove(‘test.txt’)</td><td>删除test.txt文件</td></tr><tr><td><code>os</code>.<code>rename</code>(<em>src</em>, <em>dst</em>, <em>**, *src_dir_fd=None</em>, <em>dst_dir_fd=None</em>)<a href="https://docs.python.org/zh-cn/3/library/os.html#os.rename" target="_blank" rel="noopener">¶</a></td><td>将<em>src</em>重命名为<em>dst</em>（可可以使文件或者换是文件夹）</td><td>os.rename(‘test.txt’, ‘text1.txt’)</td><td>将<em>src<em>重命名为</em>dst</em></td></tr><tr><td><code>os</code>.<code>system</code>(<em>command</em>)</td><td>执行系统命令</td><td>os.system(‘python’)</td><td>调用python解释器</td></tr></tbody></table><h2 id="os-path-—-常用路径操作¶"><a href="#os-path-—-常用路径操作¶" class="headerlink" title="os.path — 常用路径操作¶"></a><a href="https://docs.python.org/zh-cn/3/library/os.path.html#module-os.path" target="_blank" rel="noopener"><code>os.path</code></a> — 常用路径操作<a href="https://docs.python.org/zh-cn/3/library/os.path.html#module-os.path" target="_blank" rel="noopener">¶</a></h2><table><thead><tr><th>函数</th><th>用途</th><th>示例</th><th>结果</th></tr></thead><tbody><tr><td><code>os.path</code>.<code>abspath</code>(<em>path</em>)<a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.abspath" target="_blank" rel="noopener">¶</a></td><td>将相对路径转为绝对路径</td><td>path.abspath(‘.’)</td><td>返回所在目录的就对路径</td></tr><tr><td><code>os.path</code>.<code>basename</code>(<em>path</em>)<a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.basename" target="_blank" rel="noopener">¶</a></td><td>返回<em>path</em>的基本名称（/最后的部分）</td><td>path.basename(‘/test/eta/test.txt’)</td><td>test.txt</td></tr><tr><td><code>os.path</code>.<code>join</code>(<em>path</em>, <em>*paths</em>)<a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.join" target="_blank" rel="noopener">¶</a></td><td>路径拼接</td><td>path.join(‘home’, ‘zhang’, ‘a’)</td><td>home/zhang/a</td></tr><tr><td><code>os.path</code>.<code>split</code>(<em>path</em>)<a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.split" target="_blank" rel="noopener">¶</a></td><td>路径拆分</td><td>path.split(‘/home/zhang/1.txt’)</td><td>(‘/home/zhang’, ‘1.txt’)</td></tr><tr><td><code>os.path</code>.<code>splitext</code>(<em>path</em>)<a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.splitext" target="_blank" rel="noopener">¶</a></td><td>拆分文件后缀名</td><td>path.splitext(‘/home/1.txt’)</td><td>(‘/home/zhang/1’, ‘.txt’)</td></tr><tr><td><code>os.path</code>.<code>getsize</code>(<em>path</em>)<a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.getsize" target="_blank" rel="noopener">¶</a></td><td>获取文件大小（单位：字节）</td><td>path.getsize(‘test.json’)</td><td>10</td></tr><tr><td><code>os.path</code>.<code>isdir</code>(<em>path</em>)<a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.isdir" target="_blank" rel="noopener">¶</a></td><td>检测文件夹是否存在</td><td>path.isdir(‘.’)</td><td>True</td></tr><tr><td><code>os.path</code>.<code>isfile</code>(<em>path</em>)<a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.isfile" target="_blank" rel="noopener">¶</a></td><td>检测文件是否存在</td><td>path.isfile(‘test.py’)</td><td>True</td></tr><tr><td><code>os.path</code>.<code>exists</code>(<em>path</em>)<a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.lexists" target="_blank" rel="noopener">¶</a></td><td>检测一个路径是否存在</td><td>path.exists(‘test.py’)</td><td>True</td></tr><tr><td><code>os.path</code>.<code>samefile</code>(<em>path1</em>, <em>path2</em>)<a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.samefile" target="_blank" rel="noopener">¶</a></td><td>判断连个路径是否指向同一个位置</td><td>path.samefile(‘test.py’, ‘/home/zhang/study/test/test.py’)</td><td>True</td></tr><tr><td><code>os.path</code>.<code>getatime</code>(<em>path</em>)<a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.getatime" target="_blank" rel="noopener">¶</a></td><td>返回文件最后访问时间</td><td>path.getatime(‘test.py’)</td><td>1586792545.7373118</td></tr><tr><td><code>os.path</code>.<code>getmtime</code>(<em>path</em>)<a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.getmtime" target="_blank" rel="noopener">¶</a></td><td>返回文件最后修改时间</td><td>path.getmtime(‘test.py’)</td><td>1586792563.1691456</td></tr><tr><td><code>os.path.``getctime</code>(<em>path</em>)<a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.getctime" target="_blank" rel="noopener">¶</a></td><td>返回文件创建时间</td><td>path.getctime(‘test.py’)</td><td>1586792584.7729402</td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table><h2 id="zipfile-—-压缩模块"><a href="#zipfile-—-压缩模块" class="headerlink" title="zipfile — 压缩模块"></a><a href="https://docs.python.org/zh-cn/3/library/zipfile.html#module-zipfile" target="_blank" rel="noopener"><code>zipfile</code></a> — 压缩模块</h2><p>ZIP 文件格式是一个常用的归档与压缩标准。 这个模块提供了创建、读取、写入、添加及列出 ZIP 文件的工具。</p><p><strong>语法：</strong> <code>zipfile.``ZipFile</code>(<em>file</em>, <em>mode=’r’</em>, <em>compression=ZIP_STORED</em>, <em>allowZip64=True</em>, <em>compresslevel=None</em>, <em>**, *strict_timestamps=True</em>)</p><p><em>file</em>： 文件路径</p><p><em>mode</em>： 打开模式（r：读取文件，w：写入文件、a：追加写入文件）</p><h3 id="压缩文档"><a href="#压缩文档" class="headerlink" title="压缩文档"></a>压缩文档</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> zipfile<span class="token keyword">with</span> zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span><span class="token string">'test.zip'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> zipf<span class="token punctuation">:</span>    zipf<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'文件1.xls'</span><span class="token punctuation">)</span>    zipf<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'文件2.xls'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>执行以上代码后会创建一个<strong>test.zip</strong>的压缩文件，内容为<strong>文件1</strong>和<strong>文件2</strong></p><h3 id="解压文档"><a href="#解压文档" class="headerlink" title="解压文档"></a>解压文档</h3><p><strong>语法：</strong> <code>ZipFile.``extractall</code>(<em>path=None</em>, <em>members=None</em>, <em>pwd=None</em>)</p><p><em>path</em>：解压文件路径</p><p><em>members</em>： 要解压的文件列表，默认全部解压</p><p><em>pwd</em>： 解压密码</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> zipfile<span class="token keyword">with</span> zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span><span class="token string">'test.zip'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> zipf<span class="token punctuation">:</span>    zipf<span class="token punctuation">.</span>extractall<span class="token punctuation">(</span><span class="token string">'./'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>执行以上代码后会把<strong>test.zip</strong>中的所有文件解压到代码目录</p><h2 id="shutil-—-高阶文件操作"><a href="#shutil-—-高阶文件操作" class="headerlink" title="shutil — 高阶文件操作"></a><a href="https://docs.python.org/zh-cn/3/library/shutil.html#module-shutil" target="_blank" rel="noopener"><code>shutil</code></a> — 高阶文件操作</h2><h3 id="shutil-make-archive-压缩文档"><a href="#shutil-make-archive-压缩文档" class="headerlink" title="shutil.make_archive - 压缩文档"></a><code>shutil.make_archive</code> - 压缩文档</h3><p><strong>语法：</strong>  <code>shutil.make_archive</code>(<em>base_name</em>, <em>format</em>[, <em>root_dir</em>[, <em>base_dir</em>[, <em>verbose</em>[, <em>dry_run</em>[, <em>owner</em>[, <em>group</em>[, <em>logger</em>]]]]]]])</p><p><em>base_name</em>：文件名（不带后缀）</p><p><em>format</em>：压缩后的格式（zip、tar、gztar、xztar）</p><p><em>root_dir</em>：要归档的根目录</p><p><em>base_dir</em>：要归档的起始目录</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> shutilshutil<span class="token punctuation">.</span>make_archive<span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'zip'</span><span class="token punctuation">,</span> <span class="token string">'c:/qq/abc'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1</span>shutil<span class="token punctuation">.</span>make_archive<span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'zip'</span><span class="token punctuation">,</span> <span class="token string">'c:/qq/'</span><span class="token punctuation">,</span> <span class="token string">'abc'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>#1处会在当前目录创建一个test.zip的文件，内容包含c:/qq/abc目录下的文件</li><li>#2处会在当前目录创建一个test.zip的文件，包含一个名为‘abc’的文件夹，文件夹中的内容问‘c:/qq/abc’中的内容</li></ul><h3 id="shutil-copy-拷贝文件"><a href="#shutil-copy-拷贝文件" class="headerlink" title="shutil.copy - 拷贝文件"></a><code>shutil.copy</code> - 拷贝文件</h3><p><strong>语法：</strong> <code>shutil.``copy</code>(<em>src</em>, <em>dst</em>, <em>**, *follow_symlinks=True</em>)</p><p><em>src</em>：待拷贝文件</p><p><em>dst</em>：目标文件或文件</p><p><strong>功能：</strong> 将文件 <em>src</em> 拷贝到文件或目录 <em>dst*。 *src</em> 和 <em>dst</em> 应为字符串。 如果 <em>dst</em> 指定了一个目录，文件将使用 <em>src</em> 中的基准文件名拷贝到 <em>dst</em>。 返回新创建文件的路径。</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> shutilshutil<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token string">'test.zip'</span><span class="token punctuation">,</span> <span class="token string">'C:/Users/zhang/Desktop/'</span><span class="token punctuation">)</span>shutil<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token string">'test.zip'</span><span class="token punctuation">,</span> <span class="token string">'C:/Users/zhang/Desktop/test.zip'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="shutil-copy2-拷贝文件保留元数据（操作时间、权限等信息）"><a href="#shutil-copy2-拷贝文件保留元数据（操作时间、权限等信息）" class="headerlink" title="shutil.copy2 - 拷贝文件保留元数据（操作时间、权限等信息）"></a><code>shutil.copy2</code> - 拷贝文件保留元数据（操作时间、权限等信息）</h3><p><strong>语法：</strong> 与<code>shutil.copy</code>类似</p><p><code>shutil.``copyfile</code>(<em>src</em>, <em>dst</em>, <em>**, *follow_symlinks=True</em>)<a href="https://docs.python.org/zh-cn/3/library/shutil.html#shutil.copyfile" target="_blank" rel="noopener">¶</a></p><h3 id="shutil-copyfile-拷贝文件内容（不包括元数据）"><a href="#shutil-copyfile-拷贝文件内容（不包括元数据）" class="headerlink" title="shutil.copyfile - 拷贝文件内容（不包括元数据）"></a><code>shutil.copyfile</code> - 拷贝文件内容（不包括元数据）</h3><p><strong>语法：</strong> 与<code>shutil.copy</code>类似</p><p><code>shutil.``copyfile</code>(<em>src</em>, <em>dst</em>, <em>**, *follow_symlinks=True</em>)<a href="https://docs.python.org/zh-cn/3/library/shutil.html#shutil.copyfile" target="_blank" rel="noopener">¶</a></p><p><strong><em>dst</em> 必须是完整的目标文件名，操作会将src内容写入dst</strong></p><h3 id="shutil-copytree-拷贝文件夹"><a href="#shutil-copytree-拷贝文件夹" class="headerlink" title="shutil.copytree - 拷贝文件夹"></a><code>shutil.copytree</code> - 拷贝文件夹</h3><p><strong>语法：</strong> <code>shutil.``copytree</code>(<em>src</em>, <em>dst</em>, <em>symlinks=False</em>, <em>ignore=None</em>, <em>copy_function=copy2</em>, <em>ignore_dangling_symlinks=False</em>, <em>dirs_exist_ok=False</em>)<a href="https://docs.python.org/zh-cn/3/library/shutil.html#shutil.copytree" target="_blank" rel="noopener">¶</a></p><p><em>src</em>：待拷贝文件夹</p><p><em>dst</em>：目标文件夹</p><p><strong>功能：</strong> 将以 <em>src</em> 为根起点的整个目录树拷贝到名为 <em>dst</em> 的目录并返回目标目录。 <em>dirs_exist_ok</em> 指明是否要在 <em>dst</em> 或任何丢失的父目录已存在的情况下引发异常。</p><p>目录的权限和时间会通过 <a href="https://docs.python.org/zh-cn/3/library/shutil.html#shutil.copystat" target="_blank" rel="noopener"><code>copystat()</code></a> 来拷贝，单个文件则会使用 <a href="https://docs.python.org/zh-cn/3/library/shutil.html#shutil.copy2" target="_blank" rel="noopener"><code>copy2()</code></a> 来拷贝。</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> shutilres <span class="token operator">=</span> shutil<span class="token punctuation">.</span>copytree<span class="token punctuation">(</span><span class="token string">'/home/zhang/downloads'</span><span class="token punctuation">,</span> <span class="token string">'/home/zhang/a'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>将’/home/zhang/downloads’拷贝到’/home/zhang/‘并将文件夹命名为a，并且要求目标文件夹不能已经存在</p><h3 id="shutil-rmtree-删除目录"><a href="#shutil-rmtree-删除目录" class="headerlink" title="shutil.rmtree - 删除目录"></a><code>shutil.rmtree</code> - 删除目录</h3><p><strong>语法：</strong> <code>shutil.``rmtree</code>(<em>path</em>, <em>ignore_errors=False</em>, <em>onerror=None</em>)<a href="https://docs.python.org/zh-cn/3/library/shutil.html#shutil.rmtree" target="_blank" rel="noopener">¶</a></p><p><em>path</em>：要删除的文件夹</p><pre class="line-numbers language-python"><code class="language-python">shutil<span class="token punctuation">.</span>rmtree<span class="token punctuation">(</span><span class="token string">'/home/zhang/test'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="shutil-move-移动目录、文件"><a href="#shutil-move-移动目录、文件" class="headerlink" title="shutil.move - 移动目录、文件"></a><code>shutil.move</code> - 移动目录、文件</h3><p><strong>语法：</strong> <code>shutil.``move</code>(<em>src</em>, <em>dst</em>, <em>copy_function=copy2</em>)<a href="https://docs.python.org/zh-cn/3/library/shutil.html#shutil.move" target="_blank" rel="noopener">¶</a></p><p><em>src</em>： 要移动的文件或文件夹</p><p><em>dst</em>：目标文件夹</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> shutilres <span class="token operator">=</span> shutil<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token string">'/home/zhang/downloads/a'</span><span class="token punctuation">,</span> <span class="token string">'/home/zhang/'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>类似于Liunx 的mv 也可用作重命名。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 学习笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python-数据类型-通用操作、迭代器与生成器</title>
      <link href="/2020/03/22/python/python-shu-ju-lei-xing-tong-yong-cao-zuo-die-dai-qi-yu-sheng-cheng-qi/"/>
      <url>/2020/03/22/python/python-shu-ju-lei-xing-tong-yong-cao-zuo-die-dai-qi-yu-sheng-cheng-qi/</url>
      
        <content type="html"><![CDATA[<h2 id="通用序列操作"><a href="#通用序列操作" class="headerlink" title="通用序列操作"></a>通用序列操作</h2><h3 id="不可变、可变序列通用操作"><a href="#不可变、可变序列通用操作" class="headerlink" title="不可变、可变序列通用操作"></a>不可变、可变序列通用操作</h3><p>大多数序列类型，包括可变类型和不可变类型都支持下表中的操作。 <a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Sequence" target="_blank" rel="noopener"><code>collections.abc.Sequence</code></a> ABC 被提供用来更容易地在自定义序列类型上正确地实现这些操作。</p><p>此表按优先级升序列出了序列操作。 在表格中，<em>s</em> 和 <em>t</em> 是具有相同类型的序列，<em>n</em>, <em>i</em>, <em>j</em> 和 <em>k</em> 是整数而 <em>x</em> 是任何满足 <em>s</em> 所规定的类型和值限制的任意对象。</p><p><code>in</code> 和 <code>not in</code> 操作具有与比较操作相同的优先级。 <code>+</code> (拼接) 和 <code>*</code> (重复) 操作具有与对应数值运算相同的优先级。</p><table><thead><tr><th align="left">运算</th><th align="center">结果</th><th align="left">注释</th></tr></thead><tbody><tr><td align="left"><code>x in s</code></td><td align="center">如果 <em>s</em> 中的某项等于 <em>x</em> 则结果为 <code>True</code>，否则为 <code>False</code></td><td align="left">(1)</td></tr><tr><td align="left"><code>x not in s</code></td><td align="center">如果 <em>s</em> 中的某项等于 <em>x</em> 则结果为 <code>False</code>，否则为 <code>True</code></td><td align="left">(1)</td></tr><tr><td align="left"><code>s + t</code></td><td align="center"><em>s</em> 与 <em>t</em> 相拼接</td><td align="left">(6)(7)</td></tr><tr><td align="left"><code>s * n</code> 或 <code>n * s</code></td><td align="center">相当于 <em>s</em> 与自身进行 <em>n</em> 次拼接</td><td align="left">(2)(7)</td></tr><tr><td align="left"><code>s[i]</code></td><td align="center"><em>s</em> 的第 <em>i</em> 项，起始为 0</td><td align="left">(3)</td></tr><tr><td align="left"><code>s[i:j]</code></td><td align="center"><em>s</em> 从 <em>i</em> 到 <em>j</em> 的切片</td><td align="left">(3)(4)</td></tr><tr><td align="left"><code>s[i:j:k]</code></td><td align="center"><em>s</em> 从 <em>i</em> 到 <em>j</em> 步长为 <em>k</em> 的切片</td><td align="left">(3)(5)</td></tr><tr><td align="left"><code>len(s)</code></td><td align="center"><em>s</em> 的长度</td><td align="left"></td></tr><tr><td align="left"><code>min(s)</code></td><td align="center"><em>s</em> 的最小项</td><td align="left"></td></tr><tr><td align="left"><code>max(s)</code></td><td align="center"><em>s</em> 的最大项</td><td align="left"></td></tr><tr><td align="left"><code>s.index(x[, i[, j]])</code></td><td align="center"><em>x</em> 在 <em>s</em> 中首次出现项的索引号（索引号在 <em>i</em> 或其后且在 <em>j</em> 之前）</td><td align="left">(8)</td></tr><tr><td align="left"><code>s.count(x)</code></td><td align="center"><em>x</em> 在 <em>s</em> 中出现的总次数</td><td align="left"></td></tr></tbody></table><h3 id="可变序列通用操作"><a href="#可变序列通用操作" class="headerlink" title="可变序列通用操作"></a>可变序列通用操作</h3><p>以下表格中的操作是在可变序列类型上定义的。 </p><p>表格中的 <em>s</em> 是可变序列类型的实例，<em>t</em> 是任意可迭代对象，而 <em>x</em> 是符合对 <em>s</em> 所规定类型与值限制的任何对象 (例如，<a href="https://docs.python.org/zh-cn/3/library/stdtypes.html?highlight=count#bytearray" target="_blank" rel="noopener"><code>bytearray</code></a> 仅接受满足 <code>0 &lt;= x &lt;= 255</code> 值限制的整数)。</p><table><thead><tr><th align="left">运算</th><th align="left">结果</th><th align="left">注释</th></tr></thead><tbody><tr><td align="left"><code>s[i] = x</code></td><td align="left">将 <em>s</em> 的第 <em>i</em> 项替换为 <em>x</em></td><td align="left"></td></tr><tr><td align="left"><code>s[i:j] = t</code></td><td align="left">将 <em>s</em> 从 <em>i</em> 到 <em>j</em> 的切片替换为可迭代对象 <em>t</em> 的内容</td><td align="left"></td></tr><tr><td align="left"><code>del s[i:j]</code></td><td align="left">等同于 <code>s[i:j] = []</code></td><td align="left"></td></tr><tr><td align="left"><code>s[i:j:k] = t</code></td><td align="left">将 <code>s[i:j:k]</code> 的元素替换为 <em>t</em> 的元素</td><td align="left">(1)</td></tr><tr><td align="left"><code>del s[i:j:k]</code></td><td align="left">从列表中移除 <code>s[i:j:k]</code> 的元素</td><td align="left"></td></tr><tr><td align="left"><code>s.append(x)</code></td><td align="left">将 <em>x</em> 添加到序列的末尾 (等同于 <code>s[len(s):len(s)] = [x]</code>)</td><td align="left"></td></tr><tr><td align="left"><code>s.clear()</code></td><td align="left">从 <em>s</em> 中移除所有项 (等同于 <code>del s[:]</code>)</td><td align="left">(5)</td></tr><tr><td align="left"><code>s.copy()</code></td><td align="left">创建 <em>s</em> 的浅拷贝 (等同于 <code>s[:]</code>)</td><td align="left">(5)</td></tr><tr><td align="left"><code>s.extend(t)</code> 或 <code>s += t</code></td><td align="left">用 <em>t</em> 的内容扩展 <em>s</em> (基本上等同于 <code>s[len(s):len(s)] = t</code>)</td><td align="left"></td></tr><tr><td align="left"><code>s *= n</code></td><td align="left">使用 <em>s</em> 的内容重复 <em>n</em> 次来对其进行更新</td><td align="left">(6)</td></tr><tr><td align="left"><code>s.insert(i, x)</code></td><td align="left">在由 <em>i</em> 给出的索引位置将 <em>x</em> 插入 <em>s</em> (等同于 <code>s[i:i] = [x]</code>)</td><td align="left"></td></tr><tr><td align="left"><code>s.pop([i])</code></td><td align="left">提取在 <em>i</em> 位置上的项，并将其从 <em>s</em> 中移除</td><td align="left">(2)</td></tr><tr><td align="left"><code>s.remove(x)</code></td><td align="left">删除 <em>s</em> 中第一个 <code>s[i]</code> 等于 <em>x</em> 的项目。</td><td align="left">(3)</td></tr><tr><td align="left"><code>s.reverse()</code></td><td align="left">就地将列表中的元素逆序。</td><td align="left">(4)</td></tr></tbody></table><p>注释:</p><ol><li><p><em>t</em> 必须与它所替换的切片具有相同的长度。</p></li><li><p>可选参数 <em>i</em> 默认为 <code>-1</code>，因此在默认情况下会移除并返回最后一项。</p></li><li><p>当在 <em>s</em> 中找不到 <em>x</em> 时 <code>remove()</code> 操作会引发 <a href="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" target="_blank" rel="noopener"><code>ValueError</code></a>。</p></li><li><p>当反转大尺寸序列时 <code>reverse()</code> 方法会原地修改该序列以保证空间经济性。 为提醒用户此操作是通过间接影响进行的，它并不会返回反转后的序列。</p></li><li><p>包括 <code>clear()</code> 和 <code>copy()</code> 是为了与不支持切片操作的可变容器 (例如 <a href="https://docs.python.org/zh-cn/3/library/stdtypes.html?highlight=count#dict" target="_blank" rel="noopener"><code>dict</code></a> 和 <a href="https://docs.python.org/zh-cn/3/library/stdtypes.html?highlight=count#set" target="_blank" rel="noopener"><code>set</code></a>) 的接口保持一致。 <code>copy()</code> 不是 <a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.MutableSequence" target="_blank" rel="noopener"><code>collections.abc.MutableSequence</code></a> ABC 的一部分，但大多数具体的可变序列类都提供了它。</p><p><em>3.3 新版功能:</em> <code>clear()</code> 和 <code>copy()</code> 方法。</p></li><li><p><em>n</em> 值为一个整数，或是一个实现了 <a href="https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__index__" target="_blank" rel="noopener"><code>__index__()</code></a> 的对象。 <em>n</em> 值为零或负数将清空序列。 序列中的项不会被拷贝；它们会被多次引用，正如 <a href="https://docs.python.org/zh-cn/3/library/stdtypes.html?highlight=count#typesseq-common" target="_blank" rel="noopener">通用序列操作</a> 中有关 <code>s * n</code> 的说明。</p></li></ol><h2 id="迭代器与生成器"><a href="#迭代器与生成器" class="headerlink" title="迭代器与生成器"></a>迭代器与生成器</h2><h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><p>迭代器是一个能记住遍历位置的对象。</p><p>迭代器对象从集合的第一个元素开始访问，直到所有的元素被访问完结束。迭代器只能往前不会后退。</p><p>迭代器有两个基本的方法：<strong>iter()</strong> 和 <strong>next()</strong>。</p><p>字符串，列表或元组对象都可用于创建迭代器：</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> list<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> it <span class="token operator">=</span> iter<span class="token punctuation">(</span>list<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 创建迭代器对象</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span> <span class="token punctuation">(</span>next<span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 输出迭代器的下一个元素</span><span class="token number">1</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span> <span class="token punctuation">(</span>next<span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>迭代器对象可以使用常规for语句进行遍历：</p><pre class="line-numbers language-python"><code class="language-python">list<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>it <span class="token operator">=</span> iter<span class="token punctuation">(</span>list<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 创建迭代器对象</span><span class="token keyword">for</span> x <span class="token keyword">in</span> it<span class="token punctuation">:</span>    <span class="token keyword">print</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>也可以使用 next() 函数：</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> sys         <span class="token comment" spellcheck="true"># 引入 sys 模块</span><span class="token operator">>></span><span class="token operator">></span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> list<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> it <span class="token operator">=</span> iter<span class="token punctuation">(</span>list<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 创建迭代器对象</span><span class="token operator">>></span><span class="token operator">></span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span>next<span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">', '</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h3><p>在 Python 中，使用了 yield 的函数被称为生成器（generator）。</p><p>跟普通函数不同的是，生成器是一个返回迭代器的函数，只能用于迭代操作，更简单点理解生成器就是一个迭代器。</p><p>在调用生成器运行的过程中，每次遇到 yield 时函数会暂停并保存当前所有的运行信息，返回 yield 的值, 并在下一次执行 next() 方法时从当前位置继续运行。</p><p>调用一个生成器函数，返回的是一个迭代器对象。</p><p>以下实例使用 yield 实现斐波那契数列：</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> sys<span class="token keyword">def</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># 生成器函数 - 斐波那契</span>    a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>counter <span class="token operator">></span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>             <span class="token keyword">return</span>        <span class="token keyword">yield</span> a        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b        counter <span class="token operator">+=</span> <span class="token number">1</span>f <span class="token operator">=</span> fibonacci<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># f 是一个迭代器，由生成器返回生成</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span>next<span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">" "</span><span class="token punctuation">)</span>    <span class="token keyword">except</span> StopIteration<span class="token punctuation">:</span>        sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>0 1 1 2 3 5 8 13 21 34 55</code></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>centos7配置防火墙</title>
      <link href="/2020/02/26/linux/centos7-pei-zhi-fang-huo-qiang/"/>
      <url>/2020/02/26/linux/centos7-pei-zhi-fang-huo-qiang/</url>
      
        <content type="html"><![CDATA[<h2 id="查看firewall服务状态"><a href="#查看firewall服务状态" class="headerlink" title="查看firewall服务状态"></a>查看firewall服务状态</h2><pre><code>systemctl status firewalld</code></pre><pre><code>● firewalld.service - firewalld - dynamic firewall daemon   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled; vendor preset: enabled)   Active: active (running) since 三 2020-02-26 19:46:16 CST; 5min ago     Docs: man:firewalld(1) Main PID: 22556 (firewalld)    Tasks: 2   CGroup: /system.slice/firewalld.service           └─22556 /usr/bin/python2 -Es /usr/sbin/firewalld --nofork --nopid</code></pre><h2 id="查看firewall的状态"><a href="#查看firewall的状态" class="headerlink" title="查看firewall的状态"></a>查看firewall的状态</h2><pre><code>firewall-cmd --state</code></pre><pre><code>running</code></pre><h2 id="开启、重启、关闭、firewalld-service服务"><a href="#开启、重启、关闭、firewalld-service服务" class="headerlink" title="开启、重启、关闭、firewalld.service服务"></a>开启、重启、关闭、firewalld.service服务</h2><pre><code># 开启service firewalld start# 重启service firewalld restart# 关闭service firewalld stop</code></pre><h2 id="查看防火墙规则"><a href="#查看防火墙规则" class="headerlink" title="查看防火墙规则"></a>查看防火墙规则</h2><pre><code>public (active)  target: default  icmp-block-inversion: no  interfaces: ens33  sources:  services: dhcpv6-client ssh  # 主要是这个  ports: 8000/tcp 80/tcp  protocols:  masquerade: no  forward-ports:  source-ports:  icmp-blocks:  rich rules:</code></pre><h2 id="查询、开放、关闭端口"><a href="#查询、开放、关闭端口" class="headerlink" title="查询、开放、关闭端口"></a>查询、开放、关闭端口</h2><pre><code># 查询端口是否开放firewall-cmd --query-port=8080/tcp# 开放80端口firewall-cmd --permanent --add-port=80/tcp# 移除端口firewall-cmd --permanent --remove-port=8080/tcp#重启防火墙(修改配置后要重启防火墙)firewall-cmd --reload# 参数解释1、firwall-cmd：是Linux提供的操作firewall的一个工具；2、--permanent：表示设置为持久；3、--add-port：标识添加的端口；</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> firewall </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python-流程控制-分支结构与循环语句</title>
      <link href="/2020/02/26/python/05.python-liu-cheng-kong-zhi/"/>
      <url>/2020/02/26/python/05.python-liu-cheng-kong-zhi/</url>
      
        <content type="html"><![CDATA[<h2 id="Python代码块"><a href="#Python代码块" class="headerlink" title="Python代码块"></a>Python代码块</h2><p>Python语言通过缩进来组织代码块，这是Python的强制要求。在Python编程中具有相同缩进的代码被自动视为一个代码块，无论进行了几个空格的缩进都是被允许的，只要缩进空格的数量统一。</p><p>以冒号开始，用缩进划分相同的作用域，这种结构成为代码块。</p><p>作用域指作用范围，同一个代码块拥有相同的作用域。</p><p>较为规范的情况下一般使用采用4个空格表示一个缩进。也可以使用一个制表符表示一个缩进（Tab键）。一般的IDE都拥有着把一个制表符视为4个空格的转换（记事本不具有此功能）。但一定要避免制表符和空格键的混用，以避免造成不必要的错误。</p><p>在代码结束时，多敲一次换行。使得代码层次结构更加清晰</p><h2 id="分支结构"><a href="#分支结构" class="headerlink" title="分支结构"></a>分支结构</h2><p>Python  if 条件语句是通过一条或多条语句的执行结果（True或者False）来决定执行的代码块。</p><p>Python 编程中 if 语句用于控制程序的执行</p><h3 id="单向分支"><a href="#单向分支" class="headerlink" title="单向分支"></a>单向分支</h3><p>单项分支指只有一个条件判断，如果条件成立执行if代码块，否则程序忽略if代码块继续往下执行</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">if</span> 判断条件：    执行语句……<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>示例</p><pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">10</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">if</span> a <span class="token operator">&lt;</span> <span class="token number">12</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'a小于12'</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'if条件分支结束'</span><span class="token punctuation">)</span>a小于<span class="token number">12</span><span class="token keyword">if</span>条件分支结束<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="双向分支"><a href="#双向分支" class="headerlink" title="双向分支"></a>双向分支</h3><p>双向分支有一个条件条件判断，如果条件成立执行if代码块，否则执行else代码块</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">if</span> 判断条件<span class="token punctuation">:</span>    执行语句<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">else</span><span class="token punctuation">:</span>    执行语句<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>示例</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">if</span> a <span class="token operator">&lt;</span><span class="token number">12</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'a小于12'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">else</span><span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'a不小于12'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>a小于<span class="token number">12</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="多向分支"><a href="#多向分支" class="headerlink" title="多向分支"></a>多向分支</h3><p>多向分支有多个判断条件，语句执行条件成立的第一个条件的语句块，不成立的条件，以及后面的语句块不执行。并且条件语句中可以使用逻辑运算符（and、or、not），语句形式如下</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">if</span> 判断条件<span class="token number">1</span><span class="token punctuation">:</span>    执行语句<span class="token number">1</span>……<span class="token keyword">elif</span> 判断条件<span class="token number">2</span><span class="token punctuation">:</span>    执行语句<span class="token number">2</span>……<span class="token keyword">elif</span> 判断条件<span class="token number">3</span><span class="token punctuation">:</span>    执行语句<span class="token number">3</span>……<span class="token keyword">else</span><span class="token punctuation">:</span>    执行语句<span class="token number">4</span>……<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>示例</p><pre class="line-numbers language-python"><code class="language-python">soure <span class="token operator">=</span> <span class="token number">90</span><span class="token keyword">if</span> soure <span class="token operator">&lt;=</span> <span class="token number">100</span> <span class="token operator">and</span> soure <span class="token operator">>=</span> <span class="token number">90</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'成绩优秀'</span><span class="token punctuation">)</span><span class="token keyword">elif</span> soure <span class="token operator">==</span> <span class="token number">90</span> <span class="token operator">and</span> soure <span class="token operator">>=</span><span class="token number">80</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'成绩良好'</span><span class="token punctuation">)</span><span class="token keyword">elif</span> soure <span class="token operator">&lt;</span> <span class="token number">80</span> <span class="token operator">and</span> soure <span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'成绩及格'</span><span class="token punctuation">)</span><span class="token keyword">elif</span> soure <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token operator">and</span> soure <span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'成绩不及格'</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'你特娘的是个成绩吗'</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> 成绩优秀<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>由于 python 并不支持 switch 语句，所以多个条件判断，只能用 elif 来实现，如果判断需要多个条件需同时判断时，可以使用 or （或），表示两个条件有一个成立时判断条件成功；使用 and （与）时，表示只有两个条件同时成立的情况下，判断条件才成功。</p></blockquote><h3 id="巢状分支"><a href="#巢状分支" class="headerlink" title="巢状分支"></a>巢状分支</h3><p>巢状分支指单项分支、双向分支、多向分支嵌套使用<br>例如</p><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 巢状分支(单项分支,双向分支 多项分支,互相嵌套)</span> youqian <span class="token operator">=</span> <span class="token boolean">True</span> youfang <span class="token operator">=</span> <span class="token boolean">True</span> youche <span class="token operator">=</span> <span class="token boolean">True</span> youyanzhi <span class="token operator">=</span> <span class="token boolean">True</span> youtili <span class="token operator">=</span> <span class="token boolean">True</span><span class="token comment" spellcheck="true">#注意前面的缩进,来判断是否是同一块代码</span> <span class="token keyword">if</span> youqian <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>     <span class="token keyword">if</span> youfang <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>         <span class="token keyword">if</span> youche <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>             <span class="token keyword">if</span> youyanzhi <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>                 <span class="token keyword">if</span> youtili <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>                     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"恭喜你,牵手成功"</span><span class="token punctuation">)</span>                 <span class="token keyword">else</span><span class="token punctuation">:</span>                     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"恭喜你,成为1号替补"</span><span class="token punctuation">)</span>             <span class="token keyword">else</span><span class="token punctuation">:</span>                 <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"老弟你等等,相约一九九八,就在明天"</span><span class="token punctuation">)</span> <span class="token keyword">else</span><span class="token punctuation">:</span>     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"老弟,.快走吧你"</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> 恭喜你<span class="token punctuation">,</span>牵手成功<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>巢状分支最好不要超5层，太多容易造成逻辑混乱</p></blockquote><h2 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h2><p><em>循环语句允许我们执行一个语句或语句组多次</em></p><p>python中的循环类型</p><table><thead><tr><th>循环类型</th><th>描述</th></tr></thead><tbody><tr><td>while循环</td><td>给定的判断条件为True时执行循环体，否则退出循环</td></tr><tr><td>for循环</td><td>重复执行语句</td></tr></tbody></table><p>循环控制语句</p><table><thead><tr><th>控制语句</th><th>描述</th></tr></thead><tbody><tr><td>break语句</td><td>在语句块执行过程中终止循环，并跳出整个循环</td></tr><tr><td>continue语句</td><td>在语句块执行过程中终止当前循环，执行下一次循环</td></tr><tr><td>pass语句</td><td>pass 是空语句，保持程序的完整性，什么也不做</td></tr></tbody></table><h3 id="while-循环"><a href="#while-循环" class="headerlink" title="while 循环"></a>while 循环</h3><p>基本语句</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">while</span> 判断条件<span class="token punctuation">:</span>    语句<span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token comment" spellcheck="true"># 另一种，else不是必须的</span><span class="token keyword">while</span> 判断条件<span class="token punctuation">:</span>    语句<span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">else</span>：    语句<span class="token number">2</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>当判断条件为True时，语句1将执行，执行完成后再次判断<strong>判断条件</strong>是否成立，如还是成立的则继续循环执行，直至<strong>判断条件</strong>不成立为止。</p><p>while 可以使用continue和break来跳过循环，continue跳过本次，break跳出整个循环</p><p><strong>无限循环：</strong> 如果条件判断永远为True，循环将无限的执行下去</p><h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><p><em>Python for循环可以遍历任何序列的项目，如一个列表或者一个字符串。</em></p><p>基本语法格式</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">for</span> i <span class="token keyword">in</span> list<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="break-语句"><a href="#break-语句" class="headerlink" title="break 语句"></a>break 语句</h3><p>break语句用来终止循环语句，即循环条件没有False条件或者序列还没被完全递归完，也会停止执行循环语句。</p><p>break语句用在while和for循环中。<br>在嵌套循环中，会终止当前循环块</p><h3 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h3><p>Python continue 语句跳出本次循环，而break跳出整个循环。<br>continue 语句用来告诉Python跳过当前循环的剩余语句，然后继续进行下一轮循环。<br>continue语句用在while和for循环中。</p><h3 id="pass"><a href="#pass" class="headerlink" title="pass"></a>pass</h3><p>Python pass 是空语句，是为了保持程序结构的完整性。<br>pass 不做任何事情，一般用做占位语句。</p><h3 id="exit-与quit"><a href="#exit-与quit" class="headerlink" title="exit()与quit()"></a>exit()与quit()</h3><p>exit()与quit()会结束当前Python解释器，用于停止整个程序。</p><h3 id="range-函数"><a href="#range-函数" class="headerlink" title="range()函数"></a>range()函数</h3><ul><li>返回一个可迭代的对象</li><li>生成有序数列</li><li>生成的序列可以定制<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token comment" spellcheck="true"># 生成1-10的序列</span><span class="token operator">>></span><span class="token operator">></span> num <span class="token operator">=</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token comment" spellcheck="true"># 生成时左包括右不包括</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token comment" spellcheck="true"># 忽略第一个参数将从0开始生成</span><span class="token operator">>></span><span class="token operator">></span> <span class="token comment" spellcheck="true"># 生成0-10的 序列可以简写为</span><span class="token operator">>></span><span class="token operator">></span> num <span class="token operator">=</span> range<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ul><li>同一级别的代码块要保持相同的缩进</li></ul>]]></content>
      
      
      <categories>
          
          <category> Python基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2020/01/16/django/django-lian-jie-mysql/"/>
      <url>/2020/01/16/django/django-lian-jie-mysql/</url>
      
        <content type="html"><![CDATA[<hr><p>title: Django-连接Mysql<br>date: 2020-1-11 14:57:51<br>top: false<br>cover: false<br>password:<br>toc: true<br>mathjax: true<br>summary:<br>tags:</p><ul><li>DJango</li><li>Mysql</li><li>Python</li><li>配置<br>categories: Django</li></ul><hr><h2 id="使用pymysql"><a href="#使用pymysql" class="headerlink" title="使用pymysql"></a>使用pymysql</h2><p>Python3.5+并不支持MySQLdb，使用MySql可以使用pymysql代替</p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><pre><code>pip install pymysql</code></pre><h3 id="django配置"><a href="#django配置" class="headerlink" title="django配置"></a>django配置</h3><p>在项目的<strong>init</strong>.py 文件中</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> pymysqlpymysql<span class="token punctuation">.</span>install_as_MySQLdb<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="使用mysql-connector-python"><a href="#使用mysql-connector-python" class="headerlink" title="使用mysql-connector-python"></a>使用mysql-connector-python</h2><h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><pre><code>pip install mysql-connector-python</code></pre><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>修改’ENGINE’配置项，’ENGINE’:’mysql.connector.django’,</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Django-序列化数据</title>
      <link href="/2020/01/16/django/django-xu-lie-hua-shu-ju/"/>
      <url>/2020/01/16/django/django-xu-lie-hua-shu-ju/</url>
      
        <content type="html"><![CDATA[<h2 id="Django类视图返回"><a href="#Django类视图返回" class="headerlink" title="Django类视图返回"></a>Django类视图返回</h2><h3 id="使用json加载数据"><a href="#使用json加载数据" class="headerlink" title="使用json加载数据"></a>使用json加载数据</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">GoodsView</span><span class="token punctuation">(</span>View<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">:</span>        json_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        goods <span class="token operator">=</span> models<span class="token punctuation">.</span>Goods<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> good <span class="token keyword">in</span> goods<span class="token punctuation">:</span>            json_dict <span class="token operator">=</span> dict<span class="token punctuation">(</span><span class="token punctuation">)</span>            json_dict<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> good<span class="token punctuation">.</span>name            json_dict<span class="token punctuation">[</span><span class="token string">'category'</span><span class="token punctuation">]</span> <span class="token operator">=</span> good<span class="token punctuation">.</span>category<span class="token punctuation">.</span>name            json_dict<span class="token punctuation">[</span><span class="token string">'market_price'</span><span class="token punctuation">]</span> <span class="token operator">=</span> good<span class="token punctuation">.</span>market_price            json_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>json_dict<span class="token punctuation">)</span>        <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>json_list<span class="token punctuation">)</span><span class="token punctuation">,</span> content_type<span class="token operator">=</span><span class="token string">'application/json'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>创建类继承django.view.View</li><li>使用ORM 取出数据</li><li>循环取出的数据组成字典，加入列表</li><li>使用json.dumps()将字典数据转成json数据</li><li>使用HttpResponse()返回数据并指定content_type=’application/json’</li></ul><h3 id="使用django的model-to-dict"><a href="#使用django的model-to-dict" class="headerlink" title="使用django的model_to_dict"></a>使用django的model_to_dict</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>forms<span class="token punctuation">.</span>models <span class="token keyword">import</span> model_to_dict<span class="token keyword">class</span> <span class="token class-name">GoodsView</span><span class="token punctuation">(</span>View<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">:</span>        json_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        goods <span class="token operator">=</span> models<span class="token punctuation">.</span>Goods<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> good <span class="token keyword">in</span> goods<span class="token punctuation">:</span>            json_dict <span class="token operator">=</span> model_to_dict<span class="token punctuation">(</span>good<span class="token punctuation">)</span>            json_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>json_dict<span class="token punctuation">)</span>        <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>json_list<span class="token punctuation">)</span><span class="token punctuation">,</span> content_type<span class="token operator">=</span><span class="token string">'application/json'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>从django.forms.models 导入model_to_dict</li><li>使用json_dict = model_to_dict(good) 将<strong>一个</strong>实例转成字典类型</li></ul><h3 id="使用django的serializer"><a href="#使用django的serializer" class="headerlink" title="使用django的serializer"></a>使用django的serializer</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>core <span class="token keyword">import</span> serializers<span class="token keyword">class</span> <span class="token class-name">GoodsView</span><span class="token punctuation">(</span>View<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">:</span>        goods <span class="token operator">=</span> models<span class="token punctuation">.</span>Goods<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span>        json_list <span class="token operator">=</span> serializers<span class="token punctuation">.</span>serialize<span class="token punctuation">(</span>format<span class="token operator">=</span><span class="token string">'json'</span><span class="token punctuation">,</span> queryset<span class="token operator">=</span>goods<span class="token punctuation">)</span>        json_data <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>json_list<span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># return JsonResponse(json_data, safe=False)</span>        <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>json_data<span class="token punctuation">)</span><span class="token punctuation">,</span> content_type<span class="token operator">=</span><span class="token string">'application/json'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>从django.core 导入serializers</li><li>使用serializers.serializer()序列化一个queryset，format选择json</li><li>经过serializers.serializer()序列化后的结果是一个str，在使用json.loads()转换为dict</li><li>使用HttpResponse或JsonResponse返回数据（HttpResponse需要在把dict数据dumps成json数据，JsonResponse类不需要）</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Django-MEDIA路径配置</title>
      <link href="/2020/01/16/django/django-media-lu-jing-pei-zhi/"/>
      <url>/2020/01/16/django/django-media-lu-jing-pei-zhi/</url>
      
        <content type="html"><![CDATA[<h2 id="settings"><a href="#settings" class="headerlink" title="settings"></a>settings</h2><ul><li>在setting中设置MEDIA根目录以及url<pre class="line-numbers language-python"><code class="language-python">MEDIA_URL <span class="token operator">=</span> <span class="token string">'/media/'</span>MEDIA_ROOT <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span> <span class="token string">'media'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li>设置TEMPLATES<br>如果需要在模板文件中使用&#123;&#123;MEDIA_URL&#125;&#125;，需要设置settings中的TEMPLATES<pre class="line-numbers language-python"><code class="language-python"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><p>TEMPLATES = [<br>    {<br>        ‘BACKEND’: ‘django.template.backends.django.DjangoTemplates’,<br>        ‘DIRS’: [os.path.join(BASE_DIR, ‘templates’)]<br>        ,<br>        ‘APP_DIRS’: True,<br>        ‘OPTIONS’: {<br>            ‘context_processors’: [<br>                ‘django.template.context_processors.debug’,<br>                ‘django.template.context_processors.request’,<br>                ‘django.contrib.auth.context_processors.auth’,<br>                ‘django.contrib.messages.context_processors.messages’,<br>                # 添加一项<br>                ‘django.template.context_processors.media’,<br>            ],<br>        },<br>    },<br>]</p><pre><code>## 设置url处理 media 信息，用于图片获取```pythonfrom MxShop.settings import MEDIA_ROOTfrom django.views.static import serveurlpatterns = [    url(r&#39;^media/(?P&lt;path&gt;.*)$&#39;, serve, {&quot;document_root&quot;: MEDIA_ROOT}),]</code></pre>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Django </tag>
            
            <tag> 配置 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Django-配置使用xadmin</title>
      <link href="/2020/01/15/django/django-pei-zhi-shi-yong-xadmin/"/>
      <url>/2020/01/15/django/django-pei-zhi-shi-yong-xadmin/</url>
      
        <content type="html"><![CDATA[<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="pip安装"><a href="#pip安装" class="headerlink" title="pip安装"></a>pip安装</h3><p>适用与django2 + py3</p><ul><li>pip安装<pre><code>pip install xadmin</code></pre></li><li>github source<pre><code>pip install git+git://github.com/sshwsfc/xadmin.git</code></pre><a href="https://github.com/sshwsfc/xadmin" target="_blank" rel="noopener">github源码仓库</a><br>下载源码后复制xadmin文件到相应位置（第三方app文件夹等）</li></ul><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h3><p>在<app>目录下新建adminx.py文件，并导入xadmin，使用xadmin.site.register对模型进行注册</app></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> xadmin<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> models<span class="token keyword">class</span> <span class="token operator">&lt;</span>AppModelAdmin<span class="token operator">></span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span>xadmin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token operator">&lt;</span>model<span class="token punctuation">.</span>ModelName<span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>AppModelAdmin<span class="token operator">></span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="模型编辑相关设置"><a href="#模型编辑相关设置" class="headerlink" title="模型编辑相关设置"></a>模型编辑相关设置</h3><table><thead><tr><th>属性</th><th>功能</th></tr></thead><tbody><tr><td>list_display</td><td>指定列表页显示字段列表</td></tr><tr><td>search_fields</td><td>添加搜索字段</td></tr><tr><td>list_editable</td><td>指定字段可在列表页进行编辑，无需进入详情页</td></tr><tr><td>list_filter</td><td>列表页过滤字段</td></tr><tr><td>inlines</td><td>用于编辑一对多关联模型的数据。指定一个列表，元素为类，类的属性指定模型的关联模型，默认新增数量，风格（one，accordion，tab，stacked，table）</td></tr></tbody></table><p>示例</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">GoodsAdmin</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""商品"""</span>    list_display <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"click_num"</span><span class="token punctuation">,</span> <span class="token string">"sold_num"</span><span class="token punctuation">,</span> <span class="token string">"fav_num"</span><span class="token punctuation">,</span> <span class="token string">"goods_num"</span><span class="token punctuation">,</span> <span class="token string">"market_price"</span><span class="token punctuation">,</span>                    <span class="token string">"shop_price"</span><span class="token punctuation">,</span> <span class="token string">"goods_brief"</span><span class="token punctuation">,</span> <span class="token string">"goods_desc"</span><span class="token punctuation">,</span> <span class="token string">"is_new"</span><span class="token punctuation">,</span> <span class="token string">"is_hot"</span><span class="token punctuation">,</span> <span class="token string">"add_time"</span><span class="token punctuation">]</span>    search_fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">]</span>    list_editable <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"is_hot"</span><span class="token punctuation">,</span> <span class="token punctuation">]</span>    list_filter <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"click_num"</span><span class="token punctuation">,</span> <span class="token string">"sold_num"</span><span class="token punctuation">,</span> <span class="token string">"fav_num"</span><span class="token punctuation">,</span> <span class="token string">"goods_num"</span><span class="token punctuation">,</span> <span class="token string">"market_price"</span><span class="token punctuation">,</span> <span class="token string">"shop_price"</span><span class="token punctuation">,</span> <span class="token string">"is_new"</span><span class="token punctuation">,</span> <span class="token string">"is_hot"</span><span class="token punctuation">,</span> <span class="token string">"add_time"</span><span class="token punctuation">,</span> <span class="token string">"category__name"</span><span class="token punctuation">]</span>    style_fields <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"goods_desc"</span><span class="token punctuation">:</span> <span class="token string">"ueditor"</span><span class="token punctuation">}</span>    <span class="token keyword">class</span> <span class="token class-name">GoodsImagesInline</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>        model <span class="token operator">=</span> models<span class="token punctuation">.</span>GoodsImage        exclude <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"add_time"</span><span class="token punctuation">]</span>        extra <span class="token operator">=</span> <span class="token number">1</span>        style <span class="token operator">=</span> <span class="token string">'tab'</span>    inlines <span class="token operator">=</span> <span class="token punctuation">[</span>GoodsImagesInline<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="修改显示app名称"><a href="#修改显示app名称" class="headerlink" title="修改显示app名称"></a>修改显示app名称</h3><ul><li>修改app下apps.py的<app_name>Config类，新增verbose_name 属性指定app名称，要求在settings注册app时，要使用<app_name>.apps.<app_name>Config的方式注册</app_name></app_name></app_name></li><li>上述方式settings的注册方式为<app_name>时，需要在app下的<strong>init</strong>.py文件中加入 default_app_config = “<app_name>.apps.<app_name>Config”指定app信息的类</app_name></app_name></app_name></li></ul><h3 id="筛选外键内容"><a href="#筛选外键内容" class="headerlink" title="筛选外键内容"></a>筛选外键内容</h3><p>如在表单中过滤外键的显示内容，参考以下代码</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">GoodsBrandAdmin</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""品牌"""</span>    list_display <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"category"</span><span class="token punctuation">,</span> <span class="token string">"image"</span><span class="token punctuation">,</span> <span class="token string">"desc"</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">get_context</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        context <span class="token operator">=</span> super<span class="token punctuation">(</span>GoodsBrandAdmin<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>get_context<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token string">'form'</span> <span class="token keyword">in</span> context<span class="token punctuation">:</span>            context<span class="token punctuation">[</span><span class="token string">'form'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fields<span class="token punctuation">[</span><span class="token string">'category'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>queryset <span class="token operator">=</span> models<span class="token punctuation">.</span>GoodsCategory<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>category_type<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>context<span class="token punctuation">[</span><span class="token string">'form'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fields<span class="token punctuation">[</span><span class="token string">'category'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>queryset<span class="token punctuation">)</span>        <span class="token keyword">return</span> context<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Django-多对多关系中间表添加附加信息</title>
      <link href="/2020/01/12/django/django-duo-dui-duo-guan-xi-zhong-jian-biao-tian-jia-fu-jia-xin-xi/"/>
      <url>/2020/01/12/django/django-duo-dui-duo-guan-xi-zhong-jian-biao-tian-jia-fu-jia-xin-xi/</url>
      
        <content type="html"><![CDATA[<p>在多对多关系中间表添加附加信息，需要定义中间表，并外键关联两个表。然后在定义多对多字段时使用through参数制定定义的中间表。</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>    name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">128</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>name<span class="token keyword">class</span> <span class="token class-name">Group</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>    name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">128</span><span class="token punctuation">)</span>    members <span class="token operator">=</span> models<span class="token punctuation">.</span>ManyToManyField<span class="token punctuation">(</span>Person<span class="token punctuation">,</span> through<span class="token operator">=</span><span class="token string">'Membership'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>name<span class="token keyword">class</span> <span class="token class-name">Membership</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>    person <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span>Person<span class="token punctuation">,</span> on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>CASCADE<span class="token punctuation">)</span>    group <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span>Group<span class="token punctuation">,</span> on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>CASCADE<span class="token punctuation">)</span>    date_joined <span class="token operator">=</span> models<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span><span class="token punctuation">)</span>    invite_reason <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">64</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Django-拓展User模型</title>
      <link href="/2020/01/11/django/django-tuo-zhan-user-mo-xing/"/>
      <url>/2020/01/11/django/django-tuo-zhan-user-mo-xing/</url>
      
        <content type="html"><![CDATA[<h2 id="继承AbstractUser"><a href="#继承AbstractUser" class="headerlink" title="继承AbstractUser"></a>继承AbstractUser</h2><h3 id="编写用户拓展模型"><a href="#编写用户拓展模型" class="headerlink" title="编写用户拓展模型"></a>编写用户拓展模型</h3><p>models.py</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models<span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>models <span class="token keyword">import</span> AbstractUser<span class="token comment" spellcheck="true"># Create your models here.</span><span class="token keyword">class</span> <span class="token class-name">UserProfile</span><span class="token punctuation">(</span>AbstractUser<span class="token punctuation">)</span><span class="token punctuation">:</span>    nickname <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span><span class="token string">"昵称"</span><span class="token punctuation">,</span> max_length<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span>    birday <span class="token operator">=</span> models<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span>verbose_name<span class="token operator">=</span><span class="token string">'生日'</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>    gender <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>choices<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"male"</span><span class="token punctuation">,</span> <span class="token string">"男"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">"female"</span><span class="token punctuation">,</span> <span class="token string">"女"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">"female"</span><span class="token punctuation">,</span> max_length<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span>    address <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span><span class="token string">"地址"</span><span class="token punctuation">,</span> max_length<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span>    mobile <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span><span class="token string">"电话"</span><span class="token punctuation">,</span> max_length<span class="token operator">=</span><span class="token number">11</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>    image <span class="token operator">=</span> models<span class="token punctuation">.</span>ImageField<span class="token punctuation">(</span>verbose_name<span class="token operator">=</span><span class="token string">"头像"</span><span class="token punctuation">,</span> upload_to<span class="token operator">=</span><span class="token string">"image/%Y?%m"</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token string">"image/default.png"</span><span class="token punctuation">)</span>    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>        verbose_name <span class="token operator">=</span> <span class="token string">"用户信息"</span>        verbose_name_plural <span class="token operator">=</span> verbose_name    <span class="token keyword">def</span> <span class="token function">__unicode__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>username<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><p>修改settings文件,加入一行</p><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># AUTH_USER_MODEL = '&lt;app_name>.&lt;user_model_name></span>AUTH_USER_MODEL <span class="token operator">=</span> <span class="token string">'users.UserProfile'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>7-Djano-自定义Admin站点</title>
      <link href="/2020/01/09/django/7-djano-zi-ding-yi-admin-zhan-dian/"/>
      <url>/2020/01/09/django/7-djano-zi-ding-yi-admin-zhan-dian/</url>
      
        <content type="html"><![CDATA[<h2 id="自定义后台表单"><a href="#自定义后台表单" class="headerlink" title="自定义后台表单"></a>自定义后台表单</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Question<span class="token comment" spellcheck="true"># @admin.register(Question)</span><span class="token keyword">class</span> <span class="token class-name">QuestionAdmin</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>ModelAdmin<span class="token punctuation">)</span><span class="token punctuation">:</span>    fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'pub_date'</span><span class="token punctuation">,</span> <span class="token string">'question_text'</span><span class="token punctuation">]</span>admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>Question<span class="token punctuation">,</span> QuestionAdmin<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>通过fields可以设置后台表单显示编辑的字段</li><li>可以通过@admin.register()装饰器注册模型</li></ul><h3 id="分字段集显示字段"><a href="#分字段集显示字段" class="headerlink" title="分字段集显示字段"></a>分字段集显示字段</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">QuestionAdmin</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>ModelAdmin<span class="token punctuation">)</span><span class="token punctuation">:</span>    fieldsets <span class="token operator">=</span> <span class="token punctuation">[</span>        <span class="token punctuation">(</span>None<span class="token punctuation">,</span>               <span class="token punctuation">{</span><span class="token string">'fields'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'question_text'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">(</span><span class="token string">'Date information'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'fields'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'pub_date'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>通过fieldsets属性设置字段集的分组</li></ul><h3 id="添加关联对象"><a href="#添加关联对象" class="headerlink" title="添加关联对象"></a>添加关联对象</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># ...</span><span class="token keyword">class</span> <span class="token class-name">ChoiceInline</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>StackedInline<span class="token punctuation">)</span><span class="token punctuation">:</span>    model <span class="token operator">=</span> Choice    extra <span class="token operator">=</span> <span class="token number">3</span><span class="token keyword">class</span> <span class="token class-name">QuestionAdmin</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>ModelAdmin<span class="token punctuation">)</span><span class="token punctuation">:</span>    fieldsets <span class="token operator">=</span> <span class="token punctuation">[</span>        <span class="token punctuation">(</span>None<span class="token punctuation">,</span>               <span class="token punctuation">{</span><span class="token string">'fields'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'question_text'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">(</span><span class="token string">'Date information'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'fields'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'pub_date'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'classes'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'collapse'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span>    inlines <span class="token operator">=</span> <span class="token punctuation">[</span>ChoiceInline<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># ...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>通过inlines可以设置在编辑界面默认提供3个选项字段</li><li>ChoiceInline需要指定选项的模型、默认显示的选项个数</li><li>继承admin.TabularInline 会让选项显得更加紧凑</li></ul><h2 id="定制列表页"><a href="#定制列表页" class="headerlink" title="定制列表页"></a>定制列表页</h2><p>admin.py</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">QuestionAdmin</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>ModelAdmin<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># ...</span>    list_display <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'question_text'</span><span class="token punctuation">,</span> <span class="token string">'pub_date'</span><span class="token punctuation">,</span> <span class="token string">'was_published_recently'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>models.py</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Question</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># ...</span>    <span class="token keyword">def</span> <span class="token function">was_published_recently</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        now <span class="token operator">=</span> timezone<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> now <span class="token operator">-</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> self<span class="token punctuation">.</span>pub_date <span class="token operator">&lt;=</span> now    was_published_recently<span class="token punctuation">.</span>admin_order_field <span class="token operator">=</span> <span class="token string">'pub_date'</span>    was_published_recently<span class="token punctuation">.</span>boolean <span class="token operator">=</span> <span class="token boolean">True</span>    was_published_recently<span class="token punctuation">.</span>short_description <span class="token operator">=</span> <span class="token string">'Published recently?'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>list_display设置列表页显示的字段</li><li>admin_order_field 可以设置排序依据字段</li><li>boolean 可是设置是否时返回布尔值的图标</li><li>short_description 定制admin表列名</li></ul><h3 id="为列表页设置过滤器"><a href="#为列表页设置过滤器" class="headerlink" title="为列表页设置过滤器"></a>为列表页设置过滤器</h3><p>admin.py</p><pre class="line-numbers language-python"><code class="language-python">list_filter <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'pub_date'</span><span class="token punctuation">]</span>search_fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'question_text'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>lsit_filter 在侧边生成筛选栏</li><li>search_fields 在顶部生成搜索栏</li></ul>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>6-Django-静态文件</title>
      <link href="/2020/01/09/django/6-django-jing-tai-wen-jian/"/>
      <url>/2020/01/09/django/6-django-jing-tai-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>来源<a href="https://docs.djangoproject.com/zh-hans/3.0/intro/tutorial06/" target="_blank" rel="noopener">第6节: 静态文件</a></p><h2 id="简单配置"><a href="#简单配置" class="headerlink" title="简单配置"></a>简单配置</h2><ul><li>将静态文件放在app下的static文件夹中，django会自动查找这些文件</li><li>建议放入<app_name>/static/<app_name>/中，防止命名冲突</app_name></app_name></li></ul><h2 id="在模板文件中引用静态文件"><a href="#在模板文件中引用静态文件" class="headerlink" title="在模板文件中引用静态文件"></a>在模板文件中引用静态文件</h2><pre class="line-numbers language-html"><code class="language-html">{% load static %}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{% static <span class="token punctuation">'</span>polls/style.css<span class="token punctuation">'</span> %}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>使用&#123;% load static %&#125;加载静态文件路径&#123;% static ‘polls/style.css’ %&#125;引用静态文件</li></ul>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
            <tag> 基础 </tag>
            
            <tag> Django官方文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5-Django-测试</title>
      <link href="/2020/01/09/django/5-django-ce-shi/"/>
      <url>/2020/01/09/django/5-django-ce-shi/</url>
      
        <content type="html"><![CDATA[<p>来源：<a href="https://docs.djangoproject.com/zh-hans/3.0/intro/tutorial05/" target="_blank" rel="noopener"> 第5节: 测试</a></p><ul><li>Django的test代码写在app下的test.py文件中</li><li>运行python manage.py test <app_name>，运行测试</app_name></li><li>测试类继承 django.test.TestCase</li><li>要运行的测试方法以test开头</li></ul><h2 id="一个简单的测试示例"><a href="#一个简单的测试示例" class="headerlink" title="一个简单的测试示例"></a>一个简单的测试示例</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> datetime<span class="token keyword">from</span> django<span class="token punctuation">.</span>test <span class="token keyword">import</span> TestCase<span class="token keyword">from</span> django<span class="token punctuation">.</span>utils <span class="token keyword">import</span> timezone<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Question<span class="token keyword">class</span> <span class="token class-name">QuestionModelTests</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">test_was_published_recently_with_future_question</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""        was_published_recently() returns False for questions whose pub_date        is in the future.        """</span>        time <span class="token operator">=</span> timezone<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span>        future_question <span class="token operator">=</span> Question<span class="token punctuation">(</span>pub_date<span class="token operator">=</span>time<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertIs<span class="token punctuation">(</span>future_question<span class="token punctuation">.</span>was_published_recently<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>创建一个日期为30天后的问题</li><li>assertIs 断言方法将判断模型的方法是否返回False</li></ul><h2 id="测试视图"><a href="#测试视图" class="headerlink" title="测试视图"></a>测试视图</h2><p>可以使用django提供的Client模拟用户和视图层代码的交互工作</p><p><strong>test.py</strong></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">create_question</span><span class="token punctuation">(</span>question_text<span class="token punctuation">,</span> days<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    Create a question with the given `question_text` and published the    given number of `days` offset to now (negative for questions published    in the past, positive for questions that have yet to be published).    """</span>    time <span class="token operator">=</span> timezone<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span>days<span class="token punctuation">)</span>    <span class="token keyword">return</span> Question<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>question_text<span class="token operator">=</span>question_text<span class="token punctuation">,</span> pub_date<span class="token operator">=</span>time<span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">QuestionIndexViewTests</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">test_no_questions</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""        If no questions exist, an appropriate message is displayed.        """</span>        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'polls:index'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertContains<span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token string">"No polls are available."</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertQuerysetEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'latest_question_list'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>使用client请求url获取响应</li><li>self.assertEqual(response.status_code, 200)断言服务段返回状态码为200</li><li>self.assertContains(response, “No polls are available.”)断言响应内容包含“No polls are available.”</li><li>self.assertQuerysetEqual(response.context[‘latest_question_list’], [])断言上下文返回问题列表为空</li></ul>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 基础 </tag>
            
            <tag> Ddjango </tag>
            
            <tag> Django官方文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4-表单和通用视图</title>
      <link href="/2020/01/06/django/4-biao-dan-he-tong-yong-shi-tu/"/>
      <url>/2020/01/06/django/4-biao-dan-he-tong-yong-shi-tu/</url>
      
        <content type="html"><![CDATA[<h2 id="一个简单的表单模板"><a href="#一个简单的表单模板" class="headerlink" title="一个简单的表单模板"></a>一个简单的表单模板</h2><pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>{{ question.question_text }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>{% if error_message %}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>{{ error_message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>{% endif %}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{% url <span class="token punctuation">'</span>polls:vote<span class="token punctuation">'</span> question.id %}<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{% csrf_token %}{% for choice in question.choice_set.all %}    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>choice<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>choice{{ forloop.counter }}<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{ choice.id }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>choice{{ forloop.counter }}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ choice.choice_text }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>{% endfor %}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Vote<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>单选按钮的value为每个Choice的id</li><li>forloop.counte可以获取循环的次数</li><li>&#123;% csrf_token %&125;可以防治跨站请求伪造</li></ul><h2 id="配合模板的view"><a href="#配合模板的view" class="headerlink" title="配合模板的view"></a>配合模板的view</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpResponse<span class="token punctuation">,</span> HttpResponseRedirect<span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> get_object_or_404<span class="token punctuation">,</span> render<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> reverse<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Choice<span class="token punctuation">,</span> Question<span class="token comment" spellcheck="true"># ...</span><span class="token keyword">def</span> <span class="token function">vote</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> question_id<span class="token punctuation">)</span><span class="token punctuation">:</span>    question <span class="token operator">=</span> get_object_or_404<span class="token punctuation">(</span>Question<span class="token punctuation">,</span> pk<span class="token operator">=</span>question_id<span class="token punctuation">)</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        selected_choice <span class="token operator">=</span> question<span class="token punctuation">.</span>choice_set<span class="token punctuation">.</span>get<span class="token punctuation">(</span>pk<span class="token operator">=</span>request<span class="token punctuation">.</span>POST<span class="token punctuation">[</span><span class="token string">'choice'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">except</span> <span class="token punctuation">(</span>KeyError<span class="token punctuation">,</span> Choice<span class="token punctuation">.</span>DoesNotExist<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true"># Redisplay the question voting form.</span>        <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'polls/detail.html'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>            <span class="token string">'question'</span><span class="token punctuation">:</span> question<span class="token punctuation">,</span>            <span class="token string">'error_message'</span><span class="token punctuation">:</span> <span class="token string">"You didn't select a choice."</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        selected_choice<span class="token punctuation">.</span>votes <span class="token operator">+=</span> <span class="token number">1</span>        selected_choice<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># Always return an HttpResponseRedirect after successfully dealing</span>        <span class="token comment" spellcheck="true"># with POST data. This prevents data from being posted twice if a</span>        <span class="token comment" spellcheck="true"># user hits the Back button.</span>        <span class="token keyword">return</span> HttpResponseRedirect<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'polls:results'</span><span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>question<span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>request.POST 可以获取post的数据，字典格式</li><li>reqeust.POST 没有内容将依法一个错误，要求用户重新选择一个选项</li><li>获取用户选择的投票，增加票数，HttpResponseRedirect会将链接重定向</li><li>reverse()函数避免使用硬编码url，接受url的那么参数，转换成对应的url。</li></ul><h3 id="结果页"><a href="#结果页" class="headerlink" title="结果页"></a>结果页</h3><p>view.py</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> get_object_or_404<span class="token punctuation">,</span> render<span class="token keyword">def</span> <span class="token function">results</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> question_id<span class="token punctuation">)</span><span class="token punctuation">:</span>    question <span class="token operator">=</span> get_object_or_404<span class="token punctuation">(</span>Question<span class="token punctuation">,</span> pk<span class="token operator">=</span>question_id<span class="token punctuation">)</span>    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'polls/results.html'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'question'</span><span class="token punctuation">:</span> question<span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>results.html</p><pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>{{ question.question_text }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>{% for choice in question.choice_set.all %}    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>{{ choice.choice_text }} -- {{ choice.votes }} vote{{ choice.votes|pluralize }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>{% endfor %}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{% url <span class="token punctuation">'</span>polls:detail<span class="token punctuation">'</span> question.id %}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Vote again?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="通用视图"><a href="#通用视图" class="headerlink" title="通用视图"></a>通用视图</h2><p>urls.py</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> viewsapp_name <span class="token operator">=</span> <span class="token string">'polls'</span>urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>IndexView<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    path<span class="token punctuation">(</span><span class="token string">'&lt;int:pk>/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>DetailView<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'detail'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    path<span class="token punctuation">(</span><span class="token string">'&lt;int:pk>/results/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>ResultsView<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'results'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    path<span class="token punctuation">(</span><span class="token string">'&lt;int:question_id>/vote/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>vote<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'vote'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>views.py</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpResponseRedirect<span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> get_object_or_404<span class="token punctuation">,</span> render<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> reverse<span class="token keyword">from</span> django<span class="token punctuation">.</span>views <span class="token keyword">import</span> generic<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Choice<span class="token punctuation">,</span> Question<span class="token keyword">class</span> <span class="token class-name">IndexView</span><span class="token punctuation">(</span>generic<span class="token punctuation">.</span>ListView<span class="token punctuation">)</span><span class="token punctuation">:</span>    template_name <span class="token operator">=</span> <span class="token string">'polls/index.html'</span>    context_object_name <span class="token operator">=</span> <span class="token string">'latest_question_list'</span>    <span class="token keyword">def</span> <span class="token function">get_queryset</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""Return the last five published questions."""</span>        <span class="token keyword">return</span> Question<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>order_by<span class="token punctuation">(</span><span class="token string">'-pub_date'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token keyword">class</span> <span class="token class-name">DetailView</span><span class="token punctuation">(</span>generic<span class="token punctuation">.</span>DetailView<span class="token punctuation">)</span><span class="token punctuation">:</span>    model <span class="token operator">=</span> Question    template_name <span class="token operator">=</span> <span class="token string">'polls/detail.html'</span><span class="token keyword">class</span> <span class="token class-name">ResultsView</span><span class="token punctuation">(</span>generic<span class="token punctuation">.</span>DetailView<span class="token punctuation">)</span><span class="token punctuation">:</span>    model <span class="token operator">=</span> Question    template_name <span class="token operator">=</span> <span class="token string">'polls/results.html'</span><span class="token keyword">def</span> <span class="token function">vote</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> question_id<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment" spellcheck="true"># same as above, no changes needed.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ListView和DetailView分别用于显示一个对象列表和一个特定类型的对象详细信息</li><li>每个通用视图都要提供model</li><li>DetailView需要在url中捕获pk的值，url中需要传入id值</li><li>template_name 指定使用的模板，不指定将使用默认模板。ListView： <app name>/<model name>_list.html、DetailView： <app name>/<model name>_detail.html</model></app></model></app></li><li>context_object_name 指定上线问变量的名称，默认为model的小写形式</li></ul>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
            <tag> 基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.Django-视图与模板</title>
      <link href="/2020/01/05/django/3.django-shi-tu-yu-mo-ban/"/>
      <url>/2020/01/05/django/3.django-shi-tu-yu-mo-ban/</url>
      
        <content type="html"><![CDATA[<h2 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h2><ul><li>django视图必需返回一个HttpResponse对象或抛出一个异常。</li><li>视图可以从url中接受参数</li></ul><p>urls.py</p><pre class="line-numbers language-python"><code class="language-python">urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>    path<span class="token punctuation">(</span><span class="token string">'&lt;int:question_id>/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>detail<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'detail'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>views.py</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">detail</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> question_id<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">"You're looking at question %s."</span> <span class="token operator">%</span> question_id<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="在视图中填充并返回模板"><a href="#在视图中填充并返回模板" class="headerlink" title="在视图中填充并返回模板"></a>在视图中填充并返回模板</h3><pre class="line-numbers language-pyhton"><code class="language-pyhton">from django.http import HttpResponsefrom django.template import loaderfrom .models import Questiondef index(request):    latest_question_list = Question.objects.order_by('-pub_date')[:5]    template = loader.get_template('polls/index.html')    context = {        'latest_question_list': latest_question_list,    }    return HttpResponse(template.render(context, request))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>使用loader加载模板，并调用render讲上下文内容填充返回客户端。</p><h3 id="使用快捷函数render"><a href="#使用快捷函数render" class="headerlink" title="使用快捷函数render()"></a>使用快捷函数render()</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Question<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>    latest_question_list <span class="token operator">=</span> Question<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>order_by<span class="token punctuation">(</span><span class="token string">'-pub_date'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>    context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'latest_question_list'</span><span class="token punctuation">:</span> latest_question_list<span class="token punctuation">}</span>    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'polls/index.html'</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>使用render()函数可以更方便的渲染并返回魔板</p><h3 id="抛出404异常"><a href="#抛出404异常" class="headerlink" title="抛出404异常"></a>抛出404异常</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> Http404<span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Question<span class="token comment" spellcheck="true"># ...</span><span class="token keyword">def</span> <span class="token function">detail</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> question_id<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        question <span class="token operator">=</span> Question<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span>pk<span class="token operator">=</span>question_id<span class="token punctuation">)</span>    <span class="token keyword">except</span> Question<span class="token punctuation">.</span>DoesNotExist<span class="token punctuation">:</span>        <span class="token keyword">raise</span> Http404<span class="token punctuation">(</span><span class="token string">"Question does not exist"</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'polls/detail.html'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'question'</span><span class="token punctuation">:</span> question<span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>当尝试获取一个对象示例发生DoesNotExist异常时，说明没有找到该对象，使用raise引发一个Http404异常</p><h3 id="快捷函数get-object-or-404"><a href="#快捷函数get-object-or-404" class="headerlink" title="快捷函数get_object_or_404()"></a>快捷函数get_object_or_404()</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> get_object_or_404<span class="token punctuation">,</span> render<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Question<span class="token comment" spellcheck="true"># ...</span><span class="token keyword">def</span> <span class="token function">detail</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> question_id<span class="token punctuation">)</span><span class="token punctuation">:</span>    question <span class="token operator">=</span> get_object_or_404<span class="token punctuation">(</span>Question<span class="token punctuation">,</span> pk<span class="token operator">=</span>question_id<span class="token punctuation">)</span>    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'polls/detail.html'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'question'</span><span class="token punctuation">:</span> question<span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>该函数接受一个模型参数，并将任意关键字参数传入，如果找到就正常返回，如果没有找到则返回404</p><h2 id="模板使用"><a href="#模板使用" class="headerlink" title="模板使用"></a>模板使用</h2><ul><li>可以在app目录下建立template目录用于存放模板</li><li>由于settings中TEMPLATES的设置，放在app/template下的模板文件无需其他设置，即可被django即可找到这个位置</li><li>最好将模板文件放在app/template/app/下，防止同名模板出现查找问题</li></ul><p>index.html</p><pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>{{ question.question_text }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>{% for choice in question.choice_set.all %}    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>{{ choice.choice_text }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>{% endfor %}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>模板使用点符号访问变量属性</li><li>&#123;&#123; &#125;&#125; 中可以存放变量</li><li>&#123;% %&#125;中会被解释为python代码执行</li></ul><h3 id="使用-123-url-125"><a href="#使用-123-url-125" class="headerlink" title="使用&#123;% url %&#125;"></a>使用&#123;% url %&#125;</h3><ul><li>模板中的超链接如果直接使用url地址，当url发生改变时，多个模板无法更细为新的url，比较麻烦</li><li>使用&#123;% url %&#125; 指定url的name即可随时渲染更改后的url</li></ul><pre class="line-numbers language-html"><code class="language-html"># 使用硬编码网址<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/polls/{{ question.id }}/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ question.question_text }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span># 使用{% url %}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{% url <span class="token punctuation">'</span>detail<span class="token punctuation">'</span> question.id %}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ question.question_text }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>‘detail’ 为urls.py 中的name指定</li></ul><pre class="line-numbers language-python"><code class="language-python">path<span class="token punctuation">(</span><span class="token string">'&lt;int:question_id>/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>detail<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'detail'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="为url名称添加命名空间"><a href="#为url名称添加命名空间" class="headerlink" title="为url名称添加命名空间"></a>为url名称添加命名空间</h3><p>如果有多个app的url，可能会出现多个个url重名，这就需要为在URLconf中添加命名空间</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> viewsapp_name <span class="token operator">=</span> <span class="token string">'polls'</span>urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>index<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    path<span class="token punctuation">(</span><span class="token string">'&lt;int:question_id>/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>detail<span class="token punctuation">,</span>     <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>将模板修改执行具有命名空间的详细视图</p><pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{% url <span class="token punctuation">'</span>polls:detail<span class="token punctuation">'</span> question.id %}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ question.question_text }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
            <tag> 基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Django-setting常用设置</title>
      <link href="/2020/01/03/django/django-setting-chang-yong-she-zhi/"/>
      <url>/2020/01/03/django/django-setting-chang-yong-she-zhi/</url>
      
        <content type="html"><![CDATA[<h2 id="设置中国时区"><a href="#设置中国时区" class="headerlink" title="设置中国时区"></a>设置中国时区</h2><pre class="line-numbers language-python"><code class="language-python">TIME_ZONE <span class="token operator">=</span> <span class="token string">'UTC'</span>TIME_ZONE<span class="token operator">=</span><span class="token string">'Asia/Shanghai'</span> <span class="token comment" spellcheck="true"># 中国时区</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="设置中文"><a href="#设置中文" class="headerlink" title="设置中文"></a>设置中文</h2><pre class="line-numbers language-python"><code class="language-python">LANGUAGE_CODE <span class="token operator">=</span> <span class="token string">'zh-hans'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="添加django导入包搜索路径"><a href="#添加django导入包搜索路径" class="headerlink" title="添加django导入包搜索路径"></a>添加django导入包搜索路径</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> sys<span class="token comment" spellcheck="true"># 添加搜索路径</span>sys<span class="token punctuation">.</span>path<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span> <span class="token string">'apps'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.Django-模型和admin站点</title>
      <link href="/2020/01/03/django/2.django-mo-xing-he-admin-zhan-dian/"/>
      <url>/2020/01/03/django/2.django-mo-xing-he-admin-zhan-dian/</url>
      
        <content type="html"><![CDATA[<h2 id="数据库配置"><a href="#数据库配置" class="headerlink" title="数据库配置"></a>数据库配置</h2><p>配置settings中的 DATABASES 变量</p><ul><li>ENGINE 数据库引擎<ul><li>django.db.backends.sqlite3</li><li>django.db.backends.postgresql</li><li>django.db.backends.mysql</li><li>django.db.backends.oracle</li></ul></li><li>NAME 数据库的名称<br>  使用SQLite则指定文件的路径</li></ul><h3 id="mysql配置示例"><a href="#mysql配置示例" class="headerlink" title="mysql配置示例"></a>mysql配置示例</h3><pre class="line-numbers language-python"><code class="language-python">DATABASES <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">'default'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token string">'ENGINE'</span><span class="token punctuation">:</span> <span class="token string">'django.db.backends.mysql'</span><span class="token punctuation">,</span>        <span class="token string">'HOST'</span><span class="token punctuation">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>        <span class="token string">'PORT'</span><span class="token punctuation">:</span> <span class="token number">3306</span><span class="token punctuation">,</span>        <span class="token string">'NAME'</span><span class="token punctuation">:</span> <span class="token string">'crm'</span><span class="token punctuation">,</span>        <span class="token string">'USER'</span><span class="token punctuation">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>        <span class="token string">'PASSWORD'</span><span class="token punctuation">:</span> <span class="token string">'crm2019'</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="设置时区"><a href="#设置时区" class="headerlink" title="设置时区"></a>设置时区</h3><p>setting文件</p><pre class="line-numbers language-python"><code class="language-python">TIME_ZONE <span class="token operator">=</span> <span class="token string">'UTC'</span>TIME_ZONE<span class="token operator">=</span><span class="token string">'Asia/Shanghai'</span> <span class="token comment" spellcheck="true"># 中国时区</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>设置正确时区用于正确处理时间</p><h2 id="迁移数据库"><a href="#迁移数据库" class="headerlink" title="迁移数据库"></a>迁移数据库</h2><p>Django 自带了一些app（INSTALLED_APPS列表中），使用这些app需要先把app所需要的表创建。</p><ul><li><p>生成迁移文件</p><pre><code>python manage.py makemigrations &lt;app_name&gt;</code></pre><blockquote><p>忽略app_name 将为所用installed_apps列表中的app生成迁移文件</p></blockquote></li><li><p>执行迁移</p><pre class="line-numbers language-python"><code class="language-python">python manage<span class="token punctuation">.</span>py migrate <span class="token operator">&lt;</span>app_name<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>忽略app_name 将为所用installed_apps列表中的app生成的迁移文件执行生效</p></blockquote></li><li><p>查看迁移sql语句</p><pre><code>python manage.py sqlmigrate &lt;app_name&gt; &lt;index&gt;</code></pre></li></ul><h2 id="创建模型"><a href="#创建模型" class="headerlink" title="创建模型"></a>创建模型</h2><p>Django的模型用类表示，继承<strong>django.db.models.Model</strong>类</p><p>示例</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models<span class="token keyword">class</span> <span class="token class-name">Question</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>    question_text <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>    pub_date <span class="token operator">=</span> models<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span><span class="token string">'date published'</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Choice</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>    question <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span>Question<span class="token punctuation">,</span> on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>CASCADE<span class="token punctuation">)</span>    choice_text <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>    votes <span class="token operator">=</span> models<span class="token punctuation">.</span>IntegerField<span class="token punctuation">(</span>default<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>每个字段都是Field类的实例，映射到数据库中对应一个字段</li></ul><p>Django常用Field字段参考<br>字段|描述<br>-|-<br>AutoField|自增长字段<br>CharField|字符串类型<br>BoolField|布尔型<br>DateField|日期<br>DateTimeField|日期时间<br>EmailField|会检查是否合法Email地址<br>FileField|存文件的<br>ImageField|继承FileField，存图片的</p><h3 id="字段参数"><a href="#字段参数" class="headerlink" title="字段参数"></a>字段参数</h3><h4 id="所有字段都有的参数"><a href="#所有字段都有的参数" class="headerlink" title="所有字段都有的参数"></a>所有字段都有的参数</h4><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>db_column=””</td><td>数据库中的表名</td></tr><tr><td>primmary_key=True</td><td>设置数据库主键</td></tr><tr><td>verbose_name=””</td><td>设置别名、备注</td></tr><tr><td>unique=True</td><td>设置唯一键</td></tr><tr><td>null=True</td><td>设置允许为空（数据库层级）</td></tr><tr><td>blank=True</td><td>设置允许为空（表达层面）</td></tr><tr><td>db_index</td><td>设置索引字段</td></tr><tr><td>help_text=””</td><td>在表单中显示帮助信息</td></tr><tr><td>editable=Ture</td><td>设置允许用户编辑此字段</td></tr></tbody></table><h3 id="个别字段有的参数"><a href="#个别字段有的参数" class="headerlink" title="个别字段有的参数"></a>个别字段有的参数</h3><ul><li>CharField<ul><li>max_length=100 设置允许的最大长度</li></ul></li><li>Date、DateTime<ul><li>unique_for_date=True  设置日期唯一</li><li>unique_for_month  设置月份唯一</li><li>auto_now=True  设置更新当前记录的时间</li><li>auto_now_add  设置新增当前记录的时间</li></ul></li><li>Deccimal<ul><li>max_digits=4  设置数据总位数为4位</li><li>decimal_places=2  设置小数位数为2位</li></ul></li><li>关系型字段的参数<ul><li>relates_name  父表查询子表时使用</li><li>db_constraint  bool值，是否启用物理外键</li><li>on_delete<blockquote><p>当一个被外键关联的对象被删除时，Django将模仿on_delete参数定义的SQL约束执行相应操作<br>如下6种操作</p></blockquote></li></ul></li></ul><pre><code>    - CASCADE：模拟SQL语言中的ON DELETE CASCADE约束，将定义有外键的模型对象同时删除！（该操作为当前Django版本的默认操作！）    - PROTECT:阻止上面的删除操作，但是弹出ProtectedError异常    - SET_NULL：将外键字段设为null，只有当字段设置了null=True时，方可使用该值。    - SET_DEFAULT:将外键字段设为默认值。只有当字段设置了default参数时，方可使用。    - DO_NOTHING：什么也不做。    - SET()：设置为一个传递给SET()的值或者一个回调函数的返回值。注意大小写</code></pre><h2 id="Django管理界面admin"><a href="#Django管理界面admin" class="headerlink" title="Django管理界面admin"></a>Django管理界面admin</h2><h3 id="创建管理员账号"><a href="#创建管理员账号" class="headerlink" title="创建管理员账号"></a>创建管理员账号</h3><p>执行</p><pre><code>python manage.py createsuperuser</code></pre><p>按照提示输入用户名、密码等信息</p><h3 id="向admin注册app"><a href="#向admin注册app" class="headerlink" title="向admin注册app"></a>向admin注册app</h3><p>在app的admin.py中写</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Questionadmin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>Question<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
            <tag> 基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1. Django-请求与响应</title>
      <link href="/2020/01/03/django/1.django-chuang-jian-xiang-mu/"/>
      <url>/2020/01/03/django/1.django-chuang-jian-xiang-mu/</url>
      
        <content type="html"><![CDATA[<h2 id="Django安装"><a href="#Django安装" class="headerlink" title="Django安装"></a>Django安装</h2><p>直接使用pip</p><pre><code>pip install django</code></pre><h2 id="创建一个Django-项目"><a href="#创建一个Django-项目" class="headerlink" title="创建一个Django 项目"></a>创建一个Django 项目</h2><p>使用django-admin模块</p><pre><code># django-admin startproject &lt;project_name&gt;django-admin startproject mysite</code></pre><h2 id="运行Django项目"><a href="#运行Django项目" class="headerlink" title="运行Django项目"></a>运行Django项目</h2><p>使用Django manage 工具</p><pre><code>python manage.py runserver</code></pre><p>默认端口8000</p><ul><li>也可以指定端口<pre><code>python manage.py runserver 8001</code></pre></li><li>指定IP<pre><code>python manage.py 0:8001</code></pre></li></ul><p>在浏览器打开对应ip+端口可以祝贺页面代表成功</p><blockquote><p>django 自带的web服务器支持热更新，但创建新文件等操作需要手动重启服务</p></blockquote><h2 id="创建一个应用"><a href="#创建一个应用" class="headerlink" title="创建一个应用"></a>创建一个应用</h2><p>使用django manage工具创建应用</p><pre><code>python manage.py start app polls</code></pre><h2 id="编写app视图"><a href="#编写app视图" class="headerlink" title="编写app视图"></a>编写app视图</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpResponse<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">"Hello, world. You're at the polls index."</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="为视图编写路由"><a href="#为视图编写路由" class="headerlink" title="为视图编写路由"></a>为视图编写路由</h3><p>在app的目录下创建urls.py</p><p>编写对应代码<br>*app下的urls.py</p><pre><code>from django.urls import pathfrom . import viewsurlpatterns = [    path(&#39;&#39;, views.index, name=&#39;index&#39;),]</code></pre><p>在项目目录urls.py中插入include()将路由指向app中的路由文件url.py</p><p><em>项目目录下的urls.py</em></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> include<span class="token punctuation">,</span> pathurlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>    path<span class="token punctuation">(</span><span class="token string">'polls/'</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span><span class="token string">'polls.urls'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="path-参数"><a href="#path-参数" class="headerlink" title="path()参数"></a>path()参数</h3><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>route</td><td>url路径，匹配用户访问的路径</td></tr><tr><td>view</td><td>url匹配后调用的视图</td></tr><tr><td>kwargs</td><td>任意个关键字参数可以作为一个字典传递给目标视图函数</td></tr><tr><td>name</td><td>为url命名，主要用在模板中</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
            <tag> 基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>12.Python-多进程、多线程</title>
      <link href="/2019/12/30/python/12.python-duo-jin-cheng-duo-xian-cheng/"/>
      <url>/2019/12/30/python/12.python-duo-jin-cheng-duo-xian-cheng/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>11.python-测试</title>
      <link href="/2019/12/29/python/11.python-ce-shi/"/>
      <url>/2019/12/29/python/11.python-ce-shi/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>10.python-异常</title>
      <link href="/2019/12/28/python/10.python-yi-chang/"/>
      <url>/2019/12/28/python/10.python-yi-chang/</url>
      
        <content type="html"><![CDATA[<h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><ul><li>错误分为错误和异常</li><li>错误可以认为避免</li><li>异常是只语法逻辑正确，出现的问题</li><li>python中，异常是一个类，可以处理使用</li></ul><h3 id="异常的分类"><a href="#异常的分类" class="headerlink" title="异常的分类"></a>异常的分类</h3><table><thead><tr><th>异常名称</th><th>描述</th></tr></thead><tbody><tr><td>BaseException</td><td>所有异常的基类</td></tr><tr><td>SystemExit</td><td>解释器请求退出</td></tr><tr><td>KeyboardInterrupt</td><td>用户中断执行(通常是输入^C)</td></tr><tr><td>Exception</td><td>常规错误的基类</td></tr><tr><td>StopIteration</td><td>迭代器没有更多的值</td></tr><tr><td>GeneratorExit</td><td>生成器(generator)发生异常来通知退出</td></tr><tr><td>StandardError</td><td>所有的内建标准异常的基类</td></tr><tr><td>ArithmeticError</td><td>所有数值计算错误的基类</td></tr><tr><td>FloatingPointError</td><td>浮点计算错误</td></tr><tr><td>OverflowError</td><td>数值运算超出最大限制</td></tr><tr><td>ZeroDivisionError</td><td>除(或取模)零 (所有数据类型)</td></tr><tr><td>AssertionError</td><td>断言语句失败</td></tr><tr><td>AttributeError</td><td>对象没有这个属性</td></tr><tr><td>EOFError</td><td>没有内建输入,到达EOF 标记</td></tr><tr><td>EnvironmentError</td><td>操作系统错误的基类</td></tr><tr><td>IOError</td><td>输入/输出操作失败</td></tr><tr><td>OSError</td><td>操作系统错误</td></tr><tr><td>WindowsError</td><td>系统调用失败</td></tr><tr><td>ImportError</td><td>导入模块/对象失败</td></tr><tr><td>LookupError</td><td>无效数据查询的基类</td></tr><tr><td>IndexError</td><td>序列中没有此索引(index)</td></tr><tr><td>KeyError</td><td>映射中没有这个键</td></tr><tr><td>MemoryError</td><td>内存溢出错误(对于Python 解释器不是致命的)</td></tr><tr><td>NameError</td><td>未声明/初始化对象 (没有属性)</td></tr><tr><td>UnboundLocalError</td><td>访问未初始化的本地变量</td></tr><tr><td>ReferenceError</td><td>弱引用(Weak reference)试图访问已经垃圾回收了的对象</td></tr><tr><td>RuntimeError</td><td>一般的运行时错误</td></tr><tr><td>NotImplementedError</td><td>尚未实现的方法</td></tr><tr><td>SyntaxError</td><td>Python 语法错误</td></tr><tr><td>IndentationError</td><td>缩进错误</td></tr><tr><td>TabError</td><td>Tab 和空格混用</td></tr><tr><td>SystemError</td><td>一般的解释器系统错误</td></tr><tr><td>TypeError</td><td>对类型无效的操作</td></tr><tr><td>ValueError</td><td>传入无效的参数</td></tr><tr><td>UnicodeError</td><td>Unicode 相关的错误</td></tr><tr><td>UnicodeDecodeError</td><td>Unicode 解码时的错误</td></tr><tr><td>UnicodeEncodeError</td><td>Unicode 编码时错误</td></tr><tr><td>UnicodeTranslateError</td><td>Unicode 转换时错误</td></tr><tr><td>Warning</td><td>警告的基类</td></tr><tr><td>DeprecationWarning</td><td>关于被弃用的特征的警告</td></tr><tr><td>FutureWarning</td><td>关于构造将来语义会有改变的警告</td></tr><tr><td>OverflowWarning</td><td>旧的关于自动提升为长整型(long)的警告</td></tr><tr><td>PendingDeprecationWarning</td><td>关于特性将会被废弃的警告</td></tr><tr><td>RuntimeWarning</td><td>可疑的运行时行为(runtime behavior)的警告</td></tr><tr><td>SyntaxWarning</td><td>可疑的语法的警告</td></tr><tr><td>UserWarning</td><td>用户代码生成的警告异常名称</td></tr><tr><td>BaseException</td><td>所有异常的基类</td></tr><tr><td>SystemExit</td><td>解释器请求退出</td></tr><tr><td>KeyboardInterrupt</td><td>用户中断执行(通常是输入^C)</td></tr><tr><td>Exception</td><td>常规错误的基类</td></tr><tr><td>StopIteration</td><td>迭代器没有更多的值</td></tr><tr><td>GeneratorExit</td><td>生成器(generator)发生异常来通知退出</td></tr><tr><td>StandardError</td><td>所有的内建标准异常的基类</td></tr><tr><td>ArithmeticError</td><td>所有数值计算错误的基类</td></tr><tr><td>FloatingPointError</td><td>浮点计算错误</td></tr><tr><td>OverflowError</td><td>数值运算超出最大限制</td></tr><tr><td>ZeroDivisionError</td><td>除(或取模)零 (所有数据类型)</td></tr><tr><td>AssertionError</td><td>断言语句失败</td></tr><tr><td>AttributeError</td><td>对象没有这个属性</td></tr><tr><td>EOFError</td><td>没有内建输入,到达EOF 标记</td></tr><tr><td>EnvironmentError</td><td>操作系统错误的基类</td></tr><tr><td>IOError</td><td>输入/输出操作失败</td></tr><tr><td>OSError</td><td>操作系统错误</td></tr><tr><td>WindowsError</td><td>系统调用失败</td></tr><tr><td>ImportError</td><td>导入模块/对象失败</td></tr><tr><td>LookupError</td><td>无效数据查询的基类</td></tr><tr><td>IndexError</td><td>序列中没有此索引(index)</td></tr><tr><td>KeyError</td><td>映射中没有这个键</td></tr><tr><td>MemoryError</td><td>内存溢出错误(对于Python 解释器不是致命的)</td></tr><tr><td>NameError</td><td>未声明/初始化对象 (没有属性)</td></tr><tr><td>UnboundLocalError</td><td>访问未初始化的本地变量</td></tr><tr><td>ReferenceError</td><td>弱引用(Weak reference)试图访问已经垃圾回收了的对象</td></tr><tr><td>RuntimeError</td><td>一般的运行时错误</td></tr><tr><td>NotImplementedError</td><td>尚未实现的方法</td></tr><tr><td>SyntaxError</td><td>Python 语法错误</td></tr><tr><td>IndentationError</td><td>缩进错误</td></tr><tr><td>TabError</td><td>Tab 和空格混用</td></tr><tr><td>SystemError</td><td>一般的解释器系统错误</td></tr><tr><td>TypeError</td><td>对类型无效的操作</td></tr><tr><td>ValueError</td><td>传入无效的参数</td></tr><tr><td>UnicodeError</td><td>Unicode 相关的错误</td></tr><tr><td>UnicodeDecodeError</td><td>Unicode 解码时的错误</td></tr><tr><td>UnicodeEncodeError</td><td>Unicode 编码时错误</td></tr><tr><td>UnicodeTranslateError</td><td>Unicode 转换时错误</td></tr><tr><td>Warning</td><td>警告的基类</td></tr><tr><td>DeprecationWarning</td><td>关于被弃用的特征的警告</td></tr><tr><td>FutureWarning</td><td>关于构造将来语义会有改变的警告</td></tr><tr><td>OverflowWarning</td><td>旧的关于自动提升为长整型(long)的警告</td></tr><tr><td>PendingDeprecationWarning</td><td>关于特性将会被废弃的警告</td></tr><tr><td>RuntimeWarning</td><td>可疑的运行时行为(runtime behavior)的警告</td></tr><tr><td>SyntaxWarning</td><td>可疑的语法的警告</td></tr><tr><td>UserWarning</td><td>用户代码生成的警告</td></tr></tbody></table><h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><p>python使用try/except语句捕获处理异常</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span>    <span class="token comment" spellcheck="true"># 正常执行语块</span><span class="token keyword">except</span> expression<span class="token punctuation">:</span>    <span class="token keyword">pass</span>    <span class="token comment" spellcheck="true"># 发生对应异常时执行语块</span><span class="token keyword">except</span> <span class="token punctuation">(</span>expression1<span class="token punctuation">,</span> expression2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span>    <span class="token comment" spellcheck="true"># 发生异常若属于其中一种，执行语块</span><span class="token keyword">except</span> expression <span class="token keyword">as</span> identifier<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>identifier<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 可以重命名错误，并使用他</span>    <span class="token keyword">pass</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span>    <span class="token comment" spellcheck="true"># 没有异常发生时执行语块</span><span class="token keyword">finally</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span>    <span class="token comment" spellcheck="true"># 无论异常是否发生，都会执行的语块</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>最少要有try、except两个语块，else和finally是可选的。</li><li>多个except语块自上至下执行第一个错误匹配的且最多执行一个except语块。</li></ul><h2 id="抛出异常"><a href="#抛出异常" class="headerlink" title="抛出异常"></a>抛出异常</h2><p>使用raise语句可以抛出一个指定的异常。</p><h3 id="raise语法"><a href="#raise语法" class="headerlink" title="raise语法"></a>raise语法</h3><p>raise [Exception [, args [, traceback]]]<br>Exception：错误类型<br>args：可选，以元组的形式传递给异常的参数<br>traceback：可选，异常触发时新生成的一个用于异常-正常化的跟踪记录，多用于重新引发异常时</p><h3 id="raise示例"><a href="#raise示例" class="headerlink" title="raise示例"></a>raise示例</h3><pre class="line-numbers language-python"><code class="language-python">x <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> x <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">:</span>    <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">'x 不能大于 5。x 的值为: {}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>如果x大于五就会引发异常</p><h2 id="自定义异常"><a href="#自定义异常" class="headerlink" title="自定义异常"></a>自定义异常</h2><p>通过继承Exceotion类可以自定义一个异常</p><pre class="line-numbers language-python"><code class="language-python">NameError<span class="token keyword">class</span> <span class="token class-name">MyError</span><span class="token punctuation">(</span>Exception<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>value <span class="token operator">=</span> value    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> repr<span class="token punctuation">(</span>self<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 引发这个异常</span><span class="token keyword">raise</span> MyError<span class="token punctuation">(</span><span class="token string">'自定义的异常'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>控制台输出</p><pre><code>Traceback (most recent call last):  File &quot;c:/Users/zhang/OneDrive/study/test/test.py&quot;, line 12, in &lt;module&gt;    raise MyError(&#39;自定义的异常&#39;, 33)TypeError: __init__() takes 2 positional arguments but 3 were given</code></pre>]]></content>
      
      
      <categories>
          
          <category> Python学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习笔记 </tag>
            
            <tag> python </tag>
            
            <tag> 高级 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>9.python-文件</title>
      <link href="/2019/12/28/python/09.python-wen-jian/"/>
      <url>/2019/12/28/python/09.python-wen-jian/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-python"><code class="language-python">f <span class="token operator">=</span> open<span class="token punctuation">(</span>r<span class="token string">'./test.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>contents <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>输出</p><pre><code>静夜思【作者】李白床前明月光，疑是地上霜。举头望明月，低头思故乡。</code></pre><ul><li>使用open打开文件并赋值给变量f</li><li>调用read()方法读取文件全部内容</li><li>调用close()方法 可以关闭文件（文件打开使用完毕后必须关闭）</li></ul><h2 id="open-函数"><a href="#open-函数" class="headerlink" title="open()函数"></a>open()函数</h2><p><a href="https://docs.python.org/zh-cn/3/library/functions.html#open" target="_blank" rel="noopener"><code>open()</code></a> 返回一个 <a href="https://docs.python.org/zh-cn/3/glossary.html#term-file-object" target="_blank" rel="noopener">file object</a>，最常用的有两个参数： <code>open(filename, mode)</code>。</p><p><strong>语法：</strong></p><p><code>open</code>(<em>file</em>, <em>mode=’r’</em>, <em>buffering=-1</em>, <em>encoding=None</em>, <em>errors=None</em>, <em>newline=None</em>, <em>closefd=True</em>, <em>opener=None</em>)</p><p><strong>参数说明:</strong></p><p><em>file</em>: 必需，文件路径（相对或者绝对路径）。<br><em>mode</em>: 可选，文件打开模式<br><em>buffering</em>: 设置缓冲<br><em>encoding</em>: 编码格式 一般使用utf8<br><em>errors</em>: 报错级别<br><em>newline</em>: 区分换行符<br><em>closefd</em>: 传入的file参数类型</p><h3 id="open-mode模式可选值"><a href="#open-mode模式可选值" class="headerlink" title="open mode模式可选值"></a>open mode模式可选值</h3><table><thead><tr><th>模式</th><th>可读</th><th>可写</th><th>已存在文件写入方式</th><th>不存在写入处理方式</th><th>是否二进制</th></tr></thead><tbody><tr><td>r</td><td>✓</td><td>x</td><td>读取</td><td>o</td><td>x</td></tr><tr><td>rb</td><td>✓</td><td>x</td><td>读取</td><td>o</td><td>✓</td></tr><tr><td>r+</td><td>✓</td><td>✓</td><td>从指针处覆盖原内容</td><td>报错</td><td>x</td></tr><tr><td>rb+</td><td>✓</td><td>✓</td><td>从指针处覆盖原内容</td><td>报错</td><td>✓</td></tr><tr><td>w</td><td>x</td><td>✓</td><td>全删重写</td><td>创建写入</td><td>x</td></tr><tr><td>wb</td><td>x</td><td>✓</td><td>全删重写</td><td>创建写入</td><td>✓</td></tr><tr><td>w+</td><td>✓</td><td>✓</td><td>全删重写</td><td>创建写入</td><td>x</td></tr><tr><td>wb+</td><td>✓</td><td>✓</td><td>全删重写</td><td>创建写入</td><td>✓</td></tr><tr><td>x</td><td>✓</td><td>x</td><td>报错</td><td>创建写入</td><td>x</td></tr><tr><td>xb</td><td>✓</td><td>x</td><td>报错</td><td>创建写入</td><td>✓</td></tr><tr><td>x+</td><td>✓</td><td>✓</td><td>报错</td><td>创建写入</td><td>x</td></tr><tr><td>xb+</td><td>✓</td><td>✓</td><td>报错</td><td>创建写入</td><td>✓</td></tr><tr><td>a</td><td>x</td><td>✓</td><td>追加</td><td>创建写入</td><td>x</td></tr><tr><td>ab</td><td>x</td><td>✓</td><td>追加</td><td>创建写入</td><td>✓</td></tr><tr><td>a+</td><td>✓</td><td>✓</td><td>追加</td><td>创建写入</td><td>x</td></tr><tr><td>ab+</td><td>✓</td><td>✓</td><td>追加</td><td>创建写入</td><td>✓</td></tr></tbody></table><p><strong>简单总结模式</strong></p><ul><li>r开头主要是不能创建新文件</li><li>w开头主要是不能追加新内容</li><li>x开头文件存在会报错</li><li>a开头则可以追加内容</li><li>二进制可以写一些图片等文件</li></ul><h2 id="with语句"><a href="#with语句" class="headerlink" title="with语句"></a>with语句</h2><p><strong>with语句主要是可以自动判断文件作用域，在不需要时自动关闭文件，访问文件忘记关闭或过早关闭</strong></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">with</span> open<span class="token punctuation">(</span>r<span class="token string">'./test.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    contents <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="file对象属性方法"><a href="#file对象属性方法" class="headerlink" title="file对象属性方法"></a>file对象属性方法</h2><h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><table><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td>file.close</td><td>检查文件是否关闭，返回bool值</td></tr><tr><td>file.mode</td><td>返回文件打开的模式</td></tr><tr><td>file.name</td><td>返回打开文件的名字</td></tr></tbody></table><h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><table><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td>file.close()</td><td>关闭文件</td></tr><tr><td>file.read(size)</td><td>读取文件内容，size设置读取字节数，为给定返回全部内容</td></tr><tr><td>file.readline(size)</td><td>按行读取，包括/n，size设置读取字节数，会读取到这个字节数所在行的结束位置。</td></tr><tr><td>file.readlines(size)</td><td>按行读取，包括/n，并讲每行当做一个元素组成一个列表，会读取到这个字节数所在行的结束位置。</td></tr><tr><td>flie.write(str)</td><td>写入内容，返回写入内容长度</td></tr><tr><td>file.writelines(sequence)</td><td>向文件写入一个序列字符串列表，如列表、元祖</td></tr><tr><td>file.seek(offset[, whence])</td><td>调整指针位置，offset偏移量，whence可选，默认0：文件头，1：当前位置，2：文件尾</td></tr><tr><td>file.tell()</td><td>返回当前指针位置</td></tr></tbody></table><h2 id="逐行读取"><a href="#逐行读取" class="headerlink" title="逐行读取"></a>逐行读取</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">with</span> open<span class="token punctuation">(</span>r<span class="token string">'./test.txt'</span><span class="token punctuation">,</span> <span class="token string">'r+'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token keyword">for</span> content <span class="token keyword">in</span> f<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>    f<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> content <span class="token keyword">in</span> list<span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Python学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 学习笔记 </tag>
            
            <tag> 高级 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>&lt;转&gt;Gitee(码云)、Github同时配置ssh key</title>
      <link href="/2019/12/26/ruan-jian-an-zhuang-yu-pei-zhi/gitee-ma-yun-github-tong-shi-pei-zhi-ssh-key/"/>
      <url>/2019/12/26/ruan-jian-an-zhuang-yu-pei-zhi/gitee-ma-yun-github-tong-shi-pei-zhi-ssh-key/</url>
      
        <content type="html"><![CDATA[<h2 id="切换ssh文件夹"><a href="#切换ssh文件夹" class="headerlink" title="切换ssh文件夹"></a>切换ssh文件夹</h2><p>cd ~/.ssh</p><h2 id="通过下面的命令，依次生成两个平台的key"><a href="#通过下面的命令，依次生成两个平台的key" class="headerlink" title="通过下面的命令，依次生成两个平台的key"></a>通过下面的命令，依次生成两个平台的key</h2><pre><code>$ ssh-keygen -t rsa -C &quot;xxxxxxx@qq.com&quot; -f &quot;github_id_rsa&quot;$ ssh-keygen -t rsa -C &quot;xxxxxxx@qq.com&quot; -f &quot;gitee_id_rsa&quot;</code></pre><p>完成后，.ssh文件夹生成以下文件</p><p>gitee_id_rsa<br>gitee_id_rsa.pub<br>github_id_rsa<br>github_id_rsa.pub</p><h2 id="把public-key复制到gitee和github"><a href="#把public-key复制到gitee和github" class="headerlink" title="把public key复制到gitee和github"></a>把public key复制到gitee和github</h2><p>把github_id_rsa.pub中内容复制到github的ssh中保存</p><p>同样的操作，添加gitee的ssh</p><h2 id="创建config文件解决ssh冲突"><a href="#创建config文件解决ssh冲突" class="headerlink" title="创建config文件解决ssh冲突"></a>创建config文件解决ssh冲突</h2><p>在.ssh文件夹下执行命令vi config<br>文件中添加以下内容</p><pre class="line-numbers language-shell"><code class="language-shell"># giteeHost gitee.comHostName gitee.comPreferredAuthentications publickeyIdentityFile ~/.ssh/gitee_id_rsa# githubHost github.comHostName github.comPreferredAuthentications publickeyIdentityFile ~/.ssh/github_id_rsa<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>执行</p><pre class="line-numbers language-cmd"><code class="language-cmd">ssh -T git@gitee.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>成功则返回</p><pre class="line-numbers language-cmd"><code class="language-cmd">Welcome to Gitee.com ,yourname!<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>执行</p><pre class="line-numbers language-cmd"><code class="language-cmd">ssh -T git@github.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>成功则返回</p><pre class="line-numbers language-cmd"><code class="language-cmd">Hi xxx! You've successfully authenticated, but GitHub does not provide shell access.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="conf文件权限问题"><a href="#conf文件权限问题" class="headerlink" title="conf文件权限问题"></a>conf文件权限问题</h2><p>Bad owner or permissions on .ssh/config的解决</p><pre class="line-numbers language-shell"><code class="language-shell">sudo chmod 600 config<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>————————————————<br>版权声明：本文为CSDN博主「Allen Leung」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/londa/article/details/92065424" target="_blank" rel="noopener">https://blog.csdn.net/londa/article/details/92065424</a></p>]]></content>
      
      
      <categories>
          
          <category> 软件安装与配置 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> ssh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一个java程序-输出hello world</title>
      <link href="/2019/12/25/java/di-yi-ge-java-cheng-xu-shu-chu-hello-world/"/>
      <url>/2019/12/25/java/di-yi-ge-java-cheng-xu-shu-chu-hello-world/</url>
      
        <content type="html"><![CDATA[<h2 id="JAVA-程序编写流程"><a href="#JAVA-程序编写流程" class="headerlink" title="JAVA 程序编写流程"></a>JAVA 程序编写流程</h2><ol><li>新建拓展名为.java的文件</li><li>编写相关代码</li><li>在文件的路径下启动命令行</li><li>使用javac对编写的文件进行编译，生成.class文件</li><li>使用java对生成的文件进行解释执行</li></ol><h2 id="第一个java程序"><a href="#第一个java程序" class="headerlink" title="第一个java程序"></a>第一个java程序</h2><h3 id="编写程序"><a href="#编写程序" class="headerlink" title="编写程序"></a>编写程序</h3><p><em>文件名为Hello.java</em></p><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// public class 是java的关键字，并且使用此关键字修饰的类名要与文件名相同</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//main()方法是java程序执行的入口点</span>        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello World！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//向控制台输出信息</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">//java中{}要一一对应</span><span class="token comment" spellcheck="true">//java大小写敏感，语句用半角分号结束</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="执行程序"><a href="#执行程序" class="headerlink" title="执行程序"></a>执行程序</h3><ol><li>在命令中执行javac hello 编译代码</li><li>接着执行java hello 运行代码</li></ol><p>控制台会输出</p><pre><code>Hello World</code></pre>]]></content>
      
      
      <categories>
          
          <category> Java学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pip国内源设置方法</title>
      <link href="/2019/12/25/ruan-jian-an-zhuang-yu-pei-zhi/pip-guo-nei-yuan-she-zhi-fang-fa/"/>
      <url>/2019/12/25/ruan-jian-an-zhuang-yu-pei-zhi/pip-guo-nei-yuan-she-zhi-fang-fa/</url>
      
        <content type="html"><![CDATA[<h2 id="pip国内的一些镜像"><a href="#pip国内的一些镜像" class="headerlink" title="pip国内的一些镜像"></a>pip国内的一些镜像</h2><p> 阿里云 <a href="http://mirrors.aliyun.com/pypi/simple/" target="_blank" rel="noopener">http://mirrors.aliyun.com/pypi/simple/</a><br> 中国科技大学 <a href="https://pypi.mirrors.ustc.edu.cn/simple/" target="_blank" rel="noopener">https://pypi.mirrors.ustc.edu.cn/simple/</a><br> 豆瓣(douban) <a href="http://pypi.douban.com/simple/" target="_blank" rel="noopener">http://pypi.douban.com/simple/</a><br> 清华大学 <a href="https://pypi.tuna.tsinghua.edu.cn/simple/" target="_blank" rel="noopener">https://pypi.tuna.tsinghua.edu.cn/simple/</a><br> 中国科学技术大学 <a href="http://pypi.mirrors.ustc.edu.cn/simple/" target="_blank" rel="noopener">http://pypi.mirrors.ustc.edu.cn/simple/</a></p><h2 id="临时修改："><a href="#临时修改：" class="headerlink" title="临时修改："></a>临时修改：</h2><p>可以在使用pip的时候在后面加上-i参数，指定pip源 </p><pre><code>pip install scrapy -i https://pypi.tuna.tsinghua.edu.cn/simple</code></pre><h2 id="永久修改："><a href="#永久修改：" class="headerlink" title="永久修改："></a>永久修改：</h2><h3 id="linux"><a href="#linux" class="headerlink" title="linux:"></a>linux:</h3><p>修改 ~/.pip/pip.conf (没有就创建一个)， 内容如下：</p><pre><code>[global]index-url = https://pypi.tuna.tsinghua.edu.cn/simple</code></pre><h3 id="windows"><a href="#windows" class="headerlink" title="windows:"></a>windows:</h3><p>直接在user目录中创建一个pip目录，如：C:\Users\xx\pip，新建文件pip.ini，内容如下</p><pre><code>[global]index-url = https://pypi.tuna.tsinghua.edu.cn/simple</code></pre>]]></content>
      
      
      <categories>
          
          <category> 软件安装与配置 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 配置 </tag>
            
            <tag> python </tag>
            
            <tag> pip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java安装（Ubuntu）</title>
      <link href="/2019/12/25/java/java-an-zhuang-pei-zhi-ubuntu/"/>
      <url>/2019/12/25/java/java-an-zhuang-pei-zhi-ubuntu/</url>
      
        <content type="html"><![CDATA[<h2 id="java安装"><a href="#java安装" class="headerlink" title="java安装"></a>java安装</h2><ul><li>上<a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">官网</a>下载对应安装包</li><li>解压安装包，移动到/opt目录下</li><li>添加环境</li></ul><p>在~/.bashrc中添加以下代码</p><pre><code>export JAVA_HOME=/opt/jdk1.8.0_231  ## 这里要注意目录要换成自己解压的jdk 目录export JRE_HOME=${JAVA_HOME}/jre  export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib  export PATH=${JAVA_HOME}/bin:$PATH </code></pre><p><strong>java路径中不要出现中文</strong></p><h2 id="java-JDK目录简介"><a href="#java-JDK目录简介" class="headerlink" title="java JDK目录简介"></a>java JDK目录简介</h2><p><img src="https://gitee.com/zhendimang/picture_bed/raw/master/%E5%B0%8F%E4%B9%A6%E5%8C%A0/2019-12-25_22-55-28_%E7%9A%84%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="JAVA  JDK目录"></p><table><thead><tr><th>目录</th><th>用途</th></tr></thead><tbody><tr><td>bin</td><td>存放java的编译器、解释器（对应系统的可执行文件）</td></tr><tr><td>include</td><td>存放调用系统资源的借口文件</td></tr><tr><td>jre</td><td>java运行环境文件</td></tr><tr><td>lib</td><td>Java类库文件</td></tr><tr><td>src.zip</td><td>JDK提供类的源代码</td></tr></tbody></table><h2 id="常用的概念"><a href="#常用的概念" class="headerlink" title="常用的概念"></a>常用的概念</h2><table><thead><tr><th>名称</th><th>概念</th></tr></thead><tbody><tr><td>jdk</td><td>java开发工具包</td></tr><tr><td>jre</td><td>java运行环境信息</td></tr><tr><td>jvm</td><td>java虚拟机</td></tr><tr><td>javac</td><td>java语言编译器</td></tr><tr><td>java</td><td>java语言解释器</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Java学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 软件安装 </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu自带截图（GNOME 截图）快捷键</title>
      <link href="/2019/12/23/linux/ubuntu-zi-dai-jie-tu-kuai-jie-jian/"/>
      <url>/2019/12/23/linux/ubuntu-zi-dai-jie-tu-kuai-jie-jian/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th>按键</th><th>功能</th></tr></thead><tbody><tr><td>PrtSc</td><td>获取整个屏幕的截图并保存到 Pictures 目录。</td></tr><tr><td>Shift + PrtSc</td><td>获取屏幕的某个区域截图并保存到 Pictures 目录。</td></tr><tr><td>Alt + PrtSc</td><td>获取当前窗口的截图并保存到 Pictures 目录。</td></tr><tr><td>Ctrl + PrtSc</td><td>获取整个屏幕的截图并存放到剪贴板。</td></tr><tr><td>Shift + Ctrl + PrtSc</td><td>获取屏幕的某个区域截图并存放到剪贴板。</td></tr><tr><td>Ctrl + Alt + PrtSc</td><td>获取当前窗口的 截图并存放到剪贴板。</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> 软件使用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu桌面文件属性解释</title>
      <link href="/2019/12/22/linux/ubuntu-zhuo-mian-wen-jian-shu-xing-jie-shi/"/>
      <url>/2019/12/22/linux/ubuntu-zhuo-mian-wen-jian-shu-xing-jie-shi/</url>
      
        <content type="html"><![CDATA[<p>文件位置</p><p>/usr/share/applications</p><table><thead><tr><th>关键字</th><th>解释</th></tr></thead><tbody><tr><td>[Desktop Entry]</td><td>文件头</td></tr><tr><td>Encoding=UTF-8</td><td>编码方式</td></tr><tr><td>Name=story-write</td><td>应用程序名称，根据当前系统语言匹配显示，优先匹配更细化的语言标识名称</td></tr><tr><td>Comment=comment</td><td>鼠标经过上面时的提示名称，也可国际化</td></tr><tr><td>Exec=command</td><td>菜单执行的命令或程序</td></tr><tr><td>Icon=iconpath</td><td>显示在菜单项中的图标，可以为空</td></tr><tr><td>Terminal=false</td><td>是否使用终端</td></tr><tr><td>Type=Application</td><td>分类</td></tr><tr><td>Hidden=false</td><td>菜单是否隐藏，类似NoDisplay属性</td></tr><tr><td>Categories=Application;Network;</td><td>菜单所属类别，可以确定该菜单的位置</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>selenium基础使用</title>
      <link href="/2019/12/21/pa-chong/selenium-ji-chu-shi-yong/"/>
      <url>/2019/12/21/pa-chong/selenium-ji-chu-shi-yong/</url>
      
        <content type="html"><![CDATA[<h2 id="准备工作-软件安装"><a href="#准备工作-软件安装" class="headerlink" title="准备工作-软件安装"></a>准备工作-软件安装</h2><h3 id="安装selenium"><a href="#安装selenium" class="headerlink" title="安装selenium"></a>安装selenium</h3><p>直接使用pip就可以安装</p><pre class="line-numbers language-shell"><code class="language-shell">pip install selenium<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="安装-chromedriver"><a href="#安装-chromedriver" class="headerlink" title="安装 chromedriver"></a>安装 chromedriver</h3><p>国内可以到<a href="http://chromedriver.storage.googleapis.com/index.html" target="_blank" rel="noopener">Chromedriver仓库</a>下载</p><p>具体版本根据自己本机安装的chrome浏览器安装，版本对照如下：</p><table><thead><tr><th>ChromeDriver Version</th><th>Chrome Version</th></tr></thead><tbody><tr><td>78.0.3904.11</td><td>78</td></tr><tr><td>77.0.3865.40</td><td>77</td></tr><tr><td>77.0.3865.10</td><td>77</td></tr><tr><td>76.0.3809.126</td><td>76</td></tr><tr><td>76.0.3809.68</td><td>76</td></tr><tr><td>76.0.3809.25</td><td>76</td></tr><tr><td>76.0.3809.12</td><td>76</td></tr><tr><td>75.0.3770.90</td><td>75</td></tr><tr><td>75.0.3770.8</td><td>75</td></tr><tr><td>74.0.3729.6</td><td>74</td></tr><tr><td>73.0.3683.68</td><td>73</td></tr><tr><td>72.0.3626.69</td><td>72</td></tr><tr><td>2.46</td><td>71-73</td></tr><tr><td>2.46</td><td>71-73</td></tr><tr><td>2.45</td><td>70-72</td></tr><tr><td>2.44</td><td>69-71</td></tr><tr><td>2.43</td><td>69-71</td></tr><tr><td>2.42</td><td>68-70</td></tr><tr><td>2.41</td><td>67-69</td></tr><tr><td>2.40</td><td>66-68</td></tr><tr><td>2.39</td><td>66-68</td></tr><tr><td>2.38</td><td>65-67</td></tr><tr><td>2.37</td><td>64-66</td></tr><tr><td>2.36</td><td>63-65</td></tr><tr><td>2.35</td><td>62-64</td></tr></tbody></table><p>查看chrome版本：在浏览器中输入 chrome://settings/help 查看</p><p>讲下载的驱动文件放在运行的程序目录下或者系统环境中，系统环境查看方法</p><pre class="line-numbers language-cmd"><code class="language-cmd">echo $PATH/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="一个简单的程序"><a href="#一个简单的程序" class="headerlink" title="一个简单的程序"></a>一个简单的程序</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">import</span> time<span class="token comment" spellcheck="true"># 使用谷歌驱动</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>url <span class="token operator">=</span> <span class="token string">"https://www.baidu.com/"</span><span class="token comment" spellcheck="true"># 发起请求</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 在搜索框中输入“python”</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">"kw"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">"python"</span><span class="token punctuation">)</span>time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 点击“百度一下”</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//input[@type='submit']"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>driver<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>%<a href="./videos/sim-2019-12-22_19_2.57.32.mp4">enter description here</a><br><img src="https://i.loli.net/2019/12/22/CiUgLwSrp5OkfI9.gif" alt="enter description here"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 自动化 </tag>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntu常用软件安装及配置</title>
      <link href="/2019/12/16/ruan-jian-an-zhuang-yu-pei-zhi/ubuntu-chang-yong-ruan-jian-an-zhuang/"/>
      <url>/2019/12/16/ruan-jian-an-zhuang-yu-pei-zhi/ubuntu-chang-yong-ruan-jian-an-zhuang/</url>
      
        <content type="html"><![CDATA[<h1 id="Ubuntu常用软件安装"><a href="#Ubuntu常用软件安装" class="headerlink" title="Ubuntu常用软件安装"></a>Ubuntu常用软件安装</h1><h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><pre class="line-numbers language-shell"><code class="language-shell">sudo apt-get install git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="vscode"><a href="#vscode" class="headerlink" title="vscode"></a>vscode</h2><h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><p>上<a href="https://code.visualstudio.com/" target="_blank" rel="noopener">官网</a>下载安装包，直接点击安装即可。</p><h3 id="设置中文"><a href="#设置中文" class="headerlink" title="设置中文"></a>设置中文</h3><ul><li><p>按ctrl+shift+x打开商店，搜索Chinese (Simplified) Language Pack for Visual Studio Code 选择中文安装包安装。</p></li><li><p>按ctrl+shift+p打开命令面板，之后输入 “config” 筛选可用命令列表，选择&gt;display language，后选择zh-cn并重启scode。</p></li></ul><h3 id="解决终端乱码、字体太宽"><a href="#解决终端乱码、字体太宽" class="headerlink" title="解决终端乱码、字体太宽"></a>解决终端乱码、字体太宽</h3><p><img src="https://gitee.com/zhendimang/picture_bed/raw/master/%E5%B0%8F%E4%B9%A6%E5%8C%A0/1577085535468.png" alt="修改前"></p><p>点击<strong>文件</strong>→<strong>首选项</strong>→<strong>设置</strong>，搜索<em>terminal.integrated.fontFamily<em>，修改输入</em>monospace</em></p><p><img src="https://gitee.com/zhendimang/picture_bed/raw/master/%E5%B0%8F%E4%B9%A6%E5%8C%A0/2019-12-23_15-35-43_%E7%9A%84%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="修改后"></p><h2 id="搜狗输入法"><a href="#搜狗输入法" class="headerlink" title="搜狗输入法"></a>搜狗输入法</h2><h3 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h3><p>上<a href="https://pinyin.sogou.com/linux/?r=pinyin" target="_blank" rel="noopener">官网</a>下载deb包直接安装（Ubuntu14 LTS以上）</p><h2 id="Google浏览器"><a href="#Google浏览器" class="headerlink" title="Google浏览器"></a>Google浏览器</h2><h3 id="安装-3"><a href="#安装-3" class="headerlink" title="安装"></a>安装</h3><p>上<a href="https://www.google.cn/chrome/" target="_blank" rel="noopener">官网</a>下载deb包直接安装</p><h2 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h2><h2 id="pycharm"><a href="#pycharm" class="headerlink" title="pycharm"></a>pycharm</h2><h3 id="安装-4"><a href="#安装-4" class="headerlink" title="安装"></a>安装</h3><ul><li>上<a href="http://www.jetbrains.com/pycharm/download/#section=linux" target="_blank" rel="noopener">官网</a>下载解压。</li><li>进入/pycharm-2019.3/bin运行 <em>./pycharm.sh</em> 按照指引配置</li></ul><h3 id="破解（ver-2019-3）"><a href="#破解（ver-2019-3）" class="headerlink" title="破解（ver=2019.3）"></a>破解（ver=2019.3）</h3><h3 id="汉化"><a href="#汉化" class="headerlink" title="汉化"></a>汉化</h3><p>将汉化包放入lib文件夹内重启IDE</p><h3 id="导入配置"><a href="#导入配置" class="headerlink" title="导入配置"></a>导入配置</h3><p>选择<strong>文件-导入配置、到处配置</strong>进行操作</p><h3 id="桌面图标"><a href="#桌面图标" class="headerlink" title="桌面图标"></a>桌面图标</h3><p>在/usr/share/applications/下创建pycarm.desktop，写入</p><pre class="line-numbers language-shell"><code class="language-shell">[Desktop Entry]Version=1.0Type=ApplicationName=PyCharmIcon=/home/zhang/app/pycharm-2019.1.1/bin/pycharm.svg   #  图标路径Exec="/home/zhang/app/pycharm-2019.1.1/bin/pycharm.sh" %f  #  执行文件路径Comment=Python IDE for Professional DevelopersCategories=Development;IDE;Terminal=falseStartupWMClass=jetbrains-pycharm<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="python3-7"><a href="#python3-7" class="headerlink" title="python3.7"></a>python3.7</h2><h3 id="安装-5"><a href="#安装-5" class="headerlink" title="安装"></a>安装</h3><ul><li>安装相关工具</li></ul><pre class="line-numbers language-shell"><code class="language-shell">apt-get install gcc make python-dev  libffi-dev libssl-dev  libxml2-dev libxslt-dev  libmysqlclient-dev libsqlite3-dev zlib1g-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>缺少其他工具包，安装即可。</p><ul><li><p>下载安装包解压</p><pre class="line-numbers language-shell"><code class="language-shell">wget https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tar.xztar -xvJf  Python-3.7.0.tar.xz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>编译安装</p></li></ul><pre class="line-numbers language-shell"><code class="language-shell">mkdir /usr/local/python3.7  # 创建编译安装目录cd Python-3.7.0./configure --with-ssl   --prefix=/usr/local/python3.7#注意加上ssl，不然会导致pip无法使用make && make install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>创建软连接</li></ul><pre class="line-numbers language-shell"><code class="language-shell">sudo ln -s /usr/local/python3.7/bin/python3.7 /usr/local/bin/python3.7sudo ln -s /usr/local/python3.7/bin/pip3.7 /usr/local/bin/pip3.7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>验证安装结果</li></ul><pre class="line-numbers language-shell"><code class="language-shell">zhang@zhang-pc:~$ python3.7 -VPython 3.7.0zhang@zhang-pc:~$ pip3.7 -Vpip 10.0.1 from /usr/local/python3.7/lib/python3.7/site-packages/pip (python 3.7)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Virtualenvwrapper"><a href="#Virtualenvwrapper" class="headerlink" title="Virtualenvwrapper"></a>Virtualenvwrapper</h2><h3 id="安装-6"><a href="#安装-6" class="headerlink" title="安装"></a>安装</h3><pre class="line-numbers language-shell"><code class="language-shell">sudo pip3 install virtualenvwrapper<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>可能的报错</p><pre class="line-numbers language-shell"><code class="language-shell">ERROR: virtualenvwrapper could not find virtualenv in your path<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>解决方法<br>首先还是用 find / -name “virtualenv” 去找到位置，并建立软连接</p><pre class="line-numbers language-shell"><code class="language-shell">zhang@zhang-pc:/usr/local/python3.7/bin$ sudo  find / -name "virtualenv" [sudo] zhang 的密码： /usr/local/python3.7/bin/virtualenvfind: ‘/run/user/1000/gvfs’: 权限不够find: ‘/run/user/121/gvfs’: 权限不够zhang@zhang-pc:/usr/local/python3.7/bin$ sudo ln -s /usr/local/python3.7/bin/virtualenv /usr/local/bin/virtualenv<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><ul><li><p>编辑 ~/ .bashrc 文件</p><pre class="line-numbers language-shell"><code class="language-shell">export VIRTUALENVWRAPPER_PYTHON=/usr/local/python3.7/bin/python3.7  # 使用的pythonexport WORKON_HOME=~/.virtualenv # 存放虚拟环境的目录source /usr/local/python3.7/bin/virtualenvwrapper.sh <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>建立存放虚拟环境的目录</p><pre class="line-numbers language-shell"><code class="language-shell">mkdir ~/.virtualenv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>初始化</p><pre class="line-numbers language-shell"><code class="language-shell">source  ~/.bashrc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h3 id="创建环境"><a href="#创建环境" class="headerlink" title="创建环境"></a>创建环境</h3><pre class="line-numbers language-shell"><code class="language-shell">mkvirtualenv python3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="选择虚拟环境"><a href="#选择虚拟环境" class="headerlink" title="选择虚拟环境"></a>选择虚拟环境</h3><pre class="line-numbers language-shell"><code class="language-shell">workon python3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="列出虚拟环境"><a href="#列出虚拟环境" class="headerlink" title="列出虚拟环境"></a>列出虚拟环境</h3><pre class="line-numbers language-shell"><code class="language-shell">workon<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>或者是</p><pre class="line-numbers language-shell"><code class="language-shell">lsvirtualenv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="停止环境"><a href="#停止环境" class="headerlink" title="停止环境"></a>停止环境</h3><pre class="line-numbers language-shell"><code class="language-shell">deactivate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="删除环境"><a href="#删除环境" class="headerlink" title="删除环境"></a>删除环境</h3><pre class="line-numbers language-shell"><code class="language-shell">rmvirtualenv python3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="设置github和码云ssh-key"><a href="#设置github和码云ssh-key" class="headerlink" title="设置github和码云ssh key"></a>设置github和码云ssh key</h2><ul><li><p>创建相关文件夹</p><pre><code>mkdir ~/.sshcd ~/.ssh</code></pre></li><li><p>通过下面的命令，依次生成两个平台的key</p><pre><code>$ ssh-keygen -t rsa -C &quot;xxxxxxx@qq.com&quot; -f &quot;github_id_rsa&quot;$ ssh-keygen -t rsa -C &quot;xxxxxxx@qq.com&quot; -f &quot;gitee_id_rsa&quot;</code></pre></li><li><p>把key复制到gitee和github</p><pre><code>cat github_id_rsa.pub </code></pre></li><li><p>创建config文件解决ssh冲突<br>在.ssh文件夹下执行命令vi config<br>文件中添加以下内容</p><pre><code># giteeHost gitee.comHostName gitee.comPreferredAuthentications publickeyIdentityFile ~/.ssh/gitee_id_rsa</code></pre></li></ul><h1 id="github"><a href="#github" class="headerlink" title="github"></a>github</h1><p>Host github.com<br>HostName github.com<br>PreferredAuthentications publickey<br>IdentityFile ~/.ssh/github_id_rsa</p><pre><code>- 测试  执行</code></pre><p>ssh -T <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a><br>成功则返回<br>Hi xxx! You’ve successfully authenticated, but GitHub does not provide shell access.</p><p>执行<br>ssh -T <a href="mailto:git@gitee.com" target="_blank" rel="noopener">git@gitee.com</a><br>成功则返回<br>Hi xxx! You’ve successfully authenticated, but GITEE.COM does not provide shell access.<br>```</p>]]></content>
      
      
      <categories>
          
          <category> 软件安装与配置 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>&lt;转&gt; centos安装python3.7</title>
      <link href="/2019/12/11/ruan-jian-an-zhuang-yu-pei-zhi/centos-an-zhuang-python3-7/"/>
      <url>/2019/12/11/ruan-jian-an-zhuang-yu-pei-zhi/centos-an-zhuang-python3-7/</url>
      
        <content type="html"><![CDATA[<h2 id="Centos7安装Python3-7"><a href="#Centos7安装Python3-7" class="headerlink" title="Centos7安装Python3.7"></a>Centos7安装Python3.7</h2><p><a href="https://www.cnblogs.com/anxminise/p/9650206.html" target="_blank" rel="noopener">原文</a></p><p><em>全部操作都在root用户下执行</em></p><h3 id="安装编译相关工具"><a href="#安装编译相关工具" class="headerlink" title="安装编译相关工具"></a>安装编译相关工具</h3><pre class="line-numbers language-shell"><code class="language-shell">yum -y groupinstall "Development tools"yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-develyum install libffi-devel -y<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="下载安装包解压"><a href="#下载安装包解压" class="headerlink" title="下载安装包解压"></a>下载安装包解压</h3><pre><code>cd #回到用户目录wget https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tar.xztar -xvJf  Python-3.7.0.tar.xz</code></pre><h3 id="编译安装"><a href="#编译安装" class="headerlink" title="编译安装"></a>编译安装</h3><pre><code>mkdir /usr/local/python3 #创建编译安装目录cd Python-3.7.0./configure --prefix=/usr/local/python3make &amp;&amp; make install</code></pre><h3 id="创建软连接"><a href="#创建软连接" class="headerlink" title="创建软连接"></a>创建软连接</h3><pre><code>ln -s /usr/local/python3/bin/python3 /usr/local/bin/python3ln -s /usr/local/python3/bin/pip3 /usr/local/bin/pip3</code></pre><h3 id="验证是否成功"><a href="#验证是否成功" class="headerlink" title="验证是否成功"></a>验证是否成功</h3><pre><code>python3 -Vpip3 -V</code></pre>]]></content>
      
      
      <categories>
          
          <category> 软件安装与配置 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 软件安装 </tag>
            
            <tag> centos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>8.python-类</title>
      <link href="/2019/11/09/python/08.python-lei/"/>
      <url>/2019/11/09/python/08.python-lei/</url>
      
        <content type="html"><![CDATA[<p><strong>面向对象编程</strong>是最有效的软件编写方法之一，在面向对象编程过程中，编写表示现实世界中的实物个情景的<strong>类</strong>，并基于这些<strong>类</strong>创建对象。</p><h2 id="创建和使用类"><a href="#创建和使用类" class="headerlink" title="创建和使用类"></a>创建和使用类</h2><h3 id="创建一个Dog类"><a href="#创建一个Dog类" class="headerlink" title="创建一个Dog类"></a>创建一个Dog类</h3><p>创建一个Dog类，每个实例储存名字和年龄，并且赋予每条小狗蹲下和打滚的能力。</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token comment" spellcheck="true"># 1</span>    <span class="token triple-quoted-string string">"""描述小狗的类"""</span>  <span class="token comment" spellcheck="true"># 2</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 3</span>        <span class="token triple-quoted-string string">"""初始化属性name和age"""</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name  <span class="token comment" spellcheck="true"># 4</span>        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age    <span class="token keyword">def</span> <span class="token function">sit</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 5</span>        <span class="token triple-quoted-string string">"""模拟小狗被命令蹲下"""</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" is now sitting."</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">roll_over</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""模拟小狗打滚"""</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" rolled_over!"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="类的实现"><a href="#类的实现" class="headerlink" title="类的实现"></a>类的实现</h3><h4 id="申明一个类"><a href="#申明一个类" class="headerlink" title="申明一个类"></a>申明一个类</h4><ul><li>使用class关键字  #1处。</li><li>#2处为这个类的说明文档，使用三引号括起来。</li><li>#3处是类的方法，是一个特殊方法，在类被实例化时会自动调用<strong>init</strong>方法。</li><li>#4处的变量以self开头，self代表对象本身，以self开头的变量，可供类内所有的方法使用。</li><li>#5是给类定义的另一个方法。</li><li>类由属性和方法（类中的函数称为方法）构成，其他不能出现<blockquote><p>在python2.7中创建类时，需要继承object。</p></blockquote><h4 id="类的命名"><a href="#类的命名" class="headerlink" title="类的命名"></a>类的命名</h4></li><li>遵循大驼峰命名</li><li>避开与系统命名类似</li></ul><h3 id="类的实例化"><a href="#类的实例化" class="headerlink" title="类的实例化"></a>类的实例化</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 变量 = 类名() #实例化了一个对象</span>dog <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">"willie"</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>这样就创建了一个名为“willie”的6岁的小狗。</p><h4 id="访问属性"><a href="#访问属性" class="headerlink" title="访问属性"></a>访问属性</h4><p>使用句点表示法可以访问实例的属性</p><pre class="line-numbers language-python"><code class="language-python">dog<span class="token punctuation">.</span>name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>输出</p><pre><code>willie</code></pre><h4 id="调用方法"><a href="#调用方法" class="headerlink" title="调用方法"></a>调用方法</h4><p>使用据点表示法可以调用类中定义的任何放方法</p><pre class="line-numbers language-python"><code class="language-python">dog<span class="token punctuation">.</span>sit<span class="token punctuation">(</span><span class="token punctuation">)</span>dog<span class="token punctuation">.</span>roll_over<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>输出</p><pre><code>Willie is now sitting.Willie rolled_over!</code></pre><h4 id="创建多个实例"><a href="#创建多个实例" class="headerlink" title="创建多个实例"></a>创建多个实例</h4><pre class="line-numbers language-pyhton"><code class="language-pyhton">my_dog = Dog("willie", 4)your_dog = ("lick", 3)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>可以根据类创建多个实例。</p><h2 id="属性的操作"><a href="#属性的操作" class="headerlink" title="属性的操作"></a>属性的操作</h2><h3 id="指定属性默认值"><a href="#指定属性默认值" class="headerlink" title="指定属性默认值"></a>指定属性默认值</h3><p>类中的每个属性都必须有初始值，在方法<strong>init</strong>()内可以指定初始值，这样就无需在初始化类时提供形参。</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name        self<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment" spellcheck="true"># 指定小狗的age默认值为0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="修改属性的值"><a href="#修改属性的值" class="headerlink" title="修改属性的值"></a>修改属性的值</h3><p>可以通过三种方法修改属性的值：</p><ol><li><p>直接修改属性值</p><pre class="line-numbers language-python"><code class="language-python"> dog <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">"willie"</span><span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"wollie 今年"</span> <span class="token operator">+</span> str<span class="token punctuation">(</span>dog<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"岁"</span><span class="token punctuation">)</span> dog<span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"wollie长了1岁，今年"</span> <span class="token operator">+</span> str<span class="token punctuation">(</span>dog<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"了"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p> 输出</p><pre><code> wollie 今年0岁 wollie长了1岁，今年1了</code></pre></li><li><p>通过方法设置属性值</p><pre class="line-numbers language-python"><code class="language-python"> <span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>     self<span class="token punctuation">.</span>name <span class="token operator">=</span> name     self<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">def</span> <span class="token function">update_age</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>     <span class="token keyword">if</span> self<span class="token punctuation">.</span>age <span class="token operator">>=</span> age<span class="token punctuation">:</span>         <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"你狗狗的年龄不能倒着长"</span><span class="token punctuation">)</span>     <span class="token keyword">else</span><span class="token punctuation">:</span>         self<span class="token punctuation">.</span>age <span class="token operator">=</span> age dog <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">"willie"</span><span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"wollie 今年"</span> <span class="token operator">+</span> str<span class="token punctuation">(</span>dog<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"岁"</span><span class="token punctuation">)</span> dog<span class="token punctuation">.</span>update_age<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"wollie长了1岁，今年"</span> <span class="token operator">+</span> str<span class="token punctuation">(</span>dog<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"了"</span><span class="token punctuation">)</span> dog<span class="token punctuation">.</span>update_age<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> 输出</p><pre><code> wollie 今年1岁 wollie长了1岁，今年2了 你狗狗的年龄不能倒着长</code></pre><p> 调用方法对狗狗的年龄进行修改，并且修改前对狗狗的年龄判断是否增加年龄，增加执行更行年龄，否则提醒不能减小狗狗的年龄。</p></li><li><p>通过方法递增递减属性值</p><pre class="line-numbers language-python"><code class="language-python"> <span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>     self<span class="token punctuation">.</span>name <span class="token operator">=</span> name     self<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">def</span> <span class="token function">add_age</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>     self<span class="token punctuation">.</span>age <span class="token operator">+=</span> age dog <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">"willwe"</span><span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>age<span class="token punctuation">)</span> dog<span class="token punctuation">.</span>add_age<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> 输出</p><pre><code> 1 2</code></pre><p> 这样每次调用add_age()方法并指定狗狗成长的年龄就可以实现对狗狗年龄属行的修改。</p></li></ol><h2 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h2><p>一个类从一另一个类继承时，可以获得他的成员属性和成员方法。被继承的类称为父类（基类、超类），新类称为子类（派生类）。</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age    <span class="token keyword">def</span> <span class="token function">say_name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我的名字是'</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">OldPerson</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> petname<span class="token punctuation">)</span><span class="token punctuation">:</span>        super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>name<span class="token punctuation">,</span> petname<span class="token punctuation">)</span>old_person <span class="token operator">=</span> OldPerson<span class="token punctuation">(</span><span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'18'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>old_person<span class="token punctuation">.</span>name<span class="token punctuation">)</span>old_person<span class="token punctuation">.</span>say_name<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>在子类名字的括号中写父类的名字既可以继承父类的非私有的所有属性和方法。并且子类可以调用父类的方法，访问父类的属性。</li><li>在继承父类时，若父类<strong>init</strong>()需要参数，子类的<strong>init</strong>()需要协助父类赋值</li></ul>]]></content>
      
      
      <categories>
          
          <category> Python学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> 面向对象 </tag>
            
            <tag> 类 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CRM-教育版产品文档</title>
      <link href="/2019/11/04/chan-pin-she-ji/crm-jiao-yu-ban-chan-pin-wen-dang/"/>
      <url>/2019/11/04/chan-pin-she-ji/crm-jiao-yu-ban-chan-pin-wen-dang/</url>
      
        <content type="html"><![CDATA[<p><img src="https://i.loli.net/2019/11/04/pjTozrAqiL1O4hn.png" alt="CRM教育版系统.png"></p><p>CRM系统</p><p>XXXX:需要到基础参数中设置参数</p><h1 id="招生"><a href="#招生" class="headerlink" title="招生"></a>招生</h1><h2 id="线索获取"><a href="#线索获取" class="headerlink" title="线索获取"></a>线索获取</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>线索的获取分两个大类：</p><p>手动录入：</p><p>线索获取为客服拿到第一手资源信息时进行学员基本信息的录入。</p><p>手动输入的客户可放入公海池， 也可以直接分入私池。<a href="#_线索分配机制">遵循线索分配机制。</a></p><p>自动生成：</p><p>将官网、公众号等渠道收集到的注册信息对接到CRM系统中。</p><p>自动获取的线索将进入公海客户池。</p><h3 id="字段"><a href="#字段" class="headerlink" title="字段"></a>字段</h3><p>渠道类型：自动获取将根据来源接口信息自动生成，手动输入为选择渠道管理中预先设置好的渠道类型。两种情况全部必填；</p><p>线索获取部门：自动获抓取渠道管理中的负责部门，手动输入则手动选择。需要注意的是，会有多个部门协作一条线索的情况，此处要以逗号分隔符储存部门。</p><p>获取时间：自动获取即当前时间，手动输入为输入时间 。两种情况全部必填；</p><p>来源url：自动获取即来源url，手动输入为空或者是对应渠道的正则url；</p><p>关键词：来自搜索引擎的搜索词。计划-单元-关键词-搜索词</p><p>姓名：输入的姓名。两种情况全部必填；</p><p>电话：输入的电话，并对电话号进行查重校验，用户输入的线索不校验重复，防止我们通过其他渠道收录过用户电话，以免引起不必要纠纷。两种情况全部必填；</p><p>年龄：输入的年龄数据，且只能时整数类型，非法字符友善提醒，或者是将用户输入的信息进行重新格式化。两种情况都可不填；</p><p>性别：选择性别，可以为空，两种情况都可不填；</p><p>住址：文本输入或选择或坐标打标，两种情况都可不填；</p><p>咨询课程：选择课程管理中预设的课程，两种情况都可不填；</p><p>意向校区：选择校区管理中的预设校区，在用户选择时，要提供校区的地址，电话等信息，以辅助用户选择，两种情况都可不填。</p><p>意向课程：选择课程管理中的预设课程，自动获取与手动录入相同。</p><p>跟进客服：用户录入时，此项为空，线索进入公海客户池。客服人员手动录入时，只能选择自己进行跟进，不遵循<a href="#_线索分配机制_1">线索分配机制</a>，此种属于特殊情况，允许溢出指标。两种情况都可不填。</p><p>录入人：自动获取时，常规渠道为系统默认，临时渠道的，不区分人时俄日系统默认，区分时，抓取url中的id 信息匹配对应员工。详见渠道管理中的<a href="#_临时渠道">临时渠道</a></p><p>备注：用于客服人员对线索的备注，手动录入时选填，用户输入一般没有此栏目。</p><p>Ps：输入字段如上所列，手动录入时全部显示，全部可编辑，自动提交表单跟进业务实际情况在以上且只能在以上字段中进行选择。</p><p>对于线索的获取进入CRM系统的过程，应优先考虑自动化接入方法。如官网的自动提交，微信公众号的自动提交，地推的二维码自动提交。无法自动获取的线索，进行手工录入，录入过程讲究尽量的方便与快捷。</p><p>特殊情况：手工录入除去客服人员会录入外，校区咨询师也会收到线索信息，关于客服人员以及咨询人员录入后的分配，在下文中的<a href="#_线索分配机制_1">线索分配机制</a>中做详细阐述。</p><h3 id="公海池线索列表中提供操作"><a href="#公海池线索列表中提供操作" class="headerlink" title="公海池线索列表中提供操作"></a>公海池线索列表中提供操作</h3><ol><li>批量导入：公海管理员可使用</li></ol><p>系统要提供批量导入线索功能用于大量线索进入系统中，例如异业给到的电话号码，线下活动获取的线索列表等。首先点击批量导入后，展示导入页面，页面提供上传导入文件以及下载导入模板功能。用户首次使用应下载导入模板，进行上述字段的填写，然后再上传文件。上传后进行以下校验：首先渠道类型，获取时间，姓名，电话必填，且渠道类型比如是系统中已经有的类型。然后对电话号码进行查重验证，对于重复的线索要返回给用户，要求用户二次确认重复的电话线索是否确认导入。</p><ol start="2"><li>批量分配客服：公海管理员可使用</li></ol><p>对线索进行多选后，批量分配客服，此种方式输入手工分配，遵循<a href="#_线索分配机制_1">线索分配机制</a>。</p><ol start="3"><li>按获取时间过滤线索</li><li>按学员姓名查找线索</li><li>按手机号查找线索</li><li>按来源类型查找线索</li><li>点击领取客户功能——遵循<a href="#_线索分配机制_1">线索分配机制</a>。</li><li>按重复手机号查找线索——查重功能</li><li>单条线条的领取、作废、激活。</li></ol><h3 id="线索作废机制"><a href="#线索作废机制" class="headerlink" title="线索作废机制"></a>线索作废机制</h3><p>Pass</p><h3 id="线索分配机制"><a href="#线索分配机制" class="headerlink" title="线索分配机制"></a>线索分配机制</h3><p>在线索跟进前需要先对线索进行分配，建议分配方案：</p><ol><li>客服分配：对于客服以及业绩相关人自己录入的线索，自己觉得这条线索可以分配给自己跟进，为防止录入后被系统自动分配，可以在录入时，直接分配给自己。但会占用自主领取配额。当然也可以录入至公海池。ps:此种情况适用于手工录入线索</li><li>系统自动分析分配：系统根据当前校区咨询师个人数据进行分配（当前跟进量、跟进成功率、个人KPI等）ps：此种情况适用于自动获取线索，个人数据待设计。（考录因素：公海池总量）</li><li>分配条件：建立客服个人最高线索跟进量上限，方案2中系统自动分配的线索占60%，达到此值时，不在自动分配，但客服可以手动领取公海池中的线索，给予客服人员自主选择适合自己线索的权力，直至手动领取上限为个人最高线索量的40%。</li><li>特殊情况：</li></ol><p>合作校的线索，直接进入报名，客服为系统客服，咨询为系统咨询。</p><p>客服手工录入：此类线索不占用最高线索量，允许线索量溢出。</p><p>咨询手工录入：此类线索不占用最高线索量，允许线索量溢出。</p><p>自然上门线索为咨询手工录入，此类线索录入必须强制选择已到访。</p><p>Ps：自动分配还要考虑在线状态，暂不上线。长时间未被分配的线索要提醒部门长进行及时分配。</p><h2 id="线索跟进"><a href="#线索跟进" class="headerlink" title="线索跟进"></a>线索跟进</h2><h3 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h3><p>当线索经过分配机制分配后，线索进入线索跟进阶段。记录了当客户被分配到客服、咨询师后，客服、咨询师对线索的跟进记录以及跟进进度的记录。此部分是客服人员与咨询人员共同协作的过程。</p><h3 id="字段-1"><a href="#字段-1" class="headerlink" title="字段"></a>字段</h3><p>Ps：线索进入客服环节后，线索获取中的字段进行全部显示，但渠道类型、获取时间、意向课程、备注字段不可再编辑，其他字段可以根据跟进过程中拿到的最新信息进行信息的更新。需要新填写的字段描述如下：</p><p>跟进状态：跟进状态近似于一个线索的进度，进度阶段为：无法成交、意向中、成功约访、已到访、已试听、业务成单。跟进状态的选择为单向，只能向前走，不能回退。如跟进过成中出现意外导致跟进失败，在最后有跟进失败的选择。对每个跟进阶段的描述如下：</p><ol><li>待跟进：未开始跟进的线索。</li><li>下次联系：与用户沟通后，用户表现出有一定的意向，但无到访的意向时，选择此选项，选择此选项后需要填写下次联系时间，用于提醒下次联系时间。</li><li>成功约访：经过沟通后，用户有兴趣来学校看看，则选择此选项。并对客户预约到访的时间进行约访安排。约访时要考虑家长是否要当天试听。不需要试听，只是访问校区，则进行约访安排，选择访问校区、约访时间接待人即可。需要的话要提前安排试听，需要试听点击预约试听中的是，选择校区以及试听课程后，点击查询会显示出该校区此课程的课程表以及该校区有空闲的教师，并提供课程表中课程和教师的试听转单率以及课程目前可<strong>插班人数</strong>，客服根据数据进行选择。Ps：设计要求：选择成功约访后，预约试听默认关闭，并要求输入约访安排中的约访校区、约访时间、接待人。如果打开预约试听，则隐藏约访安排，并选择试听课，根据试听安排生成试听校区、试听时间、接待人、试听课程、试听老师。其中试听安排与约访安排中的三个相同字段储存可以共用。Ps：约访时间或试听时间不得比当天晚于14天（为后面的<a href="#_线索自动回收机制">线索自动回收机制</a>打基础）</li><li>已到访：到这一步则进入咨询师跟进阶段，负责的咨询师为上一步中的接待人。此状态指客户已经到校访问。与成功约访类似，到访后根据到访后的实际情况进行填写。如只是到访并未试听，则要填写到访记录，填写到访校区、到访时间、接待人。如到访后试听了，需要填写试听记录，填写试听校区、试听时间、接待人id、试听课程、试讲老师。在咨询师打开此状态后，读取成功约访中的数据，咨询师按照实际情况修改数据后进行提交。提交数据后，要生成试听记录和到访记录，并且所有的试听记录要展示在线索详情中。</li><li>无法成交：线索被分配后，经过沟通后，用户完全没有需求，则选择此选项，并对选择二级菜单中选项，无需求、号码错误、其他。选择此项基本确定不在跟进此线索，所以不要轻易选择。选择后无法再预约到访、试听，但是可以直接报名。选择此项后，提交数据时弹窗提醒是否直接放回公池。并填写放回原因。（弹窗为优化体验功能，后期迭代更新）</li><li>已报名：即此线索已经报名。此选项无需选择输入，当线索报名后自动更新为已报名。判断条件为点击了线索转学员并新建合同订单且付费后。所有的新学员必须通过线索转创，所以不存在绕过线索新建学员的情况。线索为无法成交的也可以最终更新为已报名。</li></ol><p>以上所有提到的时间，不能选择已过去的时间</p><p>Ps：跟进状态说明：按照以上状态从上至下单向流动，不可回流。当线索状态为成功约访并填写相关数据提交后，因其他原因需要修改，则进入线索中进行修改。已过约访时间后，未填写已到访的，客服要进行原因检查。首先对接接待人确认是否已到访未录入系统，若是，督促录入。若否，对客户进行回电咨询原因并重新确定约访时间。当然，此过程是客服与咨询通力协作的过程，此处为两者交接阶段，两人要交流，客户未能赴约，互相沟通，也不是非要客服去对接咨询师，咨询师发现客户未能按照到访规划到访时，也可及时对接客服了解情况，以免错过销售时机。</p><p>当线索状态进行到已到访并填写相关数据提交后，客户对课程仍有疑惑，此时可能需要再次预约试听。此后咨询在跟进过程中获取到客户最新的到访试听需求则新建一条预约信息，填写内容与成功约访中的填写相同，且提交后更新覆盖此过程中的老数据，只需要保存新的数据即可。但此时此条线索的状态是已到访，因为客户确实已经来过一次，此处保存的是最新的线索状态。只是客户又约了一次到访。</p><p>当客户再次到访后，在线索详情界面新建一次到访记录，填写内容与已到访中相同，提交后要对此次记录储存，而不是覆盖原纪录。当然客户未预约直接到访也是要记录的。也就是说已到访与成功约访没有依赖关系。同样的，两种状态与填写内容的关系仅存在第一次，内容依赖状态，状态更新到相应进度后，是可以修改约访内容和新建到访记录的。</p><p>标签：对线索进行打标。（拓展功能，后期迭代中更新）</p><p>本次跟进记录：此处记录了跟进过程中的各项记录。其中包括：本次跟进时的线索状态，本次跟进时间，本次跟进人，本次跟进的文字记录。对各项数据详细说明如下：</p><ol><li>线索状态：即登记跟进记录时，抓取此刻的线索状态。</li><li>本次跟进时间：即本次跟进的时间。</li><li>本次跟进人：即登陆用户。</li><li>本次跟进记录：即本次跟进过程的详细记录，文字形式。</li></ol><p>放回公池：当跟进状态选择了无法成交后，咨询师可以将线索放回公池。放回时要选择放回的原因（原因待定）。</p><p>报名：按钮放在列表记录的操作中，点击报名打开新新建合同界面在新的标签中，同时悬浮新增学员表单，自动关联此学员，按照<a href="#_学员管理">学员管理</a>录入学员信息，保存后，关联此学员，继续按照合同管理录入合同信息后保存。此操作分为了新建学员和新建合同，如果新建学员过程中保存后中断操作，保存新建的学员信息。此时继续在线索中点击报名时，仍打开新建合同界面在新的标签中，但是不在悬浮新建学员的界面。</p><h3 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h3><p>线索被主动放回时，将跟进状态重置为待跟进并清除下次联系、成功约访、无法成交下级的内容，但已到访的到访记录、试听记录以及跟进记录不清除。线索重新分配后重新开始循环。</p><h3 id="线索自动回收机制"><a href="#线索自动回收机制" class="headerlink" title="线索自动回收机制"></a>线索自动回收机制</h3><p>为促进员工对线索的跟进积极性，我们设计了线索自动回收机制，描述如下：</p><ol><li>线索分配后1天未沟通自动回收。线索分配后，24小时之内必须将线索状态调整为非待跟进状态，否则线索将自动回收至公海池。</li><li>线索分配后3天未成功邀约自动回收。判定时，只要状态在成功邀约或成功邀约之后即可。</li><li>线索分配后15天未能到访或试听，线索自动回收。判定时，线索状态只要在已到访或已到访之后即可。</li><li>线索分配后30天线索未报名自动回收。判定时，线索状态只要不是已报名就自动回收。</li></ol><p>所有时间点判定时，只要状态为无法成交，也自动回收。</p><h2 id="学员管理"><a href="#学员管理" class="headerlink" title="学员管理"></a>学员管理</h2><h3 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h3><p>在线索中点击报名，即开始录入学员信息。（暂时只设置一个录入接口，在此页面只提供查询功能以及修改功能，不提供新增学员功能，所有学员必须通过招生模块，防止出现学员无来源信息）</p><h3 id="新建填写字段"><a href="#新建填写字段" class="headerlink" title="新建填写字段"></a>新建填写字段</h3><p>线索id：来源线索的id；</p><p>学号：学员的编号，按照固定的格式。目前是YYMMDD+4位流水号；</p><p>录入日期：表单录入日期，作为学生入学日期；</p><p>学员姓名：学生的名字, 默认读取对应线索信息，更改保存同时更新线索列表中的性别信息，保持两表信息一致，且每次修改都要更新两表的信息；</p><p>家长信息：学生的家长信息，存入新的表中，同时用于与公众号的对接。一个家长可以同时拥有多个学员。同样，一个学员也可以添加多个家长。</p><p>归属校区：学员的上课校区；</p><p>学管师：负责此学员的学管师；</p><p>来源类型：学员的来源类型。默认读取对应线索的类型不可更改，日后兴许有用；</p><p>来源渠道：学员的来源渠道。默认读取对应线索的类型不可更改，日后兴许有用；</p><p>在读学校：学员目前在读的学校；</p><p>年级：学员目前在读的年级；</p><p>出生日期：学员出生日期，可以做生日关怀。</p><p>学员性别：学生性别，默认读取对应线索信息，更改保存同时更新线索列表中的性别信息，保持两表信息一致，且每次修改都要更新两表的信息。</p><p>状态：</p><p>备注：新增学员时对学员的备注。</p><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>学员信息录入后不可以删除，特别是已经有关联合同、缴费、排课等记录的学员。</p><h3 id="批量操作"><a href="#批量操作" class="headerlink" title="批量操作"></a>批量操作</h3><p>Pass</p><h3 id="单项操作"><a href="#单项操作" class="headerlink" title="单项操作"></a>单项操作</h3><p>报名：链向<a href="#_合同管理">新增合同</a>页面并关联此学员；</p><p>学生课表：</p><p>查询合同</p><p>关联家长</p><p>回访记录：</p><p>跨校区：</p><p>转校区：</p><h2 id="合同管理"><a href="#合同管理" class="headerlink" title="合同管理"></a>合同管理</h2><p>合同管理用于记录学员报名后选择报读课程后生成的合同明细。</p><h3 id="新建合同字段"><a href="#新建合同字段" class="headerlink" title="新建合同字段"></a>新建合同字段</h3><p>学员：选择以报名的学员，同时带出学员的基本信息，姓名、电话、渠道来源、学校；</p><p>签约日期：合同的签订日期；</p><p>合同类型：分为新签、续签、拓课。自动生成，不可编辑。</p><ol><li>新签：学员之前无任何合同</li><li>续签：学员之前有合同</li><li>拓课：学员之前有合同且本次合同课程与之前类型不同</li></ol><p>报名课程：子表单录入，可以新建多条记录</p><ol><li>课程编号：课程管理中的课程编号</li><li>课程名称：课程管理中的课程名称</li><li>单价：课程管理中的课程单价</li><li>课时：此课程的报名课时</li><li>课程金额：单价*课时</li><li>优惠方案：选择活动管理中的活动</li><li>优惠金额：优惠方案的优惠金额</li><li>折后金额：优惠后的此课程应收金额</li><li>备注：此课程的备注</li><li>删除：点击删除此课程</li></ol><p>结算：对合同的课程金额进行汇总，分以下四个汇总项</p><ol><li>合同金额：课程金额的总和</li><li>优惠总额：优惠金额的总和</li><li>直减优惠：对合同金额直接增减</li><li>合同应收：合同金额-优惠总额-直减优惠</li></ol><p>对内备注：系统内备注</p><p>对外备注：打印在打印单上的备注</p><h2 id="收退款管理"><a href="#收退款管理" class="headerlink" title="收退款管理"></a>收退款管理</h2><p>当合同提交后，需要对合同进行收款，每笔收款进行一次记录，一个合同可以对应多条收款，不能多笔收款进行汇总一次录入，防止财务对账麻烦。</p><p>收款后可进行退款，退款与收款数据可放在同一张表，前端考虑是否要做两个栏目。</p><h3 id="收款-新建收款字段"><a href="#收款-新建收款字段" class="headerlink" title="收款 新建收款字段"></a>收款 新建收款字段</h3><p>收款编号：收款的编号。格式待定</p><p>合同：搜索合同编号选择要收款的合同；</p><p>收款人：读取登陆人，不能更改，虚拟账号没有收款权限；</p><p>操作人：当前操作人-登陆人，不可更改；</p><p>收款项目：定金或尾款；</p><p>收款时间：当前操作时间，可调整；</p><p>待收款额：当前合同总额-已收款额；</p><p>收款额：本次收款金额；</p><p>备注：本次收款说明；</p><p>业绩分配：当以上信息点击保存后，自动弹出业绩分配的界面，业绩分配分为三个部分，线索获取业绩、客服业绩、课程顾问业绩。</p><p>线索获取：获取线索的业绩记录，自动获取对应线索的获取渠道的负责部门和负责人，当线索的渠道为多部门协助渠道时，将此渠道的所有获取部门和此渠道的负责人拉取做业绩平分；</p><p>客服业绩：自动获取对应线索的负责客服，全额分配；</p><p>顾问业绩：自动过去对应线索的负责课程顾问，全额分配；</p><p>Ps：收款业绩的分配从点击收款完成时就将分配记录写入到数据库中，弹窗只做分配结果的展示，同时允许修改。直接写入的目的时防止收款后直接关闭浏览器出现业绩未分配的情况，导致出现收款金额与业绩分配金额不匹配的情况。</p><h1 id="1级标题"><a href="#1级标题" class="headerlink" title="1级标题"></a>1级标题</h1><h2 id="公司管理"><a href="#公司管理" class="headerlink" title="公司管理"></a>公司管理</h2><p>各公司管理，添加公司时填写公司名称、公司电话、公司地址、联系人、联系电话、公司法人后保存。各公司数据不能互通。</p><h2 id="组织架构"><a href="#组织架构" class="headerlink" title="组织架构"></a>组织架构</h2><p>组织管理用于管理一家公司中的分公司、分校、部门以及其他的管理。</p><h3 id="新建填写字段-1"><a href="#新建填写字段-1" class="headerlink" title="新建填写字段"></a>新建填写字段</h3><p>组织名称：组织的名字；</p><p>电话：组织的对外电话。如分公司前台电话，校区前台电话，部门电话。可以为空；</p><p>归属上级：此组织的上级组织；</p><p>类型：组织的类型。（分公司、校区、部门、其他），4个类型可以写死；</p><p>负责人：该组织的负责人，如分公司总经理，校区校长，部门长，小组长；</p><p>联系方式：负责人的联系方式；</p><p>地址：该组织的地址，校区类型一定要填且填清楚，用于前台表单提供校区信息。（可以储存经纬度，用于网页展示地图，给客户更详细的地址信息，后期开发）；</p><h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>新建组织时，选择组织类型的时候，4个组织类型要分级别，总公司默认已存在且只存在一个，级别从大向小依次为分公司、校区、部门、其他，新建时，大组织下面可以有任何级别的小组织，但是小组织下不能新建大组织。作为教育公司的主体。校区的标识要打好，用于提供给其他模块以及网站表单服务。组织管理中兼并了校区管理。</p><h2 id="权限管理、角色管理、职位管理"><a href="#权限管理、角色管理、职位管理" class="headerlink" title="权限管理、角色管理、职位管理"></a>权限管理、角色管理、职位管理</h2><p>权限管理是管理系统中的重要部分，保证的人员的操作与数据安全。权限管理是可操作权限的最小颗粒，角色管理是桥接员工与权限的桥梁，角色中的角色权限是权限的集合。</p><p>通过将权限授权给角色，再将员工分配角色的方式使得相同角色的员工拥有相同的权限。是否员工可以不通过角色直接获得授权，有两种观点各有利弊。</p><ol><li>员工可以直接获得授权</li></ol><p>参考资料：<a href="https://www.cnblogs.com/hnsongbiao/p/5173878.html" target="_blank" rel="noopener">https://www.cnblogs.com/hnsongbiao/p/5173878.html</a></p><p>判定时，取角色权限与员工直接获得的权限的并集。好处是自由度高，更方便。坏处是影响规范性与可维护性，员工可以不走桥，大家作小船过去了。</p><ol start="2"><li>员工只能通过角色获得授权</li></ol><p>参考资料：<a href="https://blog.csdn.net/k7Jz78GeJJ/article/details/78489155" target="_blank" rel="noopener">https://blog.csdn.net/k7Jz78GeJJ/article/details/78489155</a></p><p>用户必须通过角色获得权限，特殊权限也必须通过建立新的角色的方式进行授权，好处就是前者的坏处，坏处就是前者的好处。</p><p>两种方式的选择就在于，企业的员工兼职岗位的复杂性，如一个校长同时他也是一名老师，同时他还负责招生，同时他还要收款。此时员工的角色很复杂，他是一名校长，同时还要上课，有着老师的角色，同时拥有财务的职能。这种情况明显是前者的授权方式方便的多，反之员工角色分明则后者更好。</p><p>归根到底强调一件事情：<strong>权限的管理，如何从公司制度上重视？</strong></p><p>即如何规范权限的分配，即那个部门哪个员工要哪个权限都需要进行审批或邮件知会后才能帮其配置，还有哪些数据要设置权限，哪些操作要设置权限，这些权限管理过程才是权限系统的核心，恰恰这些核心的东西在系统上是体现不出来的。</p><p>前期的不经意就会在后期会变成麻烦，不仅影响业务效率，更会导致风险危机。</p><p>权限管理最终是为了风控，如果权限的风控意识没做好，权限系统做的再好也是枉然。</p><h2 id="员工管理"><a href="#员工管理" class="headerlink" title="员工管理"></a>员工管理</h2><p>公司员工管理，同时也是系统用户管理。</p><h3 id="新建填写字段-2"><a href="#新建填写字段-2" class="headerlink" title="新建填写字段"></a>新建填写字段</h3><p>登录名：系统登陆名称；</p><p>账号类型：分为：1、全职，即全职员工。2、兼职，即兼职员工。3、虚拟，即虚拟账号，不能登陆，只作为其他模块的支持标识。例如机器客服、虚拟教师。同时，若系统按用户量销售定价，虚拟账户不占用额度；</p><p>姓名：员工姓名；</p><p>电话：员工电话；</p><p>是否教师：此员工是否为教师；</p><p>公司：员工所在公司；</p><p>部门：员工所在部门；</p><p>角色：员工拥有的角色权限；</p><h2 id="课程管理"><a href="#课程管理" class="headerlink" title="课程管理"></a>课程管理</h2><p>课程即学校的产品，有课程以及其他的产品，例如材料费等，这里的课程其实就是收费项目。</p><h3 id="新建填写字段-3"><a href="#新建填写字段-3" class="headerlink" title="新建填写字段"></a>新建填写字段</h3><p>分类：大的选择分类，可以分两个页面，选择项目的分类，是主营的课程还是其他的费用；</p><p><strong>第一类-主产品：课程 填写字段：</strong></p><p>课程名称：课程的名称，命名最好是有一定的规律；</p><p>适用校区：课程适用的校区，并填写在课程此校区的价格；</p><p>课时数：课程的课时数，默认为1；</p><p>课程单价：课程一个课时的价格；</p><p>课程时长：课程上一个课时的时间；</p><p>可用活动：此课程可以使用的活动；</p><p>锁定课程：在新建合同时，此课时的课时是否可以修改，一般固定课时包时不能修改课时的。</p><p><strong>第二类-附属品-其 他 填写字段</strong></p><p>项目名称：收费项目的名称——&gt;与<strong><em>课程名称</em></strong>共用；</p><p><strong><em>适用校区：</em></strong>收费项目可用的校区；</p><p>课时数：空</p><p>价格：收费项目价格——&gt;与<strong><em>课程单价</em></strong>共用；</p><p>课程时长：空</p><p><strong><em>可用活动</em></strong>：收费项目可参加的活动。</p><h3 id="课程查询功能"><a href="#课程查询功能" class="headerlink" title="课程查询功能"></a>课程查询功能</h3><ol><li>按课程名称模糊查找</li><li>按校区查找</li><li>按大类查找</li></ol><h2 id="分班管理"><a href="#分班管理" class="headerlink" title="分班管理"></a>分班管理</h2><h3 id="一对一分班"><a href="#一对一分班" class="headerlink" title="一对一分班"></a>一对一分班</h3><h3 id="一对多分班"><a href="#一对多分班" class="headerlink" title="一对多分班"></a>一对多分班</h3><h3 id="班课分班"><a href="#班课分班" class="headerlink" title="班课分班"></a>班课分班</h3><h2 id="教师管理"><a href="#教师管理" class="headerlink" title="教师管理"></a>教师管理</h2><p>此模块对教师进行管理，包含教师的可教科目、校区、等信息。</p><h3 id="字段-2"><a href="#字段-2" class="headerlink" title="字段"></a>字段</h3><p>关联员工：选择教师的登陆账号；</p><p>教师姓名：教师的名字，学则关联员工后，直接读取员工信息，与员工表保持同步，不能编辑。</p><p>用户类型：读取员工管理中的用户类型；</p><p>可教科目：选择课程管理中的课程；</p><p>性别：读取员工管理中的性别，不可编辑；</p><p>联系方式：读取员工管理中的联系方式，不可编辑；</p><p>所属校区：教师所属的校区，默认是员工管理中的组织；</p><p>可跨校区：可以在非所属校区上课的校区，可多选。</p><p>教师等级：教师的级别，用于区分课时费；</p><p><em>课时薪资：每课时或人头的薪资，用于计算教师业绩，后期更新；</em></p><h2 id="渠道管理"><a href="#渠道管理" class="headerlink" title="渠道管理"></a>渠道管理</h2><p>渠道管理为线索获取中渠道来源服务，提供线索分类。渠道讲分为常规渠道与临时渠道。常规渠道为长期使用的渠道，临时渠道为阶段性使用的渠道，例如一次活动。</p><h3 id="渠道分类"><a href="#渠道分类" class="headerlink" title="渠道分类"></a>渠道分类</h3><p>渠道分类为下面的两个节点服务，新建分类时，填写分类名称，选择分类归属，确定归属后，只能在相应的节点中使用。</p><h3 id="常规渠道"><a href="#常规渠道" class="headerlink" title="常规渠道"></a>常规渠道</h3><p>新建常规渠道需要选择渠道分类中分类归属为常规渠道的分类名称，填写渠道来源、负责部门。输入url正则式，正则式用于匹配自动获取的线索的来源url，若渠道没有自动接入，则url正则式为空。</p><h3 id="临时渠道"><a href="#临时渠道" class="headerlink" title="临时渠道"></a>临时渠道</h3><p>临时渠道用于临时的活动，需要选择渠道分类中分类归属为临时渠道的分类名称，填写活动主题、活动时间、负责部门、负责人、活动地点、描述等信息。输入url正则式，正则式用于匹配自动获取的线索的来源url，若渠道没有自动接入，则url正则式为空。如果此次活动只有一个url则直接输入url，如果活动有多个url同时进行推广，如多人推广，则输入正则式进行匹配。若要识别推广人，建议url中带有员工id或工号，并将推广人信息抓取到线索获取中的录入人中。</p><h2 id="基础参数"><a href="#基础参数" class="headerlink" title="基础参数"></a>基础参数</h2><p>作废原因——&gt;线索-&gt;线索获取-&gt;标记作废</p><p>无法成交原因——&gt;线索-&gt;线索跟进-&gt;跟进状态—&gt;无法成交</p><p><strong>放回公池原因——&gt;线索-&gt;线索跟进-&gt;放回共池</strong></p><p>课程科目设置——&gt;课程管理-&gt;课程科目</p><h2 id="活动管理"><a href="#活动管理" class="headerlink" title="活动管理"></a>活动管理</h2><h3 id="概述-3"><a href="#概述-3" class="headerlink" title="概述"></a>概述</h3><p>活动管理不仅仅是为了新建合同中的价格调整，更多的是为了记录活动，活动结束后对活动进行复盘。</p><p>活动管理分为两个层级，活动和优惠方案，一次活动可以对应多个优惠方案。下面讲如何一档活动。</p><h3 id="填写字段"><a href="#填写字段" class="headerlink" title="填写字段"></a>填写字段</h3><p><strong>首先讲活动的情况填写</strong></p><p>活动名称：活动的主题名称；</p><p>活动状态：活动有效或无效；</p><p>活动时间：活动的可用时间，精确到时间；</p><p>适用校区：参加活动的校区；</p><p><strong>每档活动可以又不同的优惠方案，设计一个子表单：</strong></p><p><strong>打折：</strong></p><p>优惠类型：选择打折；</p><p>优惠数值：输入两位数字，后面自动追加%号；</p><p>优惠名称：默认生成打XX折，可以修改；</p><p>适用课程：优惠方案的可用课程。</p><p><strong>满减：</strong></p><p>优惠类型：选择满减;</p><p>满足金额：输入一个金额，单位为元；</p><p>减免金额：当付费金额达满足金额时，减免的金额；</p><p>优惠名称：默认生成减XX元，可以修改；</p><p>适用课程：优惠方案的可用课程。</p><p><strong>赠送：</strong></p><p>优惠类型：选择赠送;</p><p>赠送类型：选择礼品或者课时；</p><p>礼品名称/课时数：选择礼品时输入礼品名称（考虑建立礼品库或者做礼品库存管理），选择课时时，输入赠送课时数；</p><p>优惠名称：默认生成总送XX礼品或XX课时，可以修改；</p><p>适用课程：优惠方案的可用课程。</p><h2 id="员工管理-1"><a href="#员工管理-1" class="headerlink" title="员工管理"></a>员工管理</h2><h3 id="工作交接"><a href="#工作交接" class="headerlink" title="工作交接"></a>工作交接</h3><p>根据资源是公司且不跟员工走的原则，当员工发生变动时，例如离职、调岗等，在工作交接完成时，系统中所有归属原负责人的线索，全部转移到新员工。对此，系统要设计员工交接模块，模块详情，在文档后面会详细描述。且此原则适用于所有又员工字段的模块。</p><h1 id="OA"><a href="#OA" class="headerlink" title="OA"></a>OA</h1><h2 id="商品资料"><a href="#商品资料" class="headerlink" title="商品资料"></a>商品资料</h2><h3 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h3><p>用于录入查看可供采购的商品明细以及资料</p><h3 id="填写说明"><a href="#填写说明" class="headerlink" title="填写说明"></a>填写说明</h3><p>商品编号：商品的唯一编号；</p><p>大类：分为教学用品(JX)、办公用品(BG)、日用品(RY)。；</p><p>中类：大类的下级分类；</p><p>小类：中类的下级分类；</p><p>商品名称：商品的名称，要求阅读后可以知道商品大概是什么；</p><p>品牌：商品的品牌</p><p>规格：商品规格参数，如XX支/盒，XX张/包</p><p>采购单位：采购时给到供应商的单位，如盒、箱、包；</p><p>入库单位：最终进入公司仓库的单位，如一盒笔有12支，采购时采购单位为盒，但领用时会按支出库，则入库单位为 支 。入库单位即领用时出库的最小单位；</p><p>单位比例：即采购单位与入库单位的比，如12支/盒，则比例为1：12；</p><h2 id="采购申请"><a href="#采购申请" class="headerlink" title="采购申请"></a>采购申请</h2><h3 id="用途-1"><a href="#用途-1" class="headerlink" title="用途"></a>用途</h3><p>用于校区以及总部采购物品审批</p><h3 id="填写说明-1"><a href="#填写说明-1" class="headerlink" title="填写说明"></a>填写说明</h3><p>申请类型：采购单的申请类型，分为集中采购与零散采购，集中采购发起申请后由相关部门人员审核通过后统一集中进行采购。零散采购发起申请由相关部门审核通过后，自行采购；</p><p>申请人：默认填单人，不可更改；</p><p>申请部门：申请人所在部门，不可更改；</p><p>采购仓库：商品采购完成后，将入库的仓库；</p><p>申请日期：申请单填写日期</p><p>商品信息：商品编号、大类、中类、小类、品牌、规格、比例，取商品资料。</p><p>申请量：申请采购量，单位为采购单位。</p><p>入库单位量：通过申请量与比例计算得出入库单位量，自动计算，不可手动更改；</p><p>采购仓库存：采购仓库当前商品库存量；</p><p>总库存：所有仓库当前商品的库存量；</p><p>采购总量：整张采购单采购商品的总量；</p><p>操作：</p>]]></content>
      
      
      <categories>
          
          <category> 产品设计 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CRM </tag>
            
            <tag> 教育 </tag>
            
            <tag> 管理系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pyhton思维导图</title>
      <link href="/2019/11/03/python/pyhton-si-wei-dao-tu/"/>
      <url>/2019/11/03/python/pyhton-si-wei-dao-tu/</url>
      
        <content type="html"><![CDATA[<p><img src="https://i.loli.net/2019/11/03/NpG6ACfkYgV2Pzc.png" alt="Python导图.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python学习笔记 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>07.python-模块</title>
      <link href="/2019/11/03/python/07.python-mo-kuai/"/>
      <url>/2019/11/03/python/07.python-mo-kuai/</url>
      
        <content type="html"><![CDATA[<h2 id="模块的创建"><a href="#模块的创建" class="headerlink" title="模块的创建"></a>模块的创建</h2><p>在拓展名为.py的文件中编写函数或其他代码创建模块</p><p><strong>pizza.py</strong></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">make_pizza</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> <span class="token operator">*</span>toppings<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""概述要制作的披萨"""</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Making a"</span> <span class="token operator">+</span> str<span class="token punctuation">(</span>size<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"-inch pizza with the following toppings:"</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> topping <span class="token keyword">in</span> toppings<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"- "</span> <span class="token operator">+</span> topping<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>使用模块可以将函数储存在独立的文件中，隐藏代码的细节，将重点放在程序的高层逻辑上。还可以在众多不同的程序中重用函数。</p><h2 id="模块的导入"><a href="#模块的导入" class="headerlink" title="模块的导入"></a>模块的导入</h2><h3 id="导入整个模块"><a href="#导入整个模块" class="headerlink" title="导入整个模块"></a>导入整个模块</h3><p>使用 import 语句导入模块，需要模块在同级目录或特定的模块目录中。</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> pizza<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>这种导入方法会导入pizza.py 这个模块中所用的函数。</p><p><strong>调用函数</strong><br><em>module_name.function_name()</em></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> pizza<span class="token comment" spellcheck="true"># 调用函数</span>pizza<span class="token punctuation">.</span>make_pizza<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">'mushrooms'</span><span class="token punctuation">,</span> <span class="token string">'green peppers'</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> Making a16<span class="token operator">-</span>inch pizza <span class="token keyword">with</span> the following toppings<span class="token punctuation">:</span><span class="token operator">>></span><span class="token operator">></span> <span class="token operator">-</span> mushrooms<span class="token operator">>></span><span class="token operator">></span> <span class="token operator">-</span> green peppers<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="导入指定的函数"><a href="#导入指定的函数" class="headerlink" title="导入指定的函数"></a>导入指定的函数</h3><p><strong>语法：from module_name import function_name</strong>  </p><p><strong>使用逗号分割函数名，可以导入多个函数</strong><br><em>from module_name import function_name1, function_name2, function_name3, …</em></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> pizza <span class="token keyword">import</span> make_pizzamake_pizza<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">'mushrooms'</span><span class="token punctuation">,</span> <span class="token string">'green peppers'</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> Making a16<span class="token operator">-</span>inch pizza <span class="token keyword">with</span> the following toppings<span class="token punctuation">:</span><span class="token operator">>></span><span class="token operator">></span> <span class="token operator">-</span> mushrooms<span class="token operator">>></span><span class="token operator">></span> <span class="token operator">-</span> green peppers<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="导入所有函数"><a href="#导入所有函数" class="headerlink" title="导入所有函数"></a>导入所有函数</h3><p>使用(*)运算符可以导入模块中所用的函数</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> pizza <span class="token keyword">import</span> <span class="token operator">*</span><span class="token comment" spellcheck="true"># 调用函数</span>make_pizza<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">'mushrooms'</span><span class="token punctuation">,</span> <span class="token string">'green peppers'</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> Making a16<span class="token operator">-</span>inch pizza <span class="token keyword">with</span> the following toppings<span class="token punctuation">:</span><span class="token operator">>></span><span class="token operator">></span> <span class="token operator">-</span> mushrooms<span class="token operator">>></span><span class="token operator">></span> <span class="token operator">-</span> green peppers<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>这样导入的函数，无需使用句点表示法，但是，使用非自己编写的大型模块时，不推荐这样使用，因为导入的模块中，可能模块中的函数名称与项目中相同进而覆盖函数。</p></blockquote><h2 id="as语句"><a href="#as语句" class="headerlink" title="as语句"></a>as语句</h2><p>使用as语句可以给导入的函数或者模块起一个别名，方便使用。</p><h3 id="给函数指定别名-as"><a href="#给函数指定别名-as" class="headerlink" title="给函数指定别名 as"></a>给函数指定别名 as</h3><p>在导入时使用as可以给函数函数指定一个独一无二的别名。解决与现有程序中的名称冲突，或者函数名称太长，起一个简单的外号。</p><p><strong>语法：</strong> <em>from module_name import function_name as fn</em></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> pizza <span class="token keyword">import</span> make_pizza <span class="token keyword">as</span> mp<span class="token comment" spellcheck="true"># 调用函数</span>mp<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">'mushrooms'</span><span class="token punctuation">,</span> <span class="token string">'green peppers'</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> Making a16<span class="token operator">-</span>inch pizza <span class="token keyword">with</span> the following toppings<span class="token punctuation">:</span><span class="token operator">>></span><span class="token operator">></span> <span class="token operator">-</span> mushrooms<span class="token operator">>></span><span class="token operator">></span> <span class="token operator">-</span> green peppers<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="给模块指定别名-as"><a href="#给模块指定别名-as" class="headerlink" title="给模块指定别名 as"></a>给模块指定别名 as</h3><p>也可以使用as 给模块指定别名</p><p><strong>语法：</strong> <em>import module_name as mn</em></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> pizza <span class="token keyword">as</span> p<span class="token comment" spellcheck="true"># 调用函数</span>p<span class="token punctuation">.</span>make_pizza<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">'mushrooms'</span><span class="token punctuation">,</span> <span class="token string">'green peppers'</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> Making a16<span class="token operator">-</span>inch pizza <span class="token keyword">with</span> the following toppings<span class="token punctuation">:</span><span class="token operator">>></span><span class="token operator">></span> <span class="token operator">-</span> mushrooms<span class="token operator">>></span><span class="token operator">></span> <span class="token operator">-</span> green peppers<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Python学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 基础 </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>04.Python数据类型-字典与集合</title>
      <link href="/2019/11/02/python/04.python-shu-ju-lei-xing-zi-dian-yu-ji-he/"/>
      <url>/2019/11/02/python/04.python-shu-ju-lei-xing-zi-dian-yu-ji-he/</url>
      
        <content type="html"><![CDATA[<h2 id="字典的创建"><a href="#字典的创建" class="headerlink" title="字典的创建"></a>字典的创建</h2><h3 id="使用花括号创建"><a href="#使用花括号创建" class="headerlink" title="使用花括号创建"></a>使用花括号创建</h3><p>python中，字典用放在花括号中的一系列键-值对表示</p><pre class="line-numbers language-python"><code class="language-python">info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"xiaoming"</span><span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'dict'</span><span class="token operator">></span><span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="使用dict-函数创建"><a href="#使用dict-函数创建" class="headerlink" title="使用dict()函数创建"></a>使用dict()函数创建</h3><pre class="line-numbers language-python"><code class="language-python">info <span class="token operator">=</span> dict<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'xiaoming'</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="转换其他类型数据"><a href="#转换其他类型数据" class="headerlink" title="转换其他类型数据"></a>转换其他类型数据</h3><pre class="line-numbers language-python"><code class="language-python">info <span class="token operator">=</span> dict<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'xiaoming'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>要求是一个二级容器类型（列表或者元祖），每个二级元素有两个元素，第一个元素为键，第二个为值。</p></blockquote><h3 id="字典推导式"><a href="#字典推导式" class="headerlink" title="字典推导式"></a>字典推导式</h3><p>字典推导式使用{}包裹</p><p><code>{键表达式：值表达式 for 循环}</code></p><pre class="line-numbers language-python"><code class="language-python">l1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">]</span> l2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">]</span>d <span class="token operator">=</span> <span class="token punctuation">{</span>k<span class="token punctuation">:</span>v <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> zip<span class="token punctuation">(</span>l1<span class="token punctuation">,</span> l2<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>使用字典推导式交换键和值</p><pre class="line-numbers language-python"><code class="language-python">d1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">}</span>d2 <span class="token operator">=</span> <span class="token punctuation">{</span>k<span class="token punctuation">:</span> v <span class="token keyword">for</span> v<span class="token punctuation">,</span> k <span class="token keyword">in</span> d1<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>d2<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token string">'xiaoming'</span><span class="token punctuation">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">:</span> <span class="token string">'age'</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>使用字典推导式过滤数据，获取值为偶数的元素</p><pre class="line-numbers language-python"><code class="language-python">d1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token string">'19'</span><span class="token punctuation">,</span> v<span class="token punctuation">:</span><span class="token string">'20'</span><span class="token punctuation">}</span>d2 <span class="token operator">=</span> <span class="token punctuation">{</span>k<span class="token punctuation">,</span> v <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> d1<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> v <span class="token operator">%</span> <span class="token number">2</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>d2<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>字典中的值可以是任何的pyhton中的对象，如数字、字符串、列表乃至字典</p><h2 id="使用字典"><a href="#使用字典" class="headerlink" title="使用字典"></a>使用字典</h2><h3 id="访问字典的值"><a href="#访问字典的值" class="headerlink" title="访问字典的值"></a>访问字典的值</h3><p>要获取字典中的值，可以指定字典名和放在方括号中的键</p><pre class="line-numbers language-python"><code class="language-python">info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"xiaoming"</span><span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> xiaoming<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="添加键-值对"><a href="#添加键-值对" class="headerlink" title="添加键-值对"></a>添加键-值对</h3><p>要向字典中添加键-值对，可依次指定字典名、用方括号括起来的键和相关的值</p><pre class="line-numbers language-python"><code class="language-python">info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"xiaoming"</span><span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">}</span>info<span class="token punctuation">[</span><span class="token string">"sex"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"male"</span><span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">:</span> <span class="token string">'male'</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="修改字典中的值"><a href="#修改字典中的值" class="headerlink" title="修改字典中的值"></a>修改字典中的值</h3><p>要修改字典中的值，可依次指定字典名、用方括号括起来的键以及与该键关联的新值</p><pre class="line-numbers language-python"><code class="language-python">info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"xiaoming"</span><span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">}</span>info<span class="token punctuation">[</span><span class="token string">"age"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="删除字典中的值"><a href="#删除字典中的值" class="headerlink" title="删除字典中的值"></a>删除字典中的值</h3><p>要删除字典中的一个键-值对，可以使用del语句将对应的键-值对直接删除</p><pre class="line-numbers language-python"><code class="language-python">info <span class="token operator">=</span>  <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">:</span> <span class="token string">'male'</span><span class="token punctuation">}</span><span class="token keyword">del</span> info<span class="token punctuation">[</span><span class="token string">"sex"</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="遍历字典"><a href="#遍历字典" class="headerlink" title="遍历字典"></a>遍历字典</h2><p>字典可以用于以各种方式储存信息，以此用多种遍历字典的方式：可以遍历字典的多用键-值对、键或值。</p><h3 id="遍历字典的键值对"><a href="#遍历字典的键值对" class="headerlink" title="遍历字典的键值对"></a>遍历字典的键值对</h3><p>可以使用for循环来遍历一个字典中的所有信息</p><pre class="line-numbers language-python"><code class="language-python">info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">:</span> <span class="token string">'male'</span><span class="token punctuation">}</span><span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> info<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"key:"</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"value:"</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> key<span class="token punctuation">:</span> name<span class="token operator">>></span><span class="token operator">></span> value<span class="token punctuation">:</span> xiaoming<span class="token operator">>></span><span class="token operator">></span> key<span class="token punctuation">:</span> age<span class="token operator">>></span><span class="token operator">></span> value<span class="token punctuation">:</span> <span class="token number">19</span><span class="token operator">>></span><span class="token operator">></span> key<span class="token punctuation">:</span> sex<span class="token operator">>></span><span class="token operator">></span> value<span class="token punctuation">:</span> male<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>申明两个变量k、v储存键-值对中的信息，使用字典名和方法items()将返回一个键-值对列表，使用for循环，依次将键-值对赋值给k、v.</p><blockquote><p>for 循环字典时，键-值对返回的顺序可能与储存顺序不同，python不关系键-值对的储存顺序，只跟踪键和值之间的关联关系</p></blockquote><h3 id="遍历字典的所有键"><a href="#遍历字典的所有键" class="headerlink" title="遍历字典的所有键"></a>遍历字典的所有键</h3><p>在不需要字典中的值时，可以使用keys()方法获取字典的所有键。</p><pre class="line-numbers language-python"><code class="language-python">info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">:</span> <span class="token string">'male'</span><span class="token punctuation">}</span><span class="token keyword">for</span> k <span class="token keyword">in</span> info<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"key:"</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> key<span class="token punctuation">:</span> name<span class="token operator">>></span><span class="token operator">></span> key<span class="token punctuation">:</span> age<span class="token operator">>></span><span class="token operator">></span> key<span class="token punctuation">:</span> sex<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在遍历字典时，会默认遍历字典的所有的键，以此下列代码以上方效果相同</p><pre class="line-numbers language-python"><code class="language-python">info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">:</span> <span class="token string">'male'</span><span class="token punctuation">}</span><span class="token keyword">for</span> k <span class="token keyword">in</span> info<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"key:"</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> key<span class="token punctuation">:</span> name<span class="token operator">>></span><span class="token operator">></span> key<span class="token punctuation">:</span> age<span class="token operator">>></span><span class="token operator">></span> key<span class="token punctuation">:</span> sex<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="按照顺序遍历字典的所有键"><a href="#按照顺序遍历字典的所有键" class="headerlink" title="按照顺序遍历字典的所有键"></a>按照顺序遍历字典的所有键</h3><p>获取字典的元素时，获取顺序是不可预测的，可以使用sorted()来按照特定的顺序排列列表的副本</p><pre class="line-numbers language-python"><code class="language-python">info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">:</span> <span class="token string">'male'</span><span class="token punctuation">}</span><span class="token keyword">for</span> k <span class="token keyword">in</span> sorted<span class="token punctuation">(</span>info<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"key:"</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> key<span class="token punctuation">:</span> age<span class="token operator">>></span><span class="token operator">></span> key<span class="token punctuation">:</span> name<span class="token operator">>></span><span class="token operator">></span> key<span class="token punctuation">:</span> sex<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="遍历字典的所有值"><a href="#遍历字典的所有值" class="headerlink" title="遍历字典的所有值"></a>遍历字典的所有值</h3><p>当不需要字典中的key时，可以使用方法values()。</p><pre class="line-numbers language-python"><code class="language-python">info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">:</span> <span class="token string">'male'</span><span class="token punctuation">}</span><span class="token keyword">for</span> v <span class="token keyword">in</span> info<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"value"</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> value xiaoming<span class="token operator">>></span><span class="token operator">></span> value <span class="token number">19</span><span class="token operator">>></span><span class="token operator">></span> value male<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="字典相关函数"><a href="#字典相关函数" class="headerlink" title="字典相关函数"></a>字典相关函数</h2><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td><code>list</code>(d)</td><td>返回字典 <em>d</em> 中使用的所有键的列表。</td></tr><tr><td><code>len</code>(d)</td><td>返回字典 <em>d</em> 中的项数。</td></tr><tr><td><code>d.keys</code>()</td><td>返回字典d中的键组成的列表。</td></tr><tr><td><code>d.values</code>()</td><td>返回字典d中所有值组成的列表。</td></tr><tr><td><code>d.items</code>()</td><td>返回由字典项 (<code>(键, 值)</code> 对) 组成的一个新视图。</td></tr><tr><td><code>iter</code>(d)</td><td>返回由字典d的键组成的迭代器。</td></tr><tr><td><code>pop</code>(<em>key</em>[, <em>default</em>])</td><td>返回弹出制定键的值</td></tr><tr><td><code>d.popitem</code>()</td><td>从字典中移除并返回一个 <code>(键, 值)</code>，对（元祖形式）。 键值对会按 LIFO（后进先出） 的顺序被返回。</td></tr><tr><td><code>d.get</code>(<em>key</em>[, <em>default</em>])</td><td>如果 <em>key</em> 存在于字典中则将其移除并返回其值，否则返回 <em>default*。 如果 *default</em> 未给出且 <em>key</em> 不存在于字典中，则会引发 <a href="https://docs.python.org/zh-cn/3/library/exceptions.html#KeyError" target="_blank" rel="noopener"><code>KeyError</code></a>。</td></tr><tr><td><code>update</code>([<em>other</em>])</td><td>使用来自 <em>other</em> 的键/值对更新字典，覆盖原有的键。 返回 <code>None</code>。</td></tr><tr><td><code>setdefault</code>(<em>key</em>[, <em>default</em>])</td><td>如果字典存在键 <em>key</em> ，返回它的值。如果不存在，插入值为 <em>default</em> 的键 <em>key</em> ，并返回 <em>default</em> 。 <em>default</em> 默认为 <code>None</code>。</td></tr></tbody></table><h2 id="集合的特点"><a href="#集合的特点" class="headerlink" title="集合的特点"></a>集合的特点</h2><ul><li>集合内的数据是无序的，无法使用索引、分片</li><li>集合内数据唯一，可以用来去重</li><li>集合内只可存放可哈希数据（str, int, float, tuple,冰冻集合等），不能存放不可哈希数据（list、dict）</li></ul><blockquote><p>可哈希数据：不可变的数据结构</p></blockquote><h2 id="集合的创建"><a href="#集合的创建" class="headerlink" title="集合的创建"></a>集合的创建</h2><h3 id="使用花括号"><a href="#使用花括号" class="headerlink" title="使用花括号"></a>使用花括号</h3><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="使用set-函数"><a href="#使用set-函数" class="headerlink" title="使用set()函数"></a>使用set()函数</h3><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="集合推导式"><a href="#集合推导式" class="headerlink" title="集合推导式"></a>集合推导式</h3><h4 id="普通推导式"><a href="#普通推导式" class="headerlink" title="普通推导式"></a>普通推导式</h4><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token punctuation">{</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="带有条件判断的集合推导式"><a href="#带有条件判断的集合推导式" class="headerlink" title="带有条件判断的集合推导式"></a>带有条件判断的集合推导式</h4><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token punctuation">{</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="多循环集合推导式"><a href="#多循环集合推导式" class="headerlink" title="多循环集合推导式"></a>多循环集合推导式</h4><pre class="line-numbers language-python"><code class="language-python">l1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span> <span class="token punctuation">,</span><span class="token string">'b'</span> <span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span>l2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">]</span>s <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">+</span>y <span class="token keyword">for</span> x <span class="token keyword">in</span> l1 <span class="token keyword">for</span> y <span class="token keyword">in</span> l2<span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token string">'b2'</span><span class="token punctuation">,</span> <span class="token string">'c2'</span><span class="token punctuation">,</span> <span class="token string">'a2'</span><span class="token punctuation">,</span> <span class="token string">'c3'</span><span class="token punctuation">,</span> <span class="token string">'a3'</span><span class="token punctuation">,</span> <span class="token string">'a1'</span><span class="token punctuation">,</span> <span class="token string">'b3'</span><span class="token punctuation">,</span> <span class="token string">'c1'</span><span class="token punctuation">,</span> <span class="token string">'b1'</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="带条件，多循环集合推导式"><a href="#带条件，多循环集合推导式" class="headerlink" title="带条件，多循环集合推导式"></a>带条件，多循环集合推导式</h4><h2 id="集合常用操作"><a href="#集合常用操作" class="headerlink" title="集合常用操作"></a>集合常用操作</h2><h3 id="添加元素"><a href="#添加元素" class="headerlink" title="添加元素"></a>添加元素</h3><h4 id="使用s-add-函数"><a href="#使用s-add-函数" class="headerlink" title="使用s.add()函数"></a>使用s.add()函数</h4><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>s<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="使用s-update-函数"><a href="#使用s-update-函数" class="headerlink" title="使用s.update()函数"></a>使用s.update()函数</h4><p><code>update</code>(<em>*others</em>)</p><p>更新集合，添加来自 others 中的所有元素。</p><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>s<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="移除元素"><a href="#移除元素" class="headerlink" title="移除元素"></a>移除元素</h3><h4 id="s-remove-elem"><a href="#s-remove-elem" class="headerlink" title="s.remove(elem)"></a>s.remove(elem)</h4><p>从集合中移除元素 <em>elem*。 如果 *elem</em> 不存在于集合中则会引发 <a href="https://docs.python.org/zh-cn/3/library/exceptions.html#KeyError" target="_blank" rel="noopener"><code>KeyError</code></a>。</p><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>s<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token operator">>></span><span class="token operator">></span> Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token operator">>></span><span class="token operator">></span>   File <span class="token string">"未命名.py"</span><span class="token punctuation">,</span> line <span class="token number">4</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span>     s<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> KeyError<span class="token punctuation">:</span> <span class="token number">6</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="s-discard-x"><a href="#s-discard-x" class="headerlink" title="s.discard(x)"></a>s.discard(x)</h4><p>如果元素 <em>elem</em> 存在于集合中则将其移除。不存在也不会报错</p><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>s<span class="token punctuation">.</span>discard<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>discard<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="s-pop-随机弹出一个元素"><a href="#s-pop-随机弹出一个元素" class="headerlink" title="s.pop() - 随机弹出一个元素"></a>s.pop() - 随机弹出一个元素</h4><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>res <span class="token operator">=</span> d<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="s-clear-清除所有元素"><a href="#s-clear-清除所有元素" class="headerlink" title="s.clear() - 清除所有元素"></a>s.clear() - 清除所有元素</h4><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>s<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> set<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="集合的遍历"><a href="#集合的遍历" class="headerlink" title="集合的遍历"></a>集合的遍历</h3><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token keyword">for</span> i <span class="token keyword">in</span> s<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">1</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">2</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="冰冻集合"><a href="#冰冻集合" class="headerlink" title="冰冻集合"></a>冰冻集合</h2><ul><li>冰冻集合类似于元祖，创建后不能修改</li><li>可以进行集合运算、遍历，成员检测等非写操作</li><li>使用frozenset()将容器类数据转换为冰冻集合</li></ul><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> frozenset<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> frozenset<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="集合的运算"><a href="#集合的运算" class="headerlink" title="集合的运算"></a>集合的运算</h2><p>假设</p><pre class="line-numbers language-python"><code class="language-python">s1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>s2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><table><thead><tr><th align="center">运算</th><th align="center">符号</th><th align="center">实例</th><th align="center">结果</th></tr></thead><tbody><tr><td align="center">交集</td><td align="center">&amp;</td><td align="center">s1&amp;s2</td><td align="center">{2, 3}</td></tr><tr><td align="center">并集</td><td align="center">|</td><td align="center">s1|s2</td><td align="center">{1, 2, 3, 4}</td></tr><tr><td align="center">差集</td><td align="center">-</td><td align="center">s1-s2 <br> s2-s1</td><td align="center">{1}<br>{4}</td></tr><tr><td align="center">对称差集</td><td align="center">^</td><td align="center">s1^s2</td><td align="center">{1, 4}</td></tr></tbody></table><h3 id="使用函数"><a href="#使用函数" class="headerlink" title="使用函数"></a>使用函数</h3><h4 id="交集运算"><a href="#交集运算" class="headerlink" title="交集运算"></a>交集运算</h4><ul><li><p><code>s.intersection</code>(<em>*others</em>)</p><pre><code>返回求s与*others*的交集</code></pre><pre class="line-numbers language-python"><code class="language-python"> res <span class="token operator">=</span> s1<span class="token punctuation">.</span>intersection<span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><code>s.intersection_update</code>(<em>*others</em>)</p><p>更新集合s为s与<em>others</em>的交集</p><pre class="line-numbers language-python"><code class="language-python">s1<span class="token punctuation">.</span>intersection_update<span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h4 id="并集运算"><a href="#并集运算" class="headerlink" title="并集运算"></a>并集运算</h4><ul><li><p><code>s.union</code>(<em>*others</em>)</p><p>返回s与<em>others</em>的并集</p><pre class="line-numbers language-python"><code class="language-python">res <span class="token operator">=</span> s1<span class="token punctuation">.</span>union<span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><code>s.update</code>(<em>*others</em>)</p><p>更新集合s，添加来自 <em>others</em> 中的所有元素。</p><pre class="line-numbers language-python"><code class="language-python">s1<span class="token punctuation">.</span>update<span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h4 id="差集运算"><a href="#差集运算" class="headerlink" title="差集运算"></a>差集运算</h4><ul><li><p><code>s.difference</code>(<em>*others</em>)</p><p>返回s与<em>others</em>的差集</p><pre class="line-numbers language-python"><code class="language-python">res <span class="token operator">=</span> s1<span class="token punctuation">.</span>difference<span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><code>difference_update</code>(<em>*others</em>)</p><p>更新集合s为s与<em>others</em>的差集</p><pre class="line-numbers language-python"><code class="language-python">s1<span class="token punctuation">.</span>difference_update<span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h4 id="对称差集"><a href="#对称差集" class="headerlink" title="对称差集"></a>对称差集</h4><ul><li><p><code>s.symmetric_difference</code>(<em>other</em>)</p><p>返回s与<em>other</em>的相对差集</p><pre class="line-numbers language-python"><code class="language-python">res <span class="token operator">=</span> s1<span class="token punctuation">.</span>symmetric_difference<span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><code>s.symmetric_difference_update</code>(<em>other</em>)</p><p>更新集合s为s与<em>other</em>的相对差集</p><pre class="line-numbers language-python"><code class="language-python">s1<span class="token punctuation">.</span>symmetric_difference_update<span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h4 id="超集检测"><a href="#超集检测" class="headerlink" title="超集检测"></a>超集检测</h4><ul><li><p><code>s.issuperset</code>(<em>other</em>)</p><p>检测s是否是<em>other</em>的超集</p><pre class="line-numbers language-python"><code class="language-python">s1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>s2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span>s3 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>issuperset<span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span>issuperset<span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> false<span class="token operator">>></span><span class="token operator">></span> true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h4 id="子集检测"><a href="#子集检测" class="headerlink" title="子集检测"></a>子集检测</h4><ul><li><p><code>s.issubset</code>(<em>other</em>)<a href="https://docs.python.org/zh-cn/3/library/stdtypes.html#frozenset.issubset" target="_blank" rel="noopener">¶</a></p><p>检测s是否是<em>other</em>的子集</p><pre class="line-numbers language-python"><code class="language-python">s1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>s2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>s3 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>issubset<span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span>issubset<span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> <span class="token boolean">False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 基础 </tag>
            
            <tag> 数据类型 </tag>
            
            <tag> 学习笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>师说系统培训</title>
      <link href="/2019/10/23/gong-zuo/shi-shuo-xi-tong-pei-xun/"/>
      <url>/2019/10/23/gong-zuo/shi-shuo-xi-tong-pei-xun/</url>
      
        <content type="html"><![CDATA[<h1 id="更新目录"><a href="#更新目录" class="headerlink" title="更新目录"></a>更新目录</h1><table><thead><tr><th>日期</th><th>更新内容</th></tr></thead><tbody><tr><td>2019-10-27</td><td>首次培训</td></tr><tr><td>2019</td><td>补充退费说明</td></tr></tbody></table><h2 id="系统简介"><a href="#系统简介" class="headerlink" title="系统简介"></a>系统简介</h2><p><a href="https://www.shishuo.com/index.htm" target="_blank" rel="noopener">系统网站</a><br>做教育，用师说<br>长沙市师说网络科技有限公司是一个教育服务公司，我们通过产品和服务，帮助互联网时代的教育培训咨询机构<br>管门店、管员工、管客户、管资金，让教育培训更好做</p><h2 id="系统注册与登录"><a href="#系统注册与登录" class="headerlink" title="系统注册与登录"></a>系统注册与登录</h2><p>管理员添加员工后，员工通过<a href="https://passport.shishuo.com/login.htm" target="_blank" rel="noopener">登录地址</a>登录。</p><h3 id="扫码登录"><a href="#扫码登录" class="headerlink" title="扫码登录"></a>扫码登录</h3><p>扫码后需要输入手机号，手机号要与管理员添加的手机号匹配</p><h3 id="账号登录"><a href="#账号登录" class="headerlink" title="账号登录"></a>账号登录</h3><p>不想扫码绑定微信的，使用账号登录，首次登录没有密码，选择忘记密码，通过短信验证码找回密码后进行登录。</p><p><img src="https://i.loli.net/2019/10/23/KTnABaYEi714kph.png" alt="师说找回密码"></p><h2 id="权限设置"><a href="#权限设置" class="headerlink" title="权限设置"></a>权限设置</h2><p>根据目前我们校区情况，每家学校固定<strong>校长</strong>一名，负责校区日常招生、校区财务以及教务等工作。</p><p>总部设立<strong>招生部</strong>，负责各个校区流动招生支持</p><p>各自拥有权限如下</p><blockquote><p>管理员已在系统给相关账号按以上设置里相关权限</p></blockquote><h2 id="管理员其他操作"><a href="#管理员其他操作" class="headerlink" title="管理员其他操作"></a>管理员其他操作</h2><ul><li>部门设置</li><li>校区设置</li><li>设置校区负责人</li></ul><h2 id="校长系统相关操作"><a href="#校长系统相关操作" class="headerlink" title="校长系统相关操作"></a>校长系统相关操作</h2><h3 id="新建一个科目"><a href="#新建一个科目" class="headerlink" title="新建一个科目"></a>新建一个科目</h3><ol><li><p>选择教务-科目，点击右上角新增，输入科目名称，科目分类保持默认分类不变，点击<strong>保存</strong>。<br><img src="https://i.loli.net/2019/10/24/Iy98Ui4PTnHtmQs.png" alt="新建科目"></p></li><li><p>点击新建的科目中的<font style="font-weight:bold;" color="#188CEA" size="3">编辑</font>按钮</p></li><li><p>键入课时费，在线出售、赠送积分、会员折扣、暂时保持关闭，状态选择开启，若课程停止后可编辑选择状态-关闭。</p></li></ol><blockquote><p>课时费计算方式：例如如果我们全年课时费以2880为基准，全年96课时，则每节课时费为30元，参考下图设置。</p></blockquote><p><em>这里设置的价格，一般认为是科目的原价，与学员最终的成交价格无关，学员成交价格还要考虑用户的满减、优惠券等活动设置</em></p><p><img src="https://i.loli.net/2019/10/24/XwxCJhAZ3qjovKu.png" alt="编辑科目.png"></p><h3 id="新建一个班级"><a href="#新建一个班级" class="headerlink" title="新建一个班级"></a>新建一个班级</h3><h4 id="新建班级"><a href="#新建班级" class="headerlink" title="新建班级"></a>新建班级</h4><ol><li><p>选择教务-班级，点击右上角的<strong>新增</strong></p></li><li><p>输入班级名称、开班日期、欲招人数、选择班主任（选择校长即可，会影响移动端的一些权限）<strong>主要开启未到扣费</strong></p></li><li><p>收费模式选择课时，点击<font color="#188CEA" size="3">添加科目</font>选择我们在<a href="#toc-heading-8">新建一个科目</a>中新建的科目，课时费以及课时总数根据实际情况填写</p></li></ol><p><em>这里的课时费仍然不是最终成交价格</em></p><p><strong>参考图片</strong><br><img src="https://i.loli.net/2019/10/25/uZItF3gyas2HCN6.png" alt="新建班级.png"></p><ol start="4"><li><p>点击<strong>保存</strong></p></li><li><p>对班级进行招生</p></li></ol><h4 id="班级排课"><a href="#班级排课" class="headerlink" title="班级排课"></a>班级排课</h4><p>新建的班级需要排课，点击班级中操作的<font color="#188CEA" size="3">科目（排课）</font>，点击<font color="#188CEA" size="3">按周排课</font>，按需填写相关信息。</p><p><img src="https://i.loli.net/2019/10/25/hWMFBoOCkc3wrtU.png" alt="排课1.png"></p><p>再点击里面的添加规则，填写相关信息，（课时根据我们的情况，每次课程2小时，建议对外宣传我们的全年课时96，每次消耗2课时），完成点击添加</p><p><img src="https://i.loli.net/2019/10/25/2RSWkaDgEGHKiz5.png" alt="排课规则.png"></p><p>回到按周排课界面，检查是否冲突后保存即可</p><blockquote><p>班级一旦保存，无法删除，可以选择毕业。</p></blockquote><h3 id="招生"><a href="#招生" class="headerlink" title="招生"></a>招生</h3><blockquote><p>咨询师招生操作与校长相同，只是没有查看校区线索的权限</p></blockquote><h4 id="新建一条线索"><a href="#新建一条线索" class="headerlink" title="新建一条线索"></a>新建一条线索</h4><p><strong>点击招生-我的线索</strong> 右上角的新增，填写客户的信息，其中加<font color="red" size="3">＊</font>的信息是必填的，线索详情根据实际情况填写，能拿到的信息尽量填写完整。首次联系信息按需填写，建议填写下次联系时间，到时见后会通过微信通知及时跟进线索。填写相关信息后保存。</p><p><img src="https://i.loli.net/2019/10/25/qExmkb3TVhDvKFu.png" alt="新增线索.png"></p><blockquote><p>新增线索时，重复的手机号码是无法录入的。</p></blockquote><p><img src="https://i.loli.net/2019/10/25/fm6v7rPAM84EDS2.png" alt="重复手机号.png"></p><h4 id="客户信息的更新"><a href="#客户信息的更新" class="headerlink" title="客户信息的更新"></a>客户信息的更新</h4><p> 保存好在我的线索中会出现刚刚编辑的线索信息。如后期获得了客户的新信息可以通过点击对应线索的编辑进行信息的更新。</p><h4 id="客户的跟进"><a href="#客户的跟进" class="headerlink" title="客户的跟进"></a>客户的跟进</h4><p>点击操作中的<font color="188CEA" size="3">跟进</font>，根据本次跟进内容填写，点击提交。会生成一条跟进记录。多次跟进可以多次添加。</p><p><img src="https://i.loli.net/2019/10/25/sxCXd2GPnNVuSB1.png" alt="添加跟进信息.png"></p><h4 id="客户邀约"><a href="#客户邀约" class="headerlink" title="客户邀约"></a>客户邀约</h4><h5 id="添加邀约信息"><a href="#添加邀约信息" class="headerlink" title="添加邀约信息"></a>添加邀约信息</h5><p>当线索跟进到一定程度，可能会邀约客户到校参观。此时可使用邀约功能。点击<strong>操作-跟进</strong> ，操作与添加跟进信息类似，只是跟进类型选择邀约。选择承诺上门时间以及下次联系时间，建议下次联系时间与承诺上门时间相同。这样可以在客户上门时提醒自己，且客户爽约也可以及时再次跟进客户。</p><p><img src="https://i.loli.net/2019/10/25/Lb63GCXMSJZQkuH.png" alt="客户邀约.png"></p><h5 id="客户到访与爽约"><a href="#客户到访与爽约" class="headerlink" title="客户到访与爽约"></a>客户到访与爽约</h5><p>添加完成客户邀约信息后，到约访日期，若客户到访，可点击<strong>操作-跟进</strong>选择下方的邀约记录，在后面的操作中点击<font color="#188CEA" size="3">到访</font>，填写客户到访后与客户的沟通情况，并填写下次跟进时间保存。若客户爽约，则点击<font color="#188CEA" size="3">爽约</font>。</p><p><img src="https://i.loli.net/2019/10/25/b6ZDYO7rKuEocdA.png" alt="客户到访与爽约.png"></p><h5 id="上门的审核"><a href="#上门的审核" class="headerlink" title="上门的审核"></a>上门的审核</h5><p>客户到访确认后，在<strong>招生-上门审核</strong>中会有相关的到访信息，校长应对到访信息进行审核，确认相关信息是否真实到访。</p><blockquote><p>此功能主要用于市场人员的业绩考核，例如成功邀约1人奖励5元等奖励方案的执行，建议按实际情况进行审核，方便后续的工作开展。</p></blockquote><h4 id="学员试听"><a href="#学员试听" class="headerlink" title="学员试听"></a>学员试听</h4><p>客户跟进过程中，一般会要求上下试听课程。要上试听课，必须先称为我们的学员才能上试听课程，点击我的线索中的<strong>操作-学生</strong>，点击<font color="#188CEA" size="3">【添加】</font>入校学生，输入相关信息点击<strong>提交</strong></p><p><img src="https://i.loli.net/2019/10/25/wNhEWuQqeFj7bd5.png" alt="添加入校学生.png"></p><p>添加后在入校学生列表中就可以看见（如果关闭了，再次点击线索操作中的学生即可打开）。如过一条线索产生两名学员，也可以再次点击<font color="#188CEA" size="3">【添加】</font>进行添加操作。</p><blockquote><p>此时的学员是一个未交费的学员</p></blockquote><p>点击入校学生列表-操作中的<font color="#188CEA" size="3">试听</font></p><p>这里显示的是我们的班级排课，相当于是插班试听，也可以在系统中设置一些没课的时间专门的试听课程班级用于试听。</p><p><img src="https://i.loli.net/2019/10/25/5kPmfDWhRYUrvOT.png" alt="试听选课.png"></p><h5 id="试听课的考勤"><a href="#试听课的考勤" class="headerlink" title="试听课的考勤"></a>试听课的考勤</h5><p>安排学员试听后，可对学员进行考勤。点击<strong>教务-课表</strong>选择对应的上课时间，点击<font color="#188CEA" size="3">学生考勤</font>，选择对应的学员考勤后提交。</p><p><img src="https://i.loli.net/2019/10/25/pCNPIV5UDhWsn7R.png" alt="试听学员考勤.png"></p><p>以上就完成了学员的试听课</p><h3 id="学员报名"><a href="#学员报名" class="headerlink" title="学员报名"></a>学员报名</h3><p>成交后，在系统中对学员进行报名收费操作</p><h4 id="科目报名"><a href="#科目报名" class="headerlink" title="科目报名"></a>科目报名</h4><p>选择<strong>教务-学生</strong> 打开学员列表，在要报名的学员的操作中点击<font color="#188CEA" size="3">报班缴费</font>，在缴费界面中点击<span style="border-radius: 3px; background: #188eee;  color: #FFF;">+选择科目</span>，选择学生要报名的科目，输入数量（课时），如需要减免则输入减免额度，点击<strong>确认收款</strong>，在实际的收款方式中输入收款额后确认收款</p><p>收款完成后可以打印票据（需要打印机）</p><p><img src="https://i.loli.net/2019/10/25/whRzmIv5eysqbu6.png" alt="报名.png"></p><p><img src="https://i.loli.net/2019/10/25/Ohy9f36NAcqFJTx.png" alt="确认收款.png"></p><h5 id="学员课时转移"><a href="#学员课时转移" class="headerlink" title="学员课时转移"></a>学员课时转移</h5><p>需要注意的是，通过科目报名的学员是没有具体的班级的，所以是没有进行排课的。需要对学员购买的课时进行转移。</p><p>具体操作如下：</p><p>点击<strong>教务-学生</strong>,再学生列表中点击对应的学员姓名，在这里可以看到学员的所有相关信息，  我们点击科目列表，选择<strong>操作</strong>中的<font color="#188CEA" size="3">转移课时</font>，输入需要转移的课时数，点击确认，即可将学员报名科目的课时转入班级中。</p><p><img src="https://i.loli.net/2019/10/25/aUquRMQ65pcimEl.png" alt="转移课时.png"></p><h4 id="班级报名"><a href="#班级报名" class="headerlink" title="班级报名"></a>班级报名</h4><p>班级报名相对于科目报名要简单一下，以为  学员报名以后直接进入班级，无需进行课时的转移。但班级报名的前提是系统中已经进行了班级开班的设置。</p><p>选择<strong>教务-学生</strong> 打开学员列表，在要报名的学员的操作中点击<font color="#188CEA" size="3">报班缴费</font>，在缴费界面中点击<span style="border-radius: 3px; background: #188eee;  color: #FFF;">+选择班级</span>，选择要报名的班级，点击<font color="#188CEA" size="3">选择</font>，确认优惠信息，点击确认收款，在对应的收款方式中输入收款金额，点击<span style="border-radius: 3px; background: #188eee;  color: #FFF;">确认</span>即可。</p><h3 id="学员及教师考勤"><a href="#学员及教师考勤" class="headerlink" title="学员及教师考勤"></a>学员及教师考勤</h3><h4 id="学员考勤"><a href="#学员考勤" class="headerlink" title="学员考勤"></a>学员考勤</h4><p>学员报名分入班级并排课后，到上课时间要对学员进行考勤。</p><p>依次点击<strong>教务-课表</strong>，在对应的上课时间操作中点击<font color="#188CEA" size="3">学生考勤</font></p><p><img src="https://i.loli.net/2019/10/26/5F72Ke9WMSjGTVl.png" alt="学员考勤.png"></p><p>在需要考勤的学员选中考勤，或者点击标题栏的考勤进行全选考勤，点击<span style="border-radius: 3px; background: #188eee;  color: #FFF;">提交</span></p><p>三个选项的解释</p><table><thead><tr><th>考勤</th><th>未到</th><th>补</th></tr></thead><tbody><tr><td>正常学员考勤，学员上课，扣课时费</td><td>学员未到，是否扣课时费取决于是否在班级中开启了未到扣费</td><td>学员未到，进入补课程序。适用于请假学员</td></tr></tbody></table><h4 id="教师考勤"><a href="#教师考勤" class="headerlink" title="教师考勤"></a>教师考勤</h4><p>依次点击课表中，在对应的上课时间的操作中点击<font color="red" size="3">老师考勤</font>，</p><p><img src="https://i.loli.net/2019/10/26/Y1wXOPUDlgsj7me.png" alt="老师考勤1.png"></p><p>确认信息，点击<span style="border-radius: 3px; background: #188eee;  color: #FFF;">提交</span></p><blockquote><p>关于提成计算暂时不使用，等基本模块学学习完成后再使用教师以及市场人员的提成功能。</p></blockquote><p><font color="red" size="3">教师考勤前必须学员先考勤，教师才能考勤。</font>，</p><h3 id="学员补课"><a href="#学员补课" class="headerlink" title="学员补课"></a>学员补课</h3><p>如果学员进行了请假，在考勤时选择了补，则会出现在<strong>教务-补课</strong>的列表中，选中要补课的学员，点击分班补课，选择合适的班级（班级不能是此学员已在的班级），点击选择即可将学员分入此次上课时间的班级中，到时进行考勤即可。</p><p><img src="https://i.loli.net/2019/10/26/UzI9yi3PsMw1Zca.png" alt="分班补课.png"></p>]]></content>
      
      
      <categories>
          
          <category> 工作 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 培训 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>收藏一些好东西</title>
      <link href="/2019/10/22/shou-cang/shou-cang-yi-xie-hao-dong-xi/"/>
      <url>/2019/10/22/shou-cang/shou-cang-yi-xie-hao-dong-xi/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th>地址</th><th>名称</th><th>简介</th></tr></thead><tbody><tr><td><a href="https://sm.ms" target="_blank" rel="noopener">https://sm.ms</a></td><td>SM.MS 图床</td><td>免费的图床网站</td></tr><tr><td><a href="https://wordhtml.com/" target="_blank" rel="noopener">https://wordhtml.com/</a></td><td>WORDHTML</td><td>在线word转HTML</td></tr><tr><td><a href="https://tool.lu/markdown/" target="_blank" rel="noopener">https://tool.lu/markdown/</a></td><td>markdownb编辑器</td><td>在线编辑MD，在线HTML转MD</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 收藏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 收藏 </tag>
            
            <tag> 工具 </tag>
            
            <tag> 网站 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux常用命令</title>
      <link href="/2019/10/12/linux/linux-chang-yong-ming-ling/"/>
      <url>/2019/10/12/linux/linux-chang-yong-ming-ling/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>chgrp 用户名 文件名 -R</td><td>更改文件组 -R表示向下递归</td></tr><tr><td>chown 用户名 文件名 -R</td><td>更改文件所有者 -R 表示向下递归</td></tr><tr><td>touch <strong>file_name</strong></td><td>新建文件</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 命令 </tag>
            
            <tag> 收藏 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git常用命令</title>
      <link href="/2019/10/12/shou-cang/git-chang-yong-ming-ling/"/>
      <url>/2019/10/12/shou-cang/git-chang-yong-ming-ling/</url>
      
        <content type="html"><![CDATA[<p><img src="https://i.loli.net/2019/11/10/MQVrh5aLYiF2tXg.jpg" alt="git"></p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>git branch <new_branch></new_branch></td><td>新建本地分支</td></tr><tr><td>git branch</td><td>查看本地分支</td></tr><tr><td>git remote -v</td><td>查看远程仓库地址</td></tr><tr><td>git branch -r</td><td>查看远程分支</td></tr><tr><td>git branch -a</td><td>查看本地、远程分支</td></tr><tr><td>git remote update origin –prune</td><td>更新远程分支列表</td></tr><tr><td>git fetch</td><td>将将远程主机的最新内容拉到本地(手动合并)</td></tr><tr><td>git remote set-url origin &lt;new.git.url/here&gt;</td><td>远程仓库</td></tr><tr><td>git branch –set-upstream-to=origin/<branch></branch></td><td>设置跟踪远程分支</td></tr><tr><td>git checkout -b <name> origin/<name></name></name></td><td>将远程分支拉去到本地并切换到此分支</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 收藏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 命令 </tag>
            
            <tag> git </tag>
            
            <tag> 积累 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>02.Python-数据类型-str字符串</title>
      <link href="/2019/10/11/python/02.python-shu-ju-lei-xing-zi-fu-chuan/"/>
      <url>/2019/10/11/python/02.python-shu-ju-lei-xing-zi-fu-chuan/</url>
      
        <content type="html"><![CDATA[<p><em>字符串是一系列的字符，在Python中，用引号括起来的是字符串，可以使单引号，也可以是双引号。三引号可以表示多行</em></p><p><a href="!https://docs.python.org/zh-cn/3.7/library/stdtypes.html#text-sequence-type-str">字符串_官方文档</a></p><h2 id="字符串的表示"><a href="#字符串的表示" class="headerlink" title="字符串的表示"></a>字符串的表示</h2><ol><li>单引号定义 ‘’</li><li>双引号定义 “”</li><li>三引号定义(内容可换行) “”” “”” 或者 ‘’’ ‘’’</li><li>字符串定义时,引号可互相嵌套</li></ol><pre class="line-numbers language-python"><code class="language-python">name <span class="token operator">=</span>  <span class="token string">'zhangsan'</span>name <span class="token operator">=</span> <span class="token string">"zhangsan"</span>name <span class="token operator">=</span> <span class="token triple-quoted-string string">"""zhangsan"""</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h2><p>\可以当做转移符或者换行符</p><h3 id="换行符"><a href="#换行符" class="headerlink" title="换行符"></a>换行符</h3><p>当本行代码未完成需要换行时,需要在代码末尾加上\表示本行代码没有完成并换行</p><h3 id="转义符"><a href="#转义符" class="headerlink" title="转义符"></a>转义符</h3><ul><li>用一个特色的方法表示出一系列不方便写出的内容，例如回车键、换行符、退格键</li><li>借助反斜杠字符，接上一个或者几个字符，此时这些字符表示的不再是原来的意思，进行了转义</li><li>不同系统对换行符由不同的表示<ul><li>Windows： \n</li><li>Linux：\r\n</li></ul></li></ul><p><em>实例</em></p><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#  转义单引号</span>s <span class="token operator">=</span> <span class="token string">'Let\'s Go'</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span>Let's Go<span class="token comment" spellcheck="true"># 换行转移</span>s <span class="token operator">=</span> <span class="token string">'hello \n word'</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> hello  word<span class="token comment" spellcheck="true"># 路径的表示</span>s <span class="token operator">=</span> <span class="token string">'c:\\user\\abv'</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> c<span class="token punctuation">:</span>\user\abv<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>在字符串前面加一个r可以关闭转义, s = r’hello world’</strong></p><p><em>常用转义字符</em></p><table><thead><tr><th>转义字符</th><th>含义</th></tr></thead><tbody><tr><td>\</td><td>(在行尾时)    续行符</td></tr><tr><td>\\</td><td>反斜杠符号</td></tr><tr><td>&#39;</td><td>单引号</td></tr><tr><td>&quot;</td><td>双引号</td></tr><tr><td>\a</td><td>响铃</td></tr><tr><td>\b</td><td>退格(Backspace)</td></tr><tr><td>\e</td><td>转义</td></tr><tr><td>\000</td><td>空</td></tr><tr><td>\n</td><td>换行</td></tr><tr><td>\v</td><td>纵向制表符</td></tr><tr><td>\t</td><td>横向制表符</td></tr><tr><td>\r</td><td>回车,光标起始位置</td></tr><tr><td>\f</td><td>换页</td></tr><tr><td>\oyy</td><td>八进制数，yy代表的字符，例如：\o12代表换行</td></tr><tr><td>\xyy</td><td>十六进制数，yy代表的字符，例如：\x0a代表换行</td></tr><tr><td>\other</td><td>其它的字符以普通格式输出</td></tr></tbody></table><h2 id="字符串的操作"><a href="#字符串的操作" class="headerlink" title="字符串的操作"></a>字符串的操作</h2><h3 id="字符串的-操作"><a href="#字符串的-操作" class="headerlink" title="字符串的 + 操作"></a>字符串的 + 操作</h3><p>字符串相加可以完成字符串的拼接</p><pre class="line-numbers language-python"><code class="language-python">s1 <span class="token operator">=</span> <span class="token string">'hello '</span>s2 <span class="token operator">=</span> <span class="token string">'world'</span>s <span class="token operator">=</span> s1 <span class="token operator">+</span> s2<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> hello world<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="字符串的-操作-1"><a href="#字符串的-操作-1" class="headerlink" title="字符串的 * 操作"></a>字符串的 * 操作</h3><p>字符串乘以一个数字可以重复相应的次数</p><pre class="line-numbers language-python"><code class="language-python">s1 <span class="token operator">=</span> <span class="token string">'abc'</span>s2 <span class="token operator">=</span> s1 <span class="token operator">*</span> <span class="token number">3</span><span class="token keyword">print</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> abcabcabc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="字符串的切片操作"><a href="#字符串的切片操作" class="headerlink" title="字符串的切片操作"></a>字符串的切片操作</h3><p>字符串的切片只能访问,不能修改<br>切片的语法</p><p>str[开始索引:结束索引:步进值]</p><ul><li>开始索引默认为0</li><li>结束索引默认为最后</li><li>步进默认为1</li></ul><p><em>切片示例</em></p><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">'床前明月光'</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 取第一个字</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 取第二个字</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 取最后一个字</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 从第二个字取到第四个字</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#　从第一个字，每隔一个字去一个字，取到第四个字为止</span><span class="token keyword">print</span><span class="token punctuation">(</span>ｓ<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 取整个字符串</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 反着取整个字符串，相当于反序</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 反着每隔一个字取</span><span class="token operator">>></span><span class="token operator">></span>床<span class="token operator">>></span><span class="token operator">></span>前<span class="token operator">>></span><span class="token operator">></span>光<span class="token operator">>></span><span class="token operator">></span>前明<span class="token operator">>></span><span class="token operator">></span>床明<span class="token operator">>></span><span class="token operator">></span>床前明月光<span class="token operator">>></span><span class="token operator">></span>光月明前床<span class="token operator">>></span><span class="token operator">></span>光明床<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h2><ul><li>把字符按照一定的格式进行打印或者填充</li></ul><h3 id="传统格式化"><a href="#传统格式化" class="headerlink" title="传统格式化 %"></a>传统格式化 %</h3><ul><li>使用％进行格式化</li></ul><p>占位符列表</p><table><thead><tr><th>符号</th><th>含义</th></tr></thead><tbody><tr><td>%s</td><td>字符串</td></tr><tr><td>%d</td><td>十进制整数</td></tr><tr><td>%f, %F</td><td>浮点数十进制形式</td></tr></tbody></table><p>占位符的使用</p><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># %s表示简单的字符串</span>s <span class="token operator">=</span> <span class="token string">"My name is %s"</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token operator">%</span>小明<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> My name <span class="token keyword">is</span> 小明<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><em>占位符一般只能被同类型替换，或者替换类型能被转换成占位符的类型</em></p><p>多个占位符的使用，只需要用括号括起来，依次填入</p><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">"I am %fKG weight, %fm Heigh."</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token operator">%</span><span class="token punctuation">(</span><span class="token number">60.4</span><span class="token punctuation">,</span> <span class="token number">175.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> I am <span class="token number">60.400000</span> weeightt<span class="token punctuation">,</span> <span class="token number">175.</span>200000m Heigh<span class="token punctuation">.</span><span class="token comment" spellcheck="true"># 可以指定浮点数小数位数</span>s <span class="token operator">=</span> <span class="token string">"I am %.2fKG weight, %.2fm Heigh."</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token operator">%</span><span class="token punctuation">(</span><span class="token number">60.4</span><span class="token punctuation">,</span> <span class="token number">175.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> I am <span class="token number">60.40</span> weeightt<span class="token punctuation">,</span> <span class="token number">175.</span>20m Heigh<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="format格式化"><a href="#format格式化" class="headerlink" title="format格式化"></a>format格式化</h3><ul><li>使用函数形式进行格式化，代替%</li></ul><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 方式1</span>s <span class="token operator">=</span> <span class="token string">"{} {}!"</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>format<span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token string">"world"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> Hello world!<span class="token comment" spellcheck="true"># 方式2</span>s <span class="token operator">=</span> <span class="token string">"{} {}!"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token string">"world"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span>  Hello world! <span class="token comment" spellcheck="true"># 方式3 指定参数位置</span>s <span class="token operator">=</span> <span class="token string">"{1} {0}!"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span><span class="token string">"world"</span><span class="token punctuation">,</span> <span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span>  Hello world!<span class="token comment" spellcheck="true"># 参数不足时也可按指定的索引填充，但索引值不能超出提供数量。</span>s <span class="token operator">=</span> <span class="token string">"I love {0} and {0} love me!"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span><span class="token string">"小明"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> I love 小明 <span class="token operator">and</span> 小明 love me!<span class="token comment" spellcheck="true"># 使用关键字参数</span>s <span class="token operator">=</span> <span class="token string">"我们是{name}，我们的网址是{url}。"</span>s <span class="token operator">=</span> s<span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"百度"</span><span class="token punctuation">,</span> url<span class="token operator">=</span><span class="token string">"www.baidu.com"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> 我们是百度，我们的网址是www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com。<span class="token comment" spellcheck="true"># 使用容器类型数据传参</span>s <span class="token operator">=</span> <span class="token string">"我们是{0[0]}，我们的网址是{0[1]}。"</span>s1 <span class="token operator">=</span> s<span class="token punctuation">.</span>format<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'百度'</span><span class="token punctuation">,</span> <span class="token string">'www.baidu.com'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span>我们是百度，我们的网址是www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com。<span class="token comment" spellcheck="true"># 使用字典，需要解包</span>s <span class="token operator">=</span> <span class="token string">"我们是{name}，我们的网址是{url}。"</span>s_dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"百度"</span><span class="token punctuation">,</span> <span class="token string">"url"</span><span class="token punctuation">:</span><span class="token string">"www.baidu.com"</span><span class="token punctuation">}</span>s <span class="token operator">=</span> s<span class="token punctuation">.</span>format<span class="token punctuation">(</span><span class="token operator">**</span>s_dict<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> 我们是百度，我们的网址是www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com<span class="token comment" spellcheck="true"># 3.7中新增的方法 f</span>s_dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"百度"</span><span class="token punctuation">,</span> <span class="token string">"url"</span><span class="token punctuation">:</span><span class="token string">"www.baidu.com"</span><span class="token punctuation">}</span>s <span class="token operator">=</span> f<span class="token string">"我们是{s_dict['name']}，我们的网址是{s_dict['url']}。"</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> 我们是百度，我们的网址是www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com。<span class="token comment" spellcheck="true"># 格式化浮点数指定小数位数。</span>s <span class="token operator">=</span> <span class="token string">"I am {:.2f} m height"</span>s <span class="token operator">=</span> s<span class="token punctuation">.</span>format<span class="token punctuation">(</span><span class="token number">1.7</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> I am <span class="token number">1.70</span> m height<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="str-内置函数"><a href="#str-内置函数" class="headerlink" title="str 内置函数"></a>str 内置函数</h2><h3 id="英文相关函数"><a href="#英文相关函数" class="headerlink" title="英文相关函数"></a>英文相关函数</h3><h4 id="capitalize-将整个文本首字母大写"><a href="#capitalize-将整个文本首字母大写" class="headerlink" title="capitalize() - 将整个文本首字母大写"></a>capitalize() - 将整个文本首字母大写</h4><p>返回原字符串的副本，其首个字符大写，其余为小写。</p><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">'i love you'</span>s1 <span class="token operator">=</span> s<span class="token punctuation">.</span>capitalize<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> I love you<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="title-每个单词首字母大写"><a href="#title-每个单词首字母大写" class="headerlink" title="title - 每个单词首字母大写"></a>title - 每个单词首字母大写</h4><p>返回原字符串的标题版本，其中每个单词第一个字母为大写，其余字母为小写。</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token string">'Hello world'</span><span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token string">'Hello World'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="upper-字符串中所有英文字母转大写"><a href="#upper-字符串中所有英文字母转大写" class="headerlink" title="upper - 字符串中所有英文字母转大写"></a>upper - 字符串中所有英文字母转大写</h4><p>返回原字符串的副本，其中所有区分大小写的字符 4 均转换为大写。 请注意如果 s 包含不区分大小写的字符或者如果结果字符的 Unicode 类别不是 “Lu” (Letter, uppercase) 而是 “Lt” (Letter, titlecase) 则 s.upper().isupper() 有可能为 False。</p><h4 id="lower-字符串中所有英文字母转小写"><a href="#lower-字符串中所有英文字母转小写" class="headerlink" title="lower - 字符串中所有英文字母转小写"></a>lower - 字符串中所有英文字母转小写</h4><p>返回原字符串的副本，其所有区分大小写的字符均转换为小写。</p><h4 id="swapcase-大小写互换"><a href="#swapcase-大小写互换" class="headerlink" title="swapcase - 大小写互换"></a>swapcase - 大小写互换</h4><p>返回原字符串的副本，其中大写字符转换为小写，反之亦然。 请注意 s.swapcase().swapcase() == s 并不一定为真值。</p><h3 id="检测类函数"><a href="#检测类函数" class="headerlink" title="检测类函数"></a>检测类函数</h3><p><em>此类函数一般都是使用is开头</em></p><h4 id="isalpha-判断字符串是否全部是字母"><a href="#isalpha-判断字符串是否全部是字母" class="headerlink" title="isalpha() 判断字符串是否全部是字母"></a>isalpha() 判断字符串是否全部是字母</h4><p>使用注意：</p><ul><li>字符串至少包含一个字符，空字符返回false。</li><li>汉字被认为是alpha，此函数不能作为区分英文字母还是汉字。</li><li>空格不是alpha，包含空格的字符串返回false</li></ul><h4 id="isupper-判断一个字符串是否全部为大写"><a href="#isupper-判断一个字符串是否全部为大写" class="headerlink" title="isupper - 判断一个字符串是否全部为大写"></a>isupper - 判断一个字符串是否全部为大写</h4><ul><li>最少有一个字符</li></ul><h4 id="islower-判断一个字符串是否全部为小写"><a href="#islower-判断一个字符串是否全部为小写" class="headerlink" title="islower - 判断一个字符串是否全部为小写"></a>islower - 判断一个字符串是否全部为小写</h4><ul><li>空格不影响判断，全部为小写的字符串中包含空格返回True</li><li>中文返回False</li></ul><h4 id="istitle-判断字符串是否符合title要求"><a href="#istitle-判断字符串是否符合title要求" class="headerlink" title="istitle - 判断字符串是否符合title要求"></a>istitle - 判断字符串是否符合title要求</h4><ul><li>要求字符串所有英文单词首字母大写</li><li>字符串中有中文不影响判断</li></ul><h4 id="isalnum-判断是否由字符组成"><a href="#isalnum-判断是否由字符组成" class="headerlink" title="isalnum - 判断是否由字符组成"></a>isalnum - 判断是否由字符组成</h4><ul><li>由数字、字母、汉字组成，不能由其他</li><li>不能含有空格，否则返回false</li></ul><h4 id="isalpha-是否由中英文组成"><a href="#isalpha-是否由中英文组成" class="headerlink" title="isalpha - 是否由中英文组成"></a>isalpha - 是否由中英文组成</h4><ul><li>不能包含数字</li><li>不能包含空格</li></ul><h4 id="isspace-是否全部由空格组成"><a href="#isspace-是否全部由空格组成" class="headerlink" title="isspace - 是否全部由空格组成"></a>isspace - 是否全部由空格组成</h4><ul><li>不能包含除空格之外的其他字符</li><li>最少有一个字符</li></ul><h4 id="isdigit、isnumeric、isdecimal-判断一个字符串是否是数字"><a href="#isdigit、isnumeric、isdecimal-判断一个字符串是否是数字" class="headerlink" title="isdigit、isnumeric、isdecimal - 判断一个字符串是否是数字"></a>isdigit、isnumeric、isdecimal - 判断一个字符串是否是数字</h4><ul><li>isdigit: Unicode数字、byte数字（单字节）、全角数字（双字节）、罗马数字</li><li>isnumeric: Unicode数字、全角数字（双字节）</li><li>isdecimal: Unicode数字、汉字数字、全角数字（双字节）、罗马数字</li></ul><p><em>避免使用，尽量使用正则表达式</em></p><h4 id="startswith-endswith"><a href="#startswith-endswith" class="headerlink" title="startswith/endswith"></a>startswith/endswith</h4><p><strong>startswith/endswith判断一个字符串是否以xxx开头/结尾</strong></p><ul><li>语法: str.startswith(prefix[,staart[,end]]) - &gt; bool</li><li>prefix: 被检查字符串; start: 开始位置; end: 结束位置;</li></ul><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">"I am xiaoming"</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">"I am"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="查找类函数"><a href="#查找类函数" class="headerlink" title="查找类函数"></a>查找类函数</h3><h4 id="find-查找字符串中是否包含一个子串"><a href="#find-查找字符串中是否包含一个子串" class="headerlink" title="find - 查找字符串中是否包含一个子串"></a>find - 查找字符串中是否包含一个子串</h4><p>语法：S.find(sub[, start[, end]]) -&gt; int</p><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">"My name is xiaoming"</span>s1 <span class="token operator">=</span> <span class="token string">"xiaoming"</span><span class="token comment" spellcheck="true"># 返回第一次发现这个字符串的位置索引，第二次的处理。</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>find<span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">11</span>s2 <span class="token operator">=</span> <span class="token string">"xiaohong"</span><span class="token comment" spellcheck="true"># 未找到匹配项时返回-1</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>find<span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token comment" spellcheck="true"># 在指定的区间查找</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>find<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">11</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>lfind、rfind 分别代表从左开始查找与从右开始查找。</p></blockquote><h4 id="rfind-从右往左查找字符串是否包含一个子串"><a href="#rfind-从右往左查找字符串是否包含一个子串" class="headerlink" title="rfind - 从右往左查找字符串是否包含一个子串"></a>rfind - 从右往左查找字符串是否包含一个子串</h4><p>语法：S.rfind(sub[, start[, end]]) -&gt; int</p><ul><li>与find类似，区别是从右往左查找返回索引值</li><li>只有当查找的字符串出现多次，返回结果才会与find有区别</li></ul><h4 id="index"><a href="#index" class="headerlink" title="index"></a>index</h4><p>语法：S.index(sub[, start[, end]]) -&gt; int</p><p>用法与find相同，区别是<strong>find未找到时会返回-1，index会报ValueError</strong></p><h4 id="rindex-与rfind类似"><a href="#rindex-与rfind类似" class="headerlink" title="rindex - 与rfind类似"></a>rindex - 与rfind类似</h4><p>查找不到会报错</p><h4 id="count-查找一个字符串在另一个字符串出现的次数"><a href="#count-查找一个字符串在另一个字符串出现的次数" class="headerlink" title="count - 查找一个字符串在另一个字符串出现的次数"></a>count - 查找一个字符串在另一个字符串出现的次数</h4><p>语法： str.count(sub[, start[, end]])<br>返回子字符串 sub 在 [start, end] 范围内非重叠出现的次数。 可选参数 start 与 end 会被解读为切片表示法。</p><h3 id="操作类函数"><a href="#操作类函数" class="headerlink" title="操作类函数"></a>操作类函数</h3><h4 id="str-split-从左往右-按照制定的字符分割字符串成列表"><a href="#str-split-从左往右-按照制定的字符分割字符串成列表" class="headerlink" title="str.split() - 从左往右 按照制定的字符分割字符串成列表"></a>str.split() - 从左往右 按照制定的字符分割字符串成列表</h4><ul><li>语法：str.split(sep=None, maxsplit=-1)</li><li>返回一个由字符串内单词组成的列表，使用 sep 作为分隔字符串。</li><li>如果不指定sep，默认按空格进行拆分。</li><li>如果给出了 maxsplit，则最多进行 maxsplit 次拆分（因此，列表最多会有 maxsplit+1 个元素）。</li><li>如果 maxsplit 未指定或为 -1，则不限制拆分次数（进行所有可能的拆分）。</li></ul><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s <span class="token operator">=</span> <span class="token string">'zhang xiao ming'</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'zhang'</span><span class="token punctuation">,</span> <span class="token string">'xiao'</span><span class="token punctuation">,</span> <span class="token string">'ming'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="str-rsplit-从右往左-按照指定的字符分割字符串成列表"><a href="#str-rsplit-从右往左-按照指定的字符分割字符串成列表" class="headerlink" title="str.rsplit - 从右往左 按照指定的字符分割字符串成列表"></a>str.rsplit - 从右往左 按照指定的字符分割字符串成列表</h4><ul><li>语法： str.rsplit(sep=None, maxsplit=-1)</li><li>返回一个由字符串内单词组成的列表，使用 sep 作为分隔字符串。</li><li>如果给出了 maxsplit，则最多进行 maxsplit 次拆分，从 最右边 开始。 </li><li>如果 sep 未指定或为 None，任何空白字符串都会被作为分隔符。</li><li>除了从右边开始拆分，rsplit() 的其他行为都类似于 split()。</li></ul><h4 id="str-join-按指定的字符对可迭代对象进行拼接"><a href="#str-join-按指定的字符对可迭代对象进行拼接" class="headerlink" title="str.join - 按指定的字符对可迭代对象进行拼接"></a>str.join - 按指定的字符对可迭代对象进行拼接</h4><ul><li>语法：str.join(iterable)</li><li>需要一个可以迭代的内用作为参数</li><li>功能是把可迭代字符串拼接在一起，中间使用调用的字符串拼接</li></ul><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"zhang"</span><span class="token punctuation">,</span> <span class="token string">"xiao"</span><span class="token punctuation">,</span> <span class="token string">"ming"</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> ss <span class="token operator">=</span> <span class="token string">"-"</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>ss<span class="token punctuation">.</span>join<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>zhang<span class="token operator">-</span>xiao<span class="token operator">-</span>ming<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="str-strip-用于删除字符串两边的空格"><a href="#str-strip-用于删除字符串两边的空格" class="headerlink" title="str.strip() - 用于删除字符串两边的空格"></a>str.strip() - 用于删除字符串两边的空格</h4><ul><li>语法str.strip([chars])</li><li>可以指定chars 要删除的字符，不指定默认删除空格。</li><li>不是删除一个字符，是整个符合条件的连续的所有字符串</li><li>只能处理两侧的字符，中间的不处理。</li><li>同类型的还有str.lstrip()、str.rstrip()</li><li>str.lstrip()只处理左边的（开头）</li><li>str.rstrip()只处理右边的（结尾）</li></ul><pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">"zhang xiaoming"</span>s <span class="token operator">=</span> s<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">"zhang"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span>  xiaoming <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="str-replace-替换字符串中的内容"><a href="#str-replace-替换字符串中的内容" class="headerlink" title="str.replace() - 替换字符串中的内容"></a>str.replace() - 替换字符串中的内容</h4><ul><li>语法： str.replace(old, new[, count])</li><li>返回字符串的副本，其中出现的所有子字符串 old 都将被替换为 new。 </li><li>如果给出了可选参数 count，则只替换前 count 次出现。</li></ul><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> s <span class="token operator">=</span> <span class="token string">'zhang xiao ming'</span><span class="token operator">>></span><span class="token operator">></span> s<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token string">'zhana xiao mina'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="str-center-补充指定字符至指定长度"><a href="#str-center-补充指定字符至指定长度" class="headerlink" title="str.center - 补充指定字符至指定长度"></a>str.center - 补充指定字符至指定长度</h4><ul><li>语法： str.center(width[, fillchar])</li><li>返回长度为 width 的字符串，原字符串在其正中。 </li><li>使用指定的 fillchar 填充两边的空位（默认使用 ASCII 空格符）。</li><li>如果 width 小于等于 len(s) 则返回原字符串的副本。</li><li>默认优先补充左边。</li></ul>]]></content>
      
      
      <categories>
          
          <category> Python学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 基础 </tag>
            
            <tag> 数据类型 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>06.Python-函数</title>
      <link href="/2019/10/10/python/06.python-han-shu/"/>
      <url>/2019/10/10/python/06.python-han-shu/</url>
      
        <content type="html"><![CDATA[<blockquote><p>函数是组织好的，可重复使用的，用来实现单一，或相关联功能的代码段。<br>函数能提高应用的模块性，和代码的重复利用率。</p></blockquote><h2 id="定义一个函数"><a href="#定义一个函数" class="headerlink" title="定义一个函数"></a>定义一个函数</h2><ul><li>函数代码块由def关键字开头，后面接函数的名称和小括号 <strong>()</strong> </li><li>任何传入参数和自变量必须放在圆括号中间。圆括号之间可以用于定义参数。</li><li>函数的第一行语句可以选择性地使用文档字符串—用于存放函数说明。</li><li>函数内容以冒号起始，并且缩进</li><li>return [表达式] 结束函数，选择性地返回一个值给调用方。不带表达式的return相当于返回 None。</li></ul><p><strong>基本语法</strong></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> functionname <span class="token punctuation">(</span>parameters<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token string">"此处放函数的文档说明"</span>    function_suite    <span class="token keyword">return</span> <span class="token punctuation">[</span>expression<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>实例</strong></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">print_str</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token string">"将传入的文本打印出来"</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>    <span class="token keyword">return</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="函数的调用"><a href="#函数的调用" class="headerlink" title="函数的调用"></a>函数的调用</h2><p>直接输入函数的名字加上括号即可调用，括号中是否由内容根据实际情况</p><p><strong>调用函数实例</strong></p><pre class="line-numbers language-python"><code class="language-python">print_str<span class="token punctuation">(</span><span class="token string">"我调用函数"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="函数的返回值"><a href="#函数的返回值" class="headerlink" title="函数的返回值"></a>函数的返回值</h2><ul><li>调用函数时，函数返回的一个执行结果  </li><li>使用return返回 </li><li>可以没有返回值，但建议没有返回值时也写一个return None， 没有返回值的函数默认返回None</li><li>函数一旦执行return， 则函数立即结束，后面的代码不再执行</li></ul><h2 id="参数的传递"><a href="#参数的传递" class="headerlink" title="参数的传递"></a>参数的传递</h2><p> <em>参数负责给函数传递一些必要的数据或者信息</em></p><ul><li>形参：在函数定义的时候要用到的参数，没有具体的值，占位</li><li>实参： 在函数调用时，实际传入的值</li></ul><h3 id="实参的传递"><a href="#实参的传递" class="headerlink" title="实参的传递"></a>实参的传递</h3><h4 id="位置实参"><a href="#位置实参" class="headerlink" title="位置实参"></a>位置实参</h4><blockquote><p>在调用函数时，Python必须将函数调用中的每个实参关联到函数定义中的一个形参，最简单的关联方式是基于实参的顺序，这种关联方式称为位置实参</p></blockquote><p><em>实例</em></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span>    <span class="token keyword">return</span> Nonetest<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 调用函数时将实参1, 2, 3 分别对应到形参a, b, c</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><font color="red" size="3">位置实参的顺序以及数量很重要，必须一一对应关联</font></p><h4 id="关键字实参"><a href="#关键字实参" class="headerlink" title="关键字实参"></a>关键字实参</h4><blockquote><p>关键子实参是调用函数时传递给函数的名称-值对，直接在实参中将名称和值关联起来了，因此向函数传递参数时不会混淆，关键字实参无需考虑函数调用的实参顺序</p></blockquote><p><em>实例</em></p><pre class="line-numbers language-python"><code class="language-python">test<span class="token punctuation">(</span>b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><font color="red" size="3">使用关键子参数时，一定要准确的指定函数中定义的形参名</font></p><blockquote><p>关键字参数是调用时的概念</p></blockquote><h4 id="默认值实参"><a href="#默认值实参" class="headerlink" title="默认值实参"></a>默认值实参</h4><blockquote><p>在编写函数时，可以给每个形参指定默认值。在调用函数时给形参提供了实参时，Python将使用提供的实参，否则使用形参的默认值</p></blockquote><p><em>实例</em></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span>    <span class="token keyword">return</span> Nonetest<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>test<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 这两种调用方法都是可以的，第一个未提供c值，pyhton会使用默认值3。第二种提供c=4，pyhton会使用提供的实参4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><font color="red" size="3">使用默认值时，在形参中必须先列出没有默认值的形参，再列出有默认值的形参，否则Python无法正确理解位置实参</font></p><h4 id="收集实参"><a href="#收集实参" class="headerlink" title="收集实参"></a>收集实参</h4><blockquote><p>有时候并不知道函数需要接受多少个实参，python允许函数从调用语句中收集任意数量的实参。</p></blockquote><p><em>实例</em></p><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 定义一个函数，打印出班级学生姓名</span><span class="token keyword">def</span> <span class="token function">stu_name</span><span class="token punctuation">(</span><span class="token operator">*</span>names<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> name <span class="token keyword">in</span> names<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>stu_name<span class="token punctuation">(</span><span class="token string">'zhang'</span><span class="token punctuation">,</span> <span class="token string">'liu'</span><span class="token punctuation">,</span> <span class="token string">'wang'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>形参<em>name是. 中的\</em>会创建一个名为names的空元祖，在调用时，会将所有的值装入元祖。</p><ul><li>关键字收集实参</li></ul><blockquote><p>有时候需要接受任意数量的的实参，但预先并不知道传递给函数的是什么信息，可以使用关键字收集实参。</p></blockquote><p><em>实例</em></p><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 收集班级中所有的学生的相关信息</span><span class="token keyword">def</span> <span class="token function">stu_info</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token operator">**</span>info<span class="token punctuation">)</span><span class="token punctuation">:</span>    info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>    info<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> name    info<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span> <span class="token operator">=</span> age    <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> info<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        info<span class="token punctuation">[</span><span class="token string">'k'</span><span class="token punctuation">]</span> <span class="token operator">=</span> v    <span class="token keyword">return</span> infostu_info<span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'18'</span><span class="token punctuation">,</span> tel<span class="token operator">=</span><span class="token string">'1302566'</span><span class="token punctuation">,</span> hobby<span class="token operator">=</span><span class="token string">'basketball'</span><span class="token punctuation">,</span> <span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>**会收集多余位置实参的信息，并将信息在函数内部组成一个dict，在函数直接将info当成一个dict使用。</p><p><font color="red" size="3">以上实参可以混合使用，但在定义函数是必须按照<strong>位置实参</strong>→<strong>收集实参</strong>→<strong>收集关键字实参</strong>的顺序定义，在调用时，对应位置的参数进入位置实参，多余的进入收集实参，键值对进入收集关键字实参。 </font></p><h2 id="变量的作用域"><a href="#变量的作用域" class="headerlink" title="变量的作用域"></a>变量的作用域</h2><blockquote><p>作用域是指可用的范围、变量的有效区域</p></blockquote><h3 id="Python的作用域"><a href="#Python的作用域" class="headerlink" title="Python的作用域"></a>Python的作用域</h3><p>Python一共有4中作用域</p><ul><li><strong>L（Local）</strong>：最内层，包含局部变量，比如一个函数/方法内部。</li><li><strong>E（Enclosing）</strong>：包含了非局部(non-local)也非全局(non-global)的变量。比如两个嵌套函数，一个函数（或类） A 里面又包含了一个函数 B ，那么对于 B 中的名称来说 A 中的作用域就为 nonlocal。</li><li><strong>G（Global）</strong>：当前脚本的最外层，比如当前模块的全局变量。</li><li><strong>B（Built-in）</strong>： 包含了内建的变量/关键字等。，最后被搜索</li></ul><p>Python在作用域查找变量的顺序为<strong>L→E→G→B</strong>，Python由内 向外查找，直至找到，如查找到B仍然未找到，则抛出未定义异常。</p><blockquote><p>Python 中只有模块（module），类（class）以及函数（def、lambda）才会引入新的作用域，其它的代码块（如 if/elif/else/、try/except、for/while等）是不会引入新的作用域的，也就是说这些语句内定义的变量，外部也可以访问。</p></blockquote><h3 id="全局变量与局部变量"><a href="#全局变量与局部变量" class="headerlink" title="全局变量与局部变量"></a>全局变量与局部变量</h3><p>全局变量：定义在函数外部的变量，可在整个程序范围内使用，拥有全局作用域</p><p>局部变量：定义在函数内部的变量，只能在定义的函数内部使用，只有局部作用域</p><pre class="line-numbers language-python"><code class="language-python">c <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment" spellcheck="true"># 定义在函数外部-全局变量</span><span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    c <span class="token operator">=</span> a <span class="token operator">+</span> b  <span class="token comment" spellcheck="true"># 定义在函数内部-局部变量</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'局部变量值为：'</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>    <span class="token keyword">return</span> csum<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'全局变量值为'</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> 局部变量值为： <span class="token number">3</span><span class="token operator">>></span><span class="token operator">></span> 全局变量值为 <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="global与nonlocal关键字"><a href="#global与nonlocal关键字" class="headerlink" title="global与nonlocal关键字"></a>global与nonlocal关键字</h3><p>在全局作用域中无法使用局部变量，局部作用域中可以读取全局变量和修改全局变量中的可变数据类型（列表、集合、字典），不能修改不可变数据类型。</p><ol><li>如果想要在函数内部修改全局变量，需要使用global关键字</li></ol><pre class="line-numbers language-python"><code class="language-python">c <span class="token operator">=</span> <span class="token number">2</span><span class="token keyword">def</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> c  <span class="token comment" spellcheck="true"># 此处使用global修饰变量为全局变量</span>    c <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token keyword">return</span>change<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如果不使用global关键字，将会报错<strong>UnboundLocalError: local variable ‘c’ referenced before assignment</strong></p><ol start="2"><li>在嵌套函数中修改外部函数变量需要使用nonlocal关键字</li></ol><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    c <span class="token operator">=</span> <span class="token number">2</span>    <span class="token keyword">def</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        nonlocal c        c <span class="token operator">+=</span> <span class="token number">1</span>    change<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>f<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如不使用nonlocal关键字，将会报错UnboundLocalError: local variable ‘c’ referenced before assignment</p><p>此时也不能使用global关键字，因为在全局变量中没有c这个变量，所以会报未定义错误。</p><h4 id="globals-与locals-函数"><a href="#globals-与locals-函数" class="headerlink" title="globals()与locals()函数"></a>globals()与locals()函数</h4><ul><li>globals()函数可以获取当前作用域全局变量</li><li>locals()函数可以获取当前作用域的局部变量</li></ul><h2 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h2><h3 id="递归函数的定义"><a href="#递归函数的定义" class="headerlink" title="递归函数的定义"></a>递归函数的定义</h3><blockquote><p>递归函数就是定义一个函数，然后再函数内部自己调用自己的函数</p></blockquote><p>示例</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 计算时打印</span>    <span class="token keyword">if</span> x <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 递归中要有结束条件，否则程序将一直运行下去</span>        f<span class="token punctuation">(</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 在函数内部调用自己，参数改变</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 返回打印</span>f<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">3</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">2</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">1</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">0</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">0</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">1</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">2</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>递归函数会一层一层进行计算，最后在递归处一层一层将计算结果返回。</p><blockquote><p>递归函数需要一层一层计算，效率较低，一般递归能实现的for循环也可以，所以除特殊场景，一般不是用递归。</p></blockquote><h3 id="递归实现阶乘"><a href="#递归实现阶乘" class="headerlink" title="递归实现阶乘"></a>递归实现阶乘</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> x <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token number">1</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> x<span class="token operator">*</span>f<span class="token punctuation">(</span>x<span class="token number">-1</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#调用自己</span>res <span class="token operator">=</span> f<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">6</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>计算3的阶乘，程序运行</p><ol><li>3带入后进入else计算，函数返回3*f(3-1)，即f(3)=3*f(2)</li><li>此时需要计算出f(2)是什么，继续将2带入函数计算，此时函数返回2*f(2-1), 即f(2)=2*f(1)</li><li>将1带入函数，此时x==1，程序返回1，即f(1) == 1</li><li>得知f(1)==1后，程序开始返回结果，f(2)=2*1=2，对应第2步，计算得出f(2) = 2</li><li>计算得出f(2) = 2，也就是f(3)=3*f(2)=3*2=6</li></ol><pre class="line-numbers language-python"><code class="language-python">f<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span>  <span class="token comment" spellcheck="true"># 将3带入后，程序返回f(3)=3*f(2)</span>    <span class="token number">3</span><span class="token operator">*</span>f<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 此时程序需要计算f(2)是什么，函数返回f(2)=2*f(1)</span>        <span class="token number">2</span><span class="token operator">*</span>f<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 此时需要计算f(1)是什么，函数返回f(1)=1</span>            f<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span><span class="token operator">></span> <span class="token number">1</span>  <span class="token comment" spellcheck="true"># 得出结果，f(1) = 1</span>        <span class="token number">2</span><span class="token operator">*</span><span class="token number">1</span>  <span class="token comment" spellcheck="true"># 对应得出f(2)=2*f(1) = 2*1=3</span>    <span class="token number">3</span><span class="token operator">*</span><span class="token number">2</span>  <span class="token comment" spellcheck="true"># 对应得出f(3)=3*f(2) = 3*2 = 6</span>f<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">6</span>  <span class="token comment" spellcheck="true"># 得出最终结果f(3) = 6</span>得出结果<span class="token operator">=</span><span class="token number">6</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>阶乘的for循环实现</p><pre class="line-numbers language-python"><code class="language-python">Num <span class="token operator">=</span> int<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token string">'请输入一个整数： '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>Num<span class="token punctuation">)</span><span class="token punctuation">:</span>    Num <span class="token operator">=</span> Num<span class="token operator">*</span>i<span class="token keyword">print</span><span class="token punctuation">(</span>Num<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="递归函数实现斐波那契数列"><a href="#递归函数实现斐波那契数列" class="headerlink" title="递归函数实现斐波那契数列"></a>递归函数实现斐波那契数列</h3><p>斐波那契数列定义：</p><p>指的是这样一个数列：1、1、2、3、5、8、13、21、34、……，从第三位开始，每一位都等于前两位的和。</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">or</span> n <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token number">1</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> f<span class="token punctuation">(</span>n<span class="token number">-1</span><span class="token punctuation">)</span><span class="token operator">+</span>f<span class="token punctuation">(</span>n<span class="token number">-2</span><span class="token punctuation">)</span>res <span class="token operator">=</span> f<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">13</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>当n=1 或者2时，程序返回1</li><li>当n大于2时，返回f(n-1)+f(n-2)</li><li>直到程序运行到n=2，返回1</li><li>得出结果层层返回</li></ul><h2 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h2><blockquote><p>回调函数是指在一个函数中传递的参数是另一个函数，并在函数中使用了传递的函数，那个这个被使用的函数称为回调函数</p></blockquote><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'这是一个回调函数'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'主函数'</span><span class="token punctuation">)</span>    f<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 调用回调函数</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'主函数结束'</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> 主函数<span class="token operator">>></span><span class="token operator">></span> 这是一个回调函数<span class="token operator">>></span><span class="token operator">></span> 主函数结束<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="闭包函数"><a href="#闭包函数" class="headerlink" title="闭包函数"></a>闭包函数</h2><blockquote><p>定义一个函数，在函数的内部再定义一个内嵌函数,内嵌函数使用了外函数的变量，并且外函数的返回值为内部定义的内嵌函数，则这个函数为闭包函数</p></blockquote><p>示例</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    x <span class="token operator">=</span> <span class="token number">1</span>    <span class="token keyword">def</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        nonlocal x           x <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>    <span class="token keyword">return</span> bres <span class="token operator">=</span> a<span class="token punctuation">(</span><span class="token punctuation">)</span>res<span class="token punctuation">(</span><span class="token punctuation">)</span>res<span class="token punctuation">(</span><span class="token punctuation">)</span>res<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">2</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">3</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="闭包函数的作用"><a href="#闭包函数的作用" class="headerlink" title="闭包函数的作用"></a>闭包函数的作用</h3><ul><li>保护变量</li><li>保存函数的状态信息，使函数的局部变量信息依然可以保存下来</li></ul><p>示例中，虽然a函数的调用已经结束，但x的值仍然保持状态。所以闭包函数会比较占用资源，当变量不使用时，应及时删除。</p><h3 id="闭包函数的检测"><a href="#闭包函数的检测" class="headerlink" title="闭包函数的检测"></a>闭包函数的检测</h3><p>使用调用外函数名.__closure__检测，如果是闭包函数，返回一个cell，否则返回None</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__closure__<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>cell at <span class="token number">0x0000012F0AB05F18</span><span class="token punctuation">:</span> int object at <span class="token number">0x00007FF983BED420</span><span class="token operator">></span><span class="token punctuation">,</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h2><p>Python中使用lambda定义，匿名函数不使用def定义，没有名字所以称为匿名函数，一般一些逻辑简单的函数使用。</p><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 实现两个数字相加</span>res <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y <span class="token punctuation">:</span> x<span class="token operator">+</span>y<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">9</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>配合map使用将一个列表中的数据统一进行相同的计算</strong></p><pre class="line-numbers language-pyhton"><code class="language-pyhton">res = list(map(lambda x:x*3, [1, 3, 5]))  # 对列表中所有的元素乘以3print(res)>>> [3, 9, 15]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h2><h3 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h3><p>语法：</p><ul><li><code>map(function, iterable, ...)</code></li><li>function – 函数</li><li>iterable – 一个或多个序列</li></ul><p>功能：将序列中的每个元素依次放入函数中，然后将函数的返回值组成新的迭代器</p><pre class="line-numbers language-python"><code class="language-python">l1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>l2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span> <span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 将两个元素相乘</span>    <span class="token keyword">return</span> x <span class="token operator">*</span> yres <span class="token operator">=</span> map<span class="token punctuation">(</span>f1<span class="token punctuation">,</span> l1<span class="token punctuation">,</span> l2<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 将l1和l2中的每个元色依次相乘</span><span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">]</span><span class="token keyword">def</span> <span class="token function">f2</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 将输入的参数乘10</span>    <span class="token keyword">return</span> x <span class="token operator">*</span> <span class="token number">10</span>res <span class="token operator">=</span> map<span class="token punctuation">(</span>f2<span class="token punctuation">,</span> l1<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 将l1中的每个参数乘以10 </span><span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">]</span>res <span class="token operator">=</span> map<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">,</span> l1<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 配合lambda使用</span><span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce()"></a>reduce()</h3><p>语法</p><ul><li><code>reduce(function, iterable[, initializer])</code></li><li>function – 函数，这个函数要有两个参数</li><li>iterable – 可迭代对象</li><li>initializer – 可选，初始参数</li></ul><p>功能：将一个数据集合中所有数据中的第1、2个元素传入function中进行计算，并将函数返回的结果和第三个元素再次传入function中计算，以此类推，直至最后一个元素参与计算。</p><blockquote><p>使用reduce()需要在functools中导入</p></blockquote><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> functools improt reduce<span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">:</span>            <span class="token comment" spellcheck="true"># 两数相加</span>     <span class="token keyword">return</span> x <span class="token operator">+</span> yres <span class="token operator">=</span> reduce<span class="token punctuation">(</span>add<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 计算列表和：1+2+3+4+5</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">15</span>res <span class="token operator">=</span> reduce<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> x<span class="token operator">+</span>y<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 使用 lambda 匿名函数</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">15</span><span class="token keyword">def</span> <span class="token function">str_</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 将一个可迭代对象中所有的元素连接成一个字符串</span>    <span class="token keyword">return</span> str<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> str<span class="token punctuation">(</span>y<span class="token punctuation">)</span>res <span class="token operator">=</span> reduce<span class="token punctuation">(</span>str_<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">12345</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h3><p>语法：</p><ul><li><p><code>filter(function, iterable)</code></p></li><li><p>function：判断函数</p></li><li><p>iterable：可迭代对象</p></li></ul><p>功能：将可迭代对象中的元素依次带入判断函数进行判断，若函数返回True，则该元素被保留，放入新的迭代器中，filter()函数返回新的迭代器。</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">odd</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 判断一个数字是不是奇数</span>    <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token boolean">True</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token boolean">False</span>ls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>res <span class="token operator">=</span> filter<span class="token punctuation">(</span>odd<span class="token punctuation">,</span> ls<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>res <span class="token operator">=</span> filter<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token boolean">True</span> <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token boolean">False</span><span class="token punctuation">,</span> ls<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 使用匿名函数</span><span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="sorted"><a href="#sorted" class="headerlink" title="sorted()"></a>sorted()</h3><p>语法：</p><ul><li><code>sorted(iterable, key=None, reverse=False)</code></li><li>iterable：一个可迭代对象</li><li>key：处理函数</li><li>reverse：是否对处理结果反序</li></ul><p>功能：将一个可迭代对象放入key函数中，sorted()函数会根据key函数返回值对可迭代对象进行排序组成新的迭代器。</p><pre class="line-numbers language-python"><code class="language-python">ls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>res <span class="token operator">=</span> sorted<span class="token punctuation">(</span>ls<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 对ls列表进行排序</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>res <span class="token operator">=</span> sorted<span class="token punctuation">(</span>ls<span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 对结果反序</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>res <span class="token operator">=</span> sorted<span class="token punctuation">(</span>ls<span class="token punctuation">,</span> key<span class="token operator">=</span>abs<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 对ls求绝对值后排序</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>该函数根据key函数对元素进行处理后进行排序，但返回的是函数处理前的元素组成的迭代器。</p></blockquote><h3 id="zip"><a href="#zip" class="headerlink" title="zip()"></a><a href="https://docs.python.org/zh-cn/3/library/functions.html" target="_blank" rel="noopener">zip()</a></h3><p>语法：</p><ul><li><code>zip</code>(<em>*iterables</em>)</li><li>iterables:可迭代对象</li></ul><p>功能：将多个可迭代对象中每个迭代器的第i个元素组合成一个元组的迭代器，当输入可迭代对象中的最短的一个被耗尽时，迭代器停止迭代。</p><pre class="line-numbers language-python"><code class="language-python">ls1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>ls2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">]</span>ls3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">)</span>res <span class="token operator">=</span> zip<span class="token punctuation">(</span>ls1<span class="token punctuation">,</span> ls2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> tuple<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token operator">&lt;</span>zip object at <span class="token number">0x000002159758D588</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>使用*zip()还可以解包一个列表</p><pre class="line-numbers language-python"><code class="language-python">ls4 <span class="token punctuation">,</span> ls5<span class="token punctuation">,</span> ls6 <span class="token operator">=</span> zip<span class="token punctuation">(</span><span class="token operator">*</span>zip<span class="token punctuation">(</span>ls1<span class="token punctuation">,</span> ls2<span class="token punctuation">,</span> ls3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>ls4<span class="token punctuation">,</span> ls5<span class="token punctuation">,</span> ls6<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="进制相关函数"><a href="#进制相关函数" class="headerlink" title="进制相关函数"></a>进制相关函数</h3><table><thead><tr><th>函数</th><th>用途</th></tr></thead><tbody><tr><td>bin()</td><td>转2进制</td></tr><tr><td>oct()</td><td>转8进制</td></tr><tr><td>int()</td><td>转10进制数字</td></tr><tr><td>hex()</td><td>转16进制</td></tr></tbody></table><h3 id="类型转换函数"><a href="#类型转换函数" class="headerlink" title="类型转换函数"></a>类型转换函数</h3><table><thead><tr><th>函数</th><th>转换后类型</th><th>可转换类型</th></tr></thead><tbody><tr><td>str()</td><td>字符串</td><td>所有类型都可以</td></tr><tr><td>int()</td><td>整数</td><td>纯数字字符串、布尔值、浮点数，其他容器类类型不能转</td></tr><tr><td>float()</td><td>浮点数</td><td>纯数字字符串、布尔值、整数</td></tr><tr><td>bool()</td><td>布尔值</td><td>所有类型都可以</td></tr><tr><td>list()</td><td>列表</td><td>字符串、数组、字典（只保留键）集合</td></tr><tr><td>tuple()</td><td>元组</td><td>数字类型和非容器类型不能转换、容器类型可以</td></tr><tr><td>dict()</td><td>字典</td><td>只有特定的列表和元组可以转，要求列表中的每个元素都是一个只包含俩个元素的列表，其中第一个元素转为字典的键，第二个为值 [[1, a], [2, b], [3, c]]，元组要求类似。</td></tr><tr><td>set()</td><td>集合</td><td>非容器类不可以转换，容器类转换后无序、去重、字典只保留键。</td></tr></tbody></table><h3 id="变量相关函数"><a href="#变量相关函数" class="headerlink" title="变量相关函数"></a>变量相关函数</h3><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>id()</td><td>获取当前数据id</td></tr><tr><td>type()</td><td>获取当前数据类型</td></tr><tr><td>print()</td><td>打印数据</td></tr><tr><td>input()</td><td>获取输入的数据</td></tr></tbody></table><h3 id="数学相关函数"><a href="#数学相关函数" class="headerlink" title="数学相关函数"></a>数学相关函数</h3><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>abs(x)</td><td>返回一个数的绝对值</td></tr><tr><td>sum(<em>iterable</em>, <em>/</em>, <em>start=0</em>)</td><td>第一个参数为一个可迭代对象，返回可迭代对象所有元素的和，如提供start，一并相加。</td></tr><tr><td>min(iterable, *[, key, default])<br>min(arg1, arg2, *args[, key])</td><td>返回可迭代对象中最小的元素，或者返回两个及以上实参中最小的。</td></tr><tr><td>max(iterable, *[, key, default])¶<br>max(arg1, arg2, *args[, key])</td><td>返回可迭代对象中最大的元素，或者返回两个及以上实参中最大的。</td></tr><tr><td>pow(<em>base</em>, <em>exp</em>[, <em>mod</em>])</td><td>返回 <em>base</em> 的 <em>exp</em> 次幂；如果 <em>mod</em> 存在，则返回 <em>base</em> 的 <em>exp</em> 次幂对 <em>mod</em> 取余（比 <code>pow(base, exp) % mod</code> 更高效）。</td></tr></tbody></table><p><strong>round(number[, ndigits])</strong></p><p>功能返回 <em>number</em> 舍入到小数点后 <em>ndigits</em> 位精度的值。 如果 <em>ndigits</em> 被省略或为 <code>None</code>，则返回最接近输入值的整数。</p><blockquote><p>这个函数在Python3.x中采用的是四舍六入五成双的方式。</p></blockquote><pre class="line-numbers language-python"><code class="language-python">s1 <span class="token operator">=</span> <span class="token number">15</span>  <span class="token comment" spellcheck="true"># 20  奇数进一</span>s2 <span class="token operator">=</span> <span class="token number">25</span>  <span class="token comment" spellcheck="true"># 20  偶数舍弃</span><span class="token keyword">print</span><span class="token punctuation">(</span>round<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> round<span class="token punctuation">(</span>s2<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 观察位后有数进一</span>s1 <span class="token operator">=</span> <span class="token number">151</span>  <span class="token comment" spellcheck="true"># 200</span>s2 <span class="token operator">=</span> <span class="token number">251</span>  <span class="token comment" spellcheck="true"># 300</span><span class="token keyword">print</span><span class="token punctuation">(</span>round<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> round<span class="token punctuation">(</span>s2<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>s1 <span class="token operator">=</span> <span class="token number">1.115</span>  <span class="token comment" spellcheck="true"># 1.11  奇数舍弃</span>s2 <span class="token operator">=</span> <span class="token number">1.125</span>  <span class="token comment" spellcheck="true"># 1.12  偶数进一</span><span class="token keyword">print</span><span class="token punctuation">(</span>round<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> round<span class="token punctuation">(</span>s2<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 观察位后有数进一</span>s1 <span class="token operator">=</span> <span class="token number">1.1151</span>  <span class="token comment" spellcheck="true"># 1.12  </span>s2 <span class="token operator">=</span> <span class="token number">1.1251</span>  <span class="token comment" spellcheck="true"># 1.13 </span><span class="token keyword">print</span><span class="token punctuation">(</span>round<span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> round<span class="token punctuation">(</span>s2<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="其他函数"><a href="#其他函数" class="headerlink" title="其他函数"></a>其他函数</h3><table><thead><tr><th>函数</th><th>用途</th></tr></thead><tbody><tr><td>ord()</td><td>返回单个 Unicode 字符的对应 Unicode 码点的整数</td></tr><tr><td>chr()</td><td>与ord()相反，返回 Unicode 码对应的字符</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Python学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 基础 </tag>
            
            <tag> python </tag>
            
            <tag> 函数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>03.Python基础类型-列表与元组</title>
      <link href="/2019/10/09/python/03.python-ji-chu-lei-xing-lie-biao-yu-yuan-zu/"/>
      <url>/2019/10/09/python/03.python-ji-chu-lei-xing-lie-biao-yu-yuan-zu/</url>
      
        <content type="html"><![CDATA[<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><ul><li>一组有序数据组成的序列</li><li>数据有先后顺序</li><li>数据可以不是同类型的</li><li>列表的每个元素用英文逗号分隔</li></ul><h2 id="list的创建"><a href="#list的创建" class="headerlink" title="list的创建"></a>list的创建</h2><h3 id="直接创建"><a href="#直接创建" class="headerlink" title="直接创建"></a>直接创建</h3><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"zhang"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="用函数创建"><a href="#用函数创建" class="headerlink" title="用函数创建"></a>用函数创建</h3><pre class="line-numbers language-python"><code class="language-python">t <span class="token operator">=</span> <span class="token string">"zhang"</span>l <span class="token operator">=</span> list<span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token string">'z'</span><span class="token punctuation">,</span> <span class="token string">'h'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'n'</span><span class="token punctuation">,</span> <span class="token string">'g'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="创建一个只包含一个字符串的列表的列表"><a href="#创建一个只包含一个字符串的列表的列表" class="headerlink" title="创建一个只包含一个字符串的列表的列表"></a>创建一个只包含一个字符串的列表的列表</h3><pre class="line-numbers language-python"><code class="language-python">t <span class="token operator">=</span> <span class="token string">"zhang"</span>l <span class="token operator">=</span> <span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token string">'zhang'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="列表推导式"><a href="#列表推导式" class="headerlink" title="列表推导式"></a>列表推导式</h3><blockquote><p>列表推导式提供了一个更简单的创建列表的方法。常见的用法是把某种操作应用于序列或可迭代对象的每个元素上，然后使用其结果来创建列表，或者通过满足某些特定条件元素来创建子序列。</p></blockquote><p>示例：创建一个平方列表</p><pre class="line-numbers language-python"><code class="language-python">res <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token operator">**</span><span class="token number">2</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true"># 生成列表之前可以对列表元素进行操作</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>示例：对一个列表的元素进行过滤，过滤出列表中所有的偶数(带有判断条件的列表推导式)</p><pre class="line-numbers language-python"><code class="language-python">ls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>res <span class="token operator">=</span> <span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> ls <span class="token keyword">if</span> i<span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>示例：带条件的多循环推导式</p><pre class="line-numbers language-python"><code class="language-python">res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token keyword">for</span> y <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token keyword">if</span> x <span class="token operator">!=</span>y<span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="赋值、浅拷贝与深拷贝"><a href="#赋值、浅拷贝与深拷贝" class="headerlink" title="赋值、浅拷贝与深拷贝"></a>赋值、浅拷贝与深拷贝</h2><ul><li><strong>直接赋值：</strong>其实就是对象的引用（别名）。</li><li><strong>浅拷贝(copy)：</strong>拷贝父对象，不会拷贝对象的内部的子对象。</li><li><strong>深拷贝(deepcopy)：</strong> copy 模块的 deepcopy 方法，完全拷贝了父对象及其子对象。</li></ul><p><strong>直接赋值示例</strong></p><pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>b <span class="token operator">=</span> a<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">==</span>id<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>a<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'修改后的列表a'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'修改后的列表b'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> 修改后的列表a <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> 修改后的列表b <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>直接赋值，他们指向的id相同弄，原列表改变后，赋值的列表也会改变</p><p><strong>浅拷贝示例</strong></p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">=</span> a<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">==</span>id<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token boolean">False</span><span class="token operator">>></span><span class="token operator">></span> a<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'修改后的列表a'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>修改后的列表a <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'修改后的列表b'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>修改后的列表b <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">del</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'修改子元素后的列表a'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>修改子元素后的列表a <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'修改子元素后的列表b'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>修改子元素后的列表b <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true"># 复制后的嵌套列表中的5也被删除了</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>浅拷贝后的对象，他们的id不同，改变原列表元素后，新列表不会改变，但改变列表中的嵌套列表中的元素，新列表也会改变。</p><p><strong>深拷贝示例</strong></p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> copy<span class="token operator">>></span><span class="token operator">></span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">=</span> copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">==</span>id<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token boolean">False</span><span class="token operator">>></span><span class="token operator">></span> a<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'修改后的列表a'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>修改后的列表a <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'修改后的列表b'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>修改后的列表b <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">del</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'修改子元素后的列表a'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>修改子元素后的列表a <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'修改子元素后的列表b'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>修改子元素后的列表b <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true"># 深拷贝后的列表，删除原列表中的5，不会对新列表中有影响</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>深拷贝需要导入copy包，深拷贝是完全拷贝，修改原列表不会对拷贝后的列表产生影响。</p><h2 id="list相关函数"><a href="#list相关函数" class="headerlink" title="list相关函数"></a>list相关函数</h2><h3 id="len-l-计算列表长度"><a href="#len-l-计算列表长度" class="headerlink" title="len(l)-计算列表长度"></a>len(l)-计算列表长度</h3><p>语法：len(l)</p><p>功能：使用函数len()可以算出列表的 长度（元素个数）</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>len<span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token number">5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>len()计算 长度时，会从1开始</p></blockquote><h3 id="count-计算元素在列表中出现的次数"><a href="#count-计算元素在列表中出现的次数" class="headerlink" title="count()-计算元素在列表中出现的次数"></a>count()-计算元素在列表中出现的次数</h3><p>语法：l.count(x)</p><p>功能：统计一个元素在列表中出现的次数</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="index-查找一个元素的索引"><a href="#index-查找一个元素的索引" class="headerlink" title="index()-查找一个元素的索引"></a>index()-查找一个元素的索引</h3><p>语法：s.index(x[, i[, j]])</p><p>功能：<em>x</em> 在 <em>s</em> 中首次出现项的索引号（索引号在 <em>i</em> 或其后且在 <em>j</em> 之前）</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token number">2</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>如果有重复的元素，则默认返回第一次查找到的位置。</p></blockquote><h2 id="list的增删改查"><a href="#list的增删改查" class="headerlink" title="list的增删改查"></a>list的增删改查</h2><h3 id="添加元素"><a href="#添加元素" class="headerlink" title="添加元素"></a>添加元素</h3><h4 id="末尾添加元素"><a href="#末尾添加元素" class="headerlink" title="末尾添加元素"></a>末尾添加元素</h4><p>末尾添加元素可使用append()方法</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> l<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">66</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="在元素指定位置添加"><a href="#在元素指定位置添加" class="headerlink" title="在元素指定位置添加"></a>在元素指定位置添加</h4><p>在元素指定位置添加使用insert()方法<br>在索引1的位置添加元素1，之后的元素向右移动</p><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span>l<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="删除元素"><a href="#删除元素" class="headerlink" title="删除元素"></a>删除元素</h3><h4 id="使用del语句删除元素"><a href="#使用del语句删除元素" class="headerlink" title="使用del语句删除元素"></a>使用del语句删除元素</h4><p>使用del删除元素需要知道元素的索引值，如下删除列表中的第二个数值（索引为1）</p><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span><span class="token keyword">del</span> l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="使用pop-方法弹出元素"><a href="#使用pop-方法弹出元素" class="headerlink" title="使用pop()方法弹出元素"></a>使用pop()方法弹出元素</h4><p>pop()方法可以弹出列表末尾的元素并可以赋值给一个变量继续使用</p><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span>a <span class="token operator">=</span> l<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">55</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="弹出任意位置的元素"><a href="#弹出任意位置的元素" class="headerlink" title="弹出任意位置的元素"></a>弹出任意位置的元素</h4><p>在pop中指定索引，可弹出指定位置的元素</p><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span>a <span class="token operator">=</span> l<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">33</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>使用del还是pop()？当一个元素需要删除且不再需要他时，使用del；删除后还需要使用时，使用pop()。</p></blockquote><h4 id="根据值删除元素"><a href="#根据值删除元素" class="headerlink" title="根据值删除元素"></a>根据值删除元素</h4><p>有时候并不知道元素的位置，只知道值，可以使用remove()方法</p><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span>l<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>remove只会删除第一个匹配的值，如有多个相同的值，应使用循环删除。</p></blockquote><h4 id="清空列表"><a href="#清空列表" class="headerlink" title="清空列表"></a>清空列表</h4><p>使用clear方法可以清空列表</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> l<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token string">'l的长度：'</span><span class="token punctuation">,</span> len<span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> l的长度： <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="修改元素"><a href="#修改元素" class="headerlink" title="修改元素"></a>修改元素</h3><p>修改列表的元素需要指定修改列表的元素索引，并指定该元素的新值</p><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span>l<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">56</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="访问元素"><a href="#访问元素" class="headerlink" title="访问元素"></a>访问元素</h3><ul><li>使用下标（索引）访问</li><li>列表元素的索引从0开始</li></ul><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">22</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>索引不能超出元素总数量，否则引发IndexError</p><h2 id="组织列表"><a href="#组织列表" class="headerlink" title="组织列表"></a>组织列表</h2><h3 id="列表永久排序"><a href="#列表永久排序" class="headerlink" title="列表永久排序"></a>列表永久排序</h3><p>列表的排序可以使用sort()方法。</p><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>l<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>可以向sort()传递参数reverse=True，反序排列列表</p><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>l<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="临时排序列表"><a href="#临时排序列表" class="headerlink" title="临时排序列表"></a>临时排序列表</h3><p>临时对列表排序可使用sortde()方法</p><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"原始的列表"</span><span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"临时排序的列表"</span><span class="token punctuation">,</span> sorted<span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"再次打印开始的列表"</span><span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> 原始的列表 <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> 临时排序的列表 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> 再次打印开始的列表 <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>同样可以通过reverse=True参数倒叙排列列表</p><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"原始的列表"</span><span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"临时排序的列表"</span><span class="token punctuation">,</span> sorted<span class="token punctuation">(</span>l<span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"再次打印开始的列表"</span><span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> 原始的列表 <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> 临时排序的列表 <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> 再次打印开始的列表 <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="反序排列列表"><a href="#反序排列列表" class="headerlink" title="反序排列列表"></a>反序排列列表</h3><p>反序排列列表拍，可以使用reverse()方法</p><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>l<span class="token punctuation">.</span>reverse<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>reverse 会将列表永久性反序，但可以再次调用reverse方法将顺序恢复</p></blockquote><blockquote></blockquote><h2 id="操作列表"><a href="#操作列表" class="headerlink" title="操作列表"></a>操作列表</h2><h3 id="使用for循环遍历整个列表"><a href="#使用for循环遍历整个列表" class="headerlink" title="使用for循环遍历整个列表"></a>使用for循环遍历整个列表</h3><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> l<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">5</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">3</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">9</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">7</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="创建数字列表"><a href="#创建数字列表" class="headerlink" title="创建数字列表"></a>创建数字列表</h3><h4 id="使用range-函数"><a href="#使用range-函数" class="headerlink" title="使用range()函数"></a>使用range()函数</h4><p>使用range()可以生成一系列数字</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">for</span> value <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">1</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">2</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">3</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>range()生成的数字中，不会包含右边的数字</p></blockquote><h4 id="使用range-函数创建列表"><a href="#使用range-函数创建列表" class="headerlink" title="使用range()函数创建列表"></a>使用range()函数创建列表</h4><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> list<span class="token punctuation">(</span>range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>使用list()函数将range()的结果转换为列表</p></blockquote><p>range()还可以指定步长</p><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> list<span class="token punctuation">(</span>range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>以上，range会从1开始，每次+2进行数字生成</p><h4 id="数字列表的简单统计计算"><a href="#数字列表的简单统计计算" class="headerlink" title="数字列表的简单统计计算"></a>数字列表的简单统计计算</h4><table><thead><tr><th>函数</th><th>作用</th><th>实例</th></tr></thead><tbody><tr><td>min()</td><td>找出列表中的最小值</td><td>mi = min(list)</td></tr><tr><td>max()</td><td>找出列表中的最大值</td><td>ma = max(list)</td></tr><tr><td>sum()</td><td>求列表所有元素的和</td><td>s = sum(list)</td></tr></tbody></table><h3 id="使用列表的一部分"><a href="#使用列表的一部分" class="headerlink" title="使用列表的一部分"></a>使用列表的一部分</h3><h4 id="列表的切片"><a href="#列表的切片" class="headerlink" title="列表的切片"></a>列表的切片</h4><p><strong>对列表的一段进行截取</strong><br>切片注意取值范围，左包括右不包括</p><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 从索引1取值到索引3，但不包括索引3的值（15）</span>l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><em>切片会创建一个新的列表，通过id可以判断</em></p><ul><li>切片的下标可以为空</li></ul><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 从0到3</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 从1到结束</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">{</span><span class="token punctuation">:</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 从头到尾</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>切片可以控制增幅，默认为1</li></ul><pre class="line-numbers language-pyhton"><code class="language-pyhton">l = [55, 22, 36, 15, 4]print(l[::2])  # 设置步长为2>>> [55, 36, 4]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>切片下表可以超出范围，不会引发IndexError</li></ul><pre class="line-numbers language-pyhton"><code class="language-pyhton">l = [55, 22, 36, 15, 4]print([:100])>>> [55, 22, 36, 15, 4]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>下标、增幅可以为复数</li><li>下标为负数表示从右往左</li><li>数组的最后一位的下标为 <strong>-1</strong></li></ul><pre class="line-numbers language-python"><code class="language-python">l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 会打印空列表，因为切片是默认是从左往右的</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 打印对应内容，由于-1，会导致列表反序</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">]</span> <span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 由于左包括右不包括，需要从-4到-1</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="复制列表"><a href="#复制列表" class="headerlink" title="复制列表"></a>复制列表</h4><p>列表的复制可以通过将老列表进行全部切片并赋值给新列表的方式</p><pre class="line-numbers language-python"><code class="language-python">l1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>l2 <span class="token operator">=</span> l1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>l2<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>不可以通过，直接将老列表变量赋值给新列表变量，这会使得新列表与老列表指向同一个列表，当老列表内容发生改变时，新列表也会改变（参考赋值、深、浅拷贝）</p></blockquote><pre class="line-numbers language-python"><code class="language-python">l1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>l2 <span class="token operator">=</span> l1  <span class="token comment" spellcheck="true"># 这不可行</span>l1<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>l2<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><blockquote><p>元组与列表类似，也是一组有序的数据组合<br>不同的是元组一旦定义不可修改，属于不可变序列</p></blockquote><h2 id="元组创建"><a href="#元组创建" class="headerlink" title="元组创建"></a>元组创建</h2><ul><li>定义空元祖：t = () 或者t = tuple()</li><li>定义一个元素的元组：t = (1, ) 一定要加一个逗号，否则它就是一个数字了</li><li>定义多个元素的元组：t=(1, 2, 3)或者t = 1, 2, 3</li></ul><h3 id="tuple推导式"><a href="#tuple推导式" class="headerlink" title="tuple推导式"></a>tuple推导式</h3><p>tuple推导式与list格式相同，但是结果不同，tuple生成的是一个迭代器，不是一个列表</p><pre class="line-numbers language-python"><code class="language-python">t <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>tuple<span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'generator'</span><span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="元组的操作"><a href="#元组的操作" class="headerlink" title="元组的操作"></a>元组的操作</h2><blockquote><p>元组的操作与列表类似，但元组是不可变序列，只能对元组进行访问操作</p></blockquote><ul><li>元组的切片操作与list相同</li></ul>]]></content>
      
      
      <categories>
          
          <category> Python学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 基础 </tag>
            
            <tag> 数据类型 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>01.Python变量、数据类型、运算符</title>
      <link href="/2019/10/07/python/01.python-bian-liang-shu-ju-lei-xing-yun-suan-fu/"/>
      <url>/2019/10/07/python/01.python-bian-liang-shu-ju-lei-xing-yun-suan-fu/</url>
      
        <content type="html"><![CDATA[<h2 id="风格指南"><a href="#风格指南" class="headerlink" title="风格指南"></a>风格指南</h2><ul><li><a href="https://zh-google-styleguide.readthedocs.io/en/latest/google-python-styleguide/contents/#" target="_blank" rel="noopener">Python风格指南</a></li></ul><h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><p><em>注释解释器不会去执行,直接跳过</em></p><h3 id="注释的写法"><a href="#注释的写法" class="headerlink" title="注释的写法"></a>注释的写法</h3><ul><li>行注释:以井号(#)开头 可以单独行,也可以在代码后面</li><li>块注释:以三个单引号或者双引号开头并结束,中间可以包裹多行内容<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 这里是行注释,机器不会运行</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"hello word"</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">"""这里是块注释可以写很多行..."""</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="注释原则"><a href="#注释原则" class="headerlink" title="注释原则"></a>注释原则</h3><ul><li>复杂代码注释</li><li>注释不是越多越好</li><li>建立有效的沟通</li></ul><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p><em>变量就是一个可以重复使用的量</em></p><h3 id="变量的命名"><a href="#变量的命名" class="headerlink" title="变量的命名"></a>变量的命名</h3><ul><li>变量名只能包含字母、数字和下划线，变量名字可以使用字母或者下划线开头，但不可以使用数字开头。如 1_message</li><li>变量名不能包含空格</li><li>变量名不能使用Python关键字、保留字、函数，如print<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 查看关键字方法</span><span class="token keyword">import</span>  keyword  <span class="token comment" spellcheck="true">#引入关键子模块</span><span class="token comment" spellcheck="true"># 打印关键字</span><span class="token keyword">print</span><span class="token punctuation">(</span>keyword<span class="token punctuation">.</span>kwlist<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li>变量名应该简短且具有描述性</li><li>不建议以下划线开头命名变量，因为以下划线开头的变量具有特殊含义</li><li>大小写敏感，age 和 Age不一样</li><li>可以使用中文，但强烈不建议使用</li><li>推荐使用posix命名规则<blockquote><p>posix命名规则</p><ul><li>多个单词使用下划线链接</li><li>单词全部小写</li></ul></blockquote></li></ul><h3 id="变量的赋值"><a href="#变量的赋值" class="headerlink" title="变量的赋值"></a>变量的赋值</h3><h4 id="常用赋值方法"><a href="#常用赋值方法" class="headerlink" title="常用赋值方法"></a>常用赋值方法</h4><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 将10 赋值给size</span>size <span class="token operator">=</span> <span class="token number">10</span><span class="token keyword">print</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span><span class="token number">10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="给多个变量赋同一个值"><a href="#给多个变量赋同一个值" class="headerlink" title="给多个变量赋同一个值"></a>给多个变量赋同一个值</h4><pre class="line-numbers language-python"><code class="language-python">size1 <span class="token operator">=</span> size2 <span class="token operator">=</span> size3 <span class="token operator">=</span> <span class="token number">10</span><span class="token keyword">print</span><span class="token punctuation">(</span>size1<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span><span class="token number">10</span><span class="token keyword">print</span><span class="token punctuation">(</span>size2<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span><span class="token number">10</span><span class="token keyword">print</span><span class="token punctuation">(</span>size3<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span><span class="token number">10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="一行代码给多个变量赋值"><a href="#一行代码给多个变量赋值" class="headerlink" title="一行代码给多个变量赋值"></a>一行代码给多个变量赋值</h4><pre class="line-numbers language-python"><code class="language-python">size1<span class="token punctuation">,</span> size2<span class="token punctuation">,</span> size3 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token keyword">print</span><span class="token punctuation">(</span>size1<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span><span class="token number">10</span><span class="token keyword">print</span><span class="token punctuation">(</span>size2<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span><span class="token number">12</span><span class="token keyword">print</span><span class="token punctuation">(</span>size3<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span><span class="token number">16</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="变量交换"><a href="#变量交换" class="headerlink" title="变量交换"></a>变量交换</h4><ul><li><p>普通方式</p><pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">10</span>b <span class="token operator">=</span> <span class="token number">20</span>c <span class="token operator">=</span> a  <span class="token comment" spellcheck="true"># 讲a变量赋值给c, 此时c的值为10</span>a <span class="token operator">=</span> b  <span class="token comment" spellcheck="true"># 讲b变量复制给a, 此时a的值为20</span>b <span class="token operator">=</span> c  <span class="token comment" spellcheck="true"># 讲c变量复制给b, 此时b的值为10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>通过中间变量c进行变量的交换</p></blockquote></li><li><p>利用python定义变量的语法实现</p><pre class="line-numbers language-python"><code class="language-python">a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><ul><li>六种标准数据类型<ul><li>数字 Number</li><li>字符串 Str</li><li>列表 List</li><li>元祖 tuper</li><li>字典 dict</li><li>集合 set</li><li>布尔值 bool</li><li>None</li></ul></li></ul><p><strong>使用字符串时注意引号匹配</strong></p><h3 id="数字类型Number"><a href="#数字类型Number" class="headerlink" title="数字类型Number"></a>数字类型Number</h3><h4 id="整数-int"><a href="#整数-int" class="headerlink" title="整数 int"></a>整数 int</h4><p>没有小数部分<br>包含正数、复数、0</p><h4 id="浮点数-float"><a href="#浮点数-float" class="headerlink" title="浮点数 float"></a>浮点数 float</h4><p>带小数点的数字称为浮点数 </p><h4 id="科学计数法"><a href="#科学计数法" class="headerlink" title="科学计数法"></a>科学计数法</h4><p>科学计数法在python中的表示</p><pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">10e2</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span><span class="token number">1000.0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="复数"><a href="#复数" class="headerlink" title="复数"></a>复数</h4><p>复数在python中的表示</p><pre class="line-numbers language-python"><code class="language-python">python中，用j<span class="token operator">/</span>J表示复数的虚部a <span class="token operator">=</span> <span class="token number">4</span><span class="token operator">+</span><span class="token number">3j</span>b <span class="token operator">=</span> <span class="token number">3j</span>c <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3j</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="字符串-str"><a href="#字符串-str" class="headerlink" title="字符串 str"></a>字符串 str</h3><p><em>字符串是一系列的字符，在Python中，用引号括起来的是字符串，可以使单引号，也可以是双引号。三引号可以表示多行</em></p><p>字符串的表示</p><pre class="line-numbers language-python"><code class="language-python">name <span class="token operator">=</span>  <span class="token string">'zhangsan'</span>name <span class="token operator">=</span> <span class="token string">"zhangsan"</span>name <span class="token operator">=</span> <span class="token triple-quoted-string string">"""zhangsan"""</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="列表-list"><a href="#列表-list" class="headerlink" title="列表 list"></a>列表 list</h3><p>通常用来记录一些列数据</p><p>列表的创建</p><ul><li>使用一对方括号来表示空列表: [] 或者是list()</li><li>使用方括号，其中的项以逗号分隔: [a], [a, b, c]</li><li>其中的项成为元素</li><li>元素可以是其他的任意类型</li></ul><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> l1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>l1<span class="token punctuation">,</span> type<span class="token punctuation">(</span>l1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'list'</span><span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> l2 <span class="token operator">=</span> list<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>l2<span class="token punctuation">,</span> type<span class="token punctuation">(</span>l2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'list'</span><span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> l3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>l3<span class="token punctuation">,</span> type<span class="token punctuation">(</span>l3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'list'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="元组-tuple"><a href="#元组-tuple" class="headerlink" title="元组 tuple"></a>元组 tuple</h3><p>元组是不可变序列，与列表相似，区别是其中的元素不可改变</p><p>元祖的创建</p><ul><li>使用一对圆括号来表示空元组: ()</li><li>使用一个后缀的逗号来表示单元组: a, 或 (a,)</li><li>使用以逗号分隔的多个项: a, b, c or (a, b, c)</li><li>使用内置的 tuple(): tuple() 或 tuple(iterable)</li></ul><p><em>元祖只有一个元素时，最后要加一个逗号。</em></p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> t1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> t2 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">>></span><span class="token operator">></span> t3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> t4 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">>></span><span class="token operator">></span> t5 <span class="token operator">=</span> tuple<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>t1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'tuple'</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'tuple'</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'tuple'</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'tuple'</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'tuple'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="字典-dict"><a href="#字典-dict" class="headerlink" title="字典 dict"></a>字典 dict</h3><ul><li>字典是用于储存一组或多组的数据</li><li>字典是键值对形式</li><li>键的名字不能重复，否则会覆盖</li><li>键必须是字符串或者数字，值可以是任何类型</li></ul><p>字典的创建</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> a <span class="token operator">=</span> dict<span class="token punctuation">(</span>one<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> two<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> three<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'one'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token operator">>></span><span class="token operator">></span> c <span class="token operator">=</span> dict<span class="token punctuation">(</span>zip<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> d <span class="token operator">=</span> dict<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'three'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> e <span class="token operator">=</span> dict<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'three'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> a <span class="token operator">==</span> b <span class="token operator">==</span> c <span class="token operator">==</span> d <span class="token operator">==</span> e<span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h3><ul><li>布尔值用来表示真假</li><li>只有两个值 Ture/False</li><li>在Python中，布尔值可以当做数字使用：Ture = 1， False = 0</li></ul><h3 id="None"><a href="#None" class="headerlink" title="None"></a>None</h3><ul><li>表示没有，返回一个空</li></ul><h3 id="数据类型的检测"><a href="#数据类型的检测" class="headerlink" title="数据类型的检测"></a>数据类型的检测</h3><p>使用type()函数进行检测</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">=</span> <span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> c <span class="token operator">=</span> <span class="token string">'hello world'</span><span class="token operator">>></span><span class="token operator">></span> d <span class="token operator">=</span> <span class="token number">1.01</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> type<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token number">10</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'int'</span><span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> type<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token boolean">True</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'bool'</span><span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> type<span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>hello world <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'str'</span><span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> type<span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token number">1.01</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'float'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="数据类型分类"><a href="#数据类型分类" class="headerlink" title="数据类型分类"></a>数据类型分类</h3><h4 id="是否可变"><a href="#是否可变" class="headerlink" title="是否可变"></a>是否可变</h4><p><em>是否可变指内容创建后，内容是否可变</em></p><ul><li>可变数据类型<ul><li>列表</li><li>字典</li><li>集合</li></ul></li><li>不可变数据类型<ul><li>字符串</li><li>数字</li><li>元组</li></ul></li></ul><h4 id="是否容器类"><a href="#是否容器类" class="headerlink" title="是否容器类"></a>是否容器类</h4><p><em>容器类型数据指此类型数据可以容纳其他数据</em></p><ul><li>容器类型数据<ul><li>字符串</li><li>列表</li><li>元组</li><li>集合</li><li>字典</li></ul></li><li>非容器类型数据<ul><li>数字</li><li>布尔值</li></ul></li></ul><h2 id="数据类型的转换"><a href="#数据类型的转换" class="headerlink" title="数据类型的转换"></a>数据类型的转换</h2><p>数据类型转换指的是讲一种数据类型转换为另一种数据类型，目的是解决不同数据类型之间的运算问题。</p><h3 id="自动类型转换"><a href="#自动类型转换" class="headerlink" title="自动类型转换"></a>自动类型转换</h3><ul><li>数字与布尔值运算会将布尔值自动转为数字<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">=</span> <span class="token boolean">True</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li>逻辑判断时数字会自动转为布尔值</li><li>整数与浮点数运算时，整数会转为浮点数</li></ul><h3 id="手动类型转换"><a href="#手动类型转换" class="headerlink" title="手动类型转换"></a>手动类型转换</h3><p>通过特定的函数，可以将一种数据类型转为另一种数据类型</p><table><thead><tr><th>函数</th><th>转换后类型</th><th>可转换类型</th></tr></thead><tbody><tr><td>str()</td><td>字符串</td><td>所有类型都可以</td></tr><tr><td>int()</td><td>整数</td><td>纯数字字符串、布尔值、浮点数，其他容器类类型不能转</td></tr><tr><td>float()</td><td>浮点数</td><td>纯数字字符串、布尔值、整数</td></tr><tr><td>bool()</td><td>布尔值</td><td>所有类型都可以</td></tr><tr><td>list()</td><td>列表</td><td>字符串、数组、字典（只保留键）集合</td></tr><tr><td>tuple()</td><td>元组</td><td>数字类型和非容器类型不能转换、容器类型可以</td></tr><tr><td>dict()</td><td>字典</td><td>只有特定的列表和元组可以转，要求列表中的每个元素都是一个只包含俩个元素的列表，其中第一个元素转为字典的键，第二个为值 [[1, a], [2, b], [3, c]]，元组要求类似。</td></tr><tr><td>set()</td><td>集合</td><td>非容器类不可以转换，容器类转换后无序、去重、字典只保留键。</td></tr></tbody></table><p>使用函数转换类型</p><ul><li>a 为数字类型</li><li>b经过str()函数将a转为字符串类型</li><li>c经过int()函数将b转回数字类型</li></ul><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">=</span> str<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> c <span class="token operator">=</span> int<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> type<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token number">1</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'str'</span><span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> type<span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token number">1</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'int'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p>运算符的分类  </p><ul><li>算术运算符</li><li>比较(关系)运算符</li><li>赋值运算符</li><li>逻辑运算符</li><li>位运算符</li><li>身份运算符</li></ul><h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><p>假设变量a = 1, b = 2</p><table><thead><tr><th>运算符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>+</td><td>两个对象相加</td><td>a + b &gt;&gt;&gt;3</td></tr><tr><td>-</td><td>两个对象相减</td><td>a - b &gt;&gt;&gt;-1</td></tr><tr><td>*</td><td>两个对象相乘或者是返回若干次的字符串</td><td>a*b &gt;&gt;&gt;2</td></tr><tr><td>/</td><td>除法运算</td><td>b/a &gt;&gt;&gt;2</td></tr><tr><td>//</td><td>地板除,取整</td><td>9//2 &gt;&gt;&gt;4</td></tr><tr><td>%</td><td>取模(取余)</td><td>9%2 &gt;&gt;&gt;1</td></tr><tr><td>**</td><td>幂运算</td><td>a**b &gt;&gt;&gt;1</td></tr></tbody></table><blockquote><p>注意：Python2.x 里，整数除整数，只能得出整数。如果要得到小数部分，把其中一个数改成浮点数即可。</p></blockquote><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span><span class="token number">0</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">1.0</span><span class="token operator">/</span><span class="token number">2</span><span class="token number">0.5</span><span class="token operator">>></span><span class="token operator">></span> <span class="token number">1</span><span class="token operator">/</span>float<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token number">0.5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3><p>假设变量a = 1, b = 2</p><table><thead><tr><th>运算符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>==</td><td>比较连个对象是否相等</td><td>a == b &gt;&gt;&gt;False</td></tr><tr><td>!=</td><td>比较两个对象是否不相等</td><td>a != b &gt;&gt;&gt;True</td></tr><tr><td>&gt;</td><td>比较x是否大于y</td><td>a &gt; b &gt;&gt;&gt;False</td></tr><tr><td>&lt;</td><td>比较x是否小于y</td><td>a &lt; b &gt;&gt;&gt; True</td></tr><tr><td>&gt;=</td><td>返回x是否大于等于y</td><td>a &gt;= b &gt;&gt;&gt;Flase</td></tr><tr><td>&lt;=</td><td>返回x是否小于等于y</td><td>a &lt;= b &gt;&gt;&gt;True</td></tr></tbody></table><h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3><p>假设变量a = 1, b = 2</p><table><thead><tr><th>运算符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>=</td><td>简单的赋值运算</td><td>c = a + b 将a + b 的运算结果赋值给c</td></tr><tr><td>+=</td><td>加法赋值运算</td><td>c += a 等效与 c = c + a</td></tr><tr><td>-+</td><td>减法赋值运算</td><td>c -= a 等效于 c = c - a</td></tr><tr><td>*=</td><td>乘法赋值运算符</td><td>c *= a 等效于 c = c * a</td></tr><tr><td>/=</td><td>除法赋值运算</td><td>c /= a 等效于 c = c / a</td></tr><tr><td>%=</td><td>取模赋值运算</td><td>c % a 等效于 c = c % a</td></tr><tr><td>**=</td><td>幂赋值运算</td><td>c *<em>= a 等效于 c = c *</em> a</td></tr><tr><td>//=</td><td>地板除赋值运算</td><td>c //= a 等效于 c = c//a</td></tr></tbody></table><h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><table><thead><tr><th>运算符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>and</td><td>“与”运算，x、y全部为True返回True，否则返回Flase</td><td>True and False &gt;&gt;&gt;False</td></tr><tr><td>or</td><td>“或”运算，x、y全部为Flase返回False，否则返回True</td><td>True or False &gt;&gt;&gt;True</td></tr><tr><td>not</td><td>“非”运算，取反</td><td>not False &gt;&gt;&gt;True</td></tr></tbody></table><blockquote><p>逻辑运算存在短路问题，程序一旦确定逻辑运算结果不在进行后面的代码</p></blockquote><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 短路案例，由于提前确定了c的值为True，程序不在往下运行，不在打印"b"</span><span class="token keyword">def</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token boolean">True</span><span class="token keyword">def</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token boolean">True</span>c <span class="token operator">=</span> a<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">or</span> b<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> a<span class="token operator">>></span><span class="token operator">></span> <span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="成员运算符"><a href="#成员运算符" class="headerlink" title="成员运算符"></a>成员运算符</h3><p><em>检测一个成员是否在某个实例里面</em></p><table><thead><tr><th>运算符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>in</td><td>如果在序列中找到指定的值返回True，否则返回False</td><td>1 in [1, 2, 3]    &gt;&gt;&gt;True</td></tr><tr><td>not in</td><td>如果在序列中没有找到制定的值返回True，否则返回False</td><td>1 not in [1, 2, 3]        &gt;&gt;&gt;False</td></tr></tbody></table><h3 id="身份运算符"><a href="#身份运算符" class="headerlink" title="身份运算符"></a>身份运算符</h3><table><thead><tr><th>运算符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>is</td><td>判断两个变量是不是引用自一个对象</td><td>x is y, 类似 id(x) == id(y) , 如果引用的是同一个对象则返回 True，否则返回 False</td></tr><tr><td>is not</td><td>判断两个变量是不是引用自不同对象</td><td>x is not y ， 类似 id(a) != id(b)。如果引用的不是同一个对象则返回结果 True，否则返回 False。</td></tr></tbody></table><blockquote><p>可以简单理解为他们指向的内存地址是否相同<br>is 与 == 区别：<br>is 用于判断两个变量引用对象是否为同一个(同一块内存空间)， == 用于判断引用变量的值是否相等。</p></blockquote><h3 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h3><p>按位运算符是把数字看作二进制来进行计算的</p><h4 id="二进制转换"><a href="#二进制转换" class="headerlink" title="二进制转换"></a>二进制转换</h4><p>使用bin()函数可以讲一个数字转换为二进制数字</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>bin<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> bin<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> bin<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token number">0b1</span> <span class="token operator">-</span> <span class="token number">0b10</span> <span class="token operator">-</span> <span class="token number">0b11</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>使用int()函数可以讲一个二进制转为十进制</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>int<span class="token punctuation">(</span><span class="token number">0b1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> int<span class="token punctuation">(</span><span class="token number">0b10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> int<span class="token punctuation">(</span><span class="token number">0b11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="二进制位运算"><a href="#二进制位运算" class="headerlink" title="二进制位运算"></a>二进制位运算</h4><p>下表中变量 a 为 60，b 为 13，二进制格式如下：</p><table><thead><tr><th>运算符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>&amp;</td><td>按位与运算符：参与运算的两个值,如果两个相应位都为1,则该位的结果为1,否则为0</td><td>(a &amp; b) 输出结果 12 ，二进制解释： 0000 1100</td></tr><tr><td>|</td><td>按位或运算符：只要对应的二个二进位有一个为1时，结果位就为1。</td><td>(a | b) 输出结果 61 ，二进制解释： 0011 1101</td></tr><tr><td>^</td><td>按位异或运算符：当两对应的二进位相异时，结果为1</td><td>(a ^ b) 输出结果 49 ，二进制解释： 0011 0001</td></tr><tr><td>~</td><td>按位取反运算符：对数据的每个二进制位取反,即把1变为0,把0变为1 。~x 类似于 -x-1</td><td>(~a ) 输出结果 -61 ，二进制解释： 1100 0011，在一个有符号二进制数的补码形式。</td></tr><tr><td>&lt;&lt;</td><td>左移动运算符：运算数的各二进位全部左移若干位，由 &lt;&lt; 右边的数字指定了移动的位数，高位丢弃，低位补0。</td><td>a &lt;&lt; 2 输出结果 240 ，二进制解释： 1111 0000</td></tr><tr><td>&gt;&gt;</td><td>右移动运算符：把”&gt;&gt;”左边的运算数的各二进位全部右移若干位，&gt;&gt; 右边的数字指定了移动的位数</td><td>a &gt;&gt; 2 输出结果 15 ，二进制解释： 0000 1111</td></tr></tbody></table><h3 id="运算优先级"><a href="#运算优先级" class="headerlink" title="运算优先级"></a>运算优先级</h3><p>从高到底以此为：</p><ul><li>小括号内优先级最高</li><li>**    指数 (最高优先级)</li><li>~ + -    按位翻转, 一元加号和减号 (最后两个的方法名为 +@ 和 -@)</li><li>* / % //    乘，除，取模和取整除</li><li>+ -    加法减法</li><li>&gt;&gt; &lt;&lt;    右移，左移运算符</li><li>&amp;    位 ‘AND’</li><li>^ |    位运算符</li><li>&lt;= &lt; &gt; &gt;=    比较运算符</li><li>&lt;&gt; == !=    等于运算符</li><li>= %= /= //= -= += <em>= *</em>=    赋值运算符</li><li>is is not    身份运算符</li><li>in not in    成员运算符</li><li>not and or    逻辑运算符</li></ul>]]></content>
      
      
      <categories>
          
          <category> Python学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 学习笔记 </tag>
            
            <tag> 入门 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue-基础</title>
      <link href="/2019/09/03/qian-duan/vue-ji-chu/"/>
      <url>/2019/09/03/qian-duan/vue-ji-chu/</url>
      
        <content type="html"><![CDATA[<ul><li><h1 id="Vue-js-安装"><a href="#Vue-js-安装" class="headerlink" title="Vue.js 安装"></a>Vue.js 安装</h1><ul><li><h2 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h2><pre class="line-numbers language-html"><code class="language-html">  <span class="token comment" spellcheck="true">&lt;!--对于制作原型或学习，你可以这样使用最新版本--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!--对于生产环境，我们推荐链接到一个明确的版本号和构建文件，以避免新版本造成的不可预期的破坏：--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><h1 id="实例化Vue对象"><a href="#实例化Vue对象" class="headerlink" title="实例化Vue对象"></a>实例化Vue对象</h1><ul><li><h2 id="js文件"><a href="#js文件" class="headerlink" title="js文件"></a>js文件</h2><pre class="line-numbers language-javascript"><code class="language-javascript">  <span class="token comment" spellcheck="true">// 实例化Vue对象</span>  <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  el<span class="token punctuation">:</span> <span class="token string">'#vue-app'</span><span class="token punctuation">,</span>  data<span class="token punctuation">:</span><span class="token punctuation">{</span>      name<span class="token punctuation">:</span> <span class="token string">'米斯特五'</span>  <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">/*   el: element 需要获取的元素,一定是html中的根容器  data: 用于数据的存储  */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><h2 id="html文件"><a href="#html文件" class="headerlink" title="html文件"></a>html文件</h2><pre class="line-numbers language-html"><code class="language-html">  <span class="token doctype">&lt;!DOCTYPE html></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>vue-app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app.js<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><h1 id="数据和方法"><a href="#数据和方法" class="headerlink" title="数据和方法"></a>数据和方法</h1><ul><li><h2 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h2><ul><li><h3 id="js文件中的数据"><a href="#js文件中的数据" class="headerlink" title="js文件中的数据"></a>js文件中的数据</h3><blockquote><p>在data中声明</p></blockquote><pre class="line-numbers language-javascript"><code class="language-javascript">  <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  el<span class="token punctuation">:</span> <span class="token string">'#vue-app'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 数据放在data中</span>  data<span class="token punctuation">:</span><span class="token punctuation">{</span>      name<span class="token punctuation">:</span> <span class="token string">'米斯特五'</span><span class="token punctuation">,</span>      job<span class="token punctuation">:</span> <span class="token string">'web开发'</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>在html中使用</p><blockquote><p>包裹在双花括号中变量名字</p></blockquote><pre class="line-numbers language-html"><code class="language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>vue-app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Name: {{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Job: {{job}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><blockquote><p>放在method</p></blockquote><pre class="line-numbers language-javascript"><code class="language-javascript">  <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      el<span class="token punctuation">:</span> <span class="token string">'#vue-app'</span><span class="token punctuation">,</span>      methods<span class="token punctuation">:</span><span class="token punctuation">{</span>          greet<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>              <span class="token keyword">return</span> <span class="token string">'Good Morning'</span> <span class="token punctuation">;</span>          <span class="token punctuation">}</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>使用</p></blockquote><pre class="line-numbers language-html"><code class="language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>vue-app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>{{ greet() }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul></li><li><h1 id="属性绑定"><a href="#属性绑定" class="headerlink" title="属性绑定"></a>属性绑定</h1><blockquote><p>使用v-bind 进行属性绑定</p></blockquote><pre class="line-numbers language-html"><code class="language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>vue-app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>website<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>baidu<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-bind:</span>value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>websiteTag<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><h1 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h1><blockquote><p>使用v-on:xxx=”method” 绑定事件<br>也可使用@代替v-on:</p></blockquote><pre class="line-numbers language-html"><code class="language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>vue-app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Events<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 长一岁<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subtract<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 减一岁<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>My age is {{age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><h1 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h1><blockquote><p>.stop<br>  .prevent<br>  .capture<br>  .self<br>  .once<br>  .passive</p></blockquote><h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><pre class="line-numbers language-html"><code class="language-html">  <span class="token comment" spellcheck="true">&lt;!-- 阻止单击事件继续传播 --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click.stop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doThis<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- 提交事件不再重载页面 --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name"><span class="token namespace">v-on:</span>submit.prevent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onSubmit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- 修饰符可以串联 --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click.stop.prevent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doThat<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- 只有修饰符 --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name"><span class="token namespace">v-on:</span>submit.prevent</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- 添加事件监听器时使用事件捕获模式 --></span>  <span class="token comment" spellcheck="true">&lt;!-- 即元素自身触发的事件先在此处理，然后才交由内部元素进行处理 --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click.capture</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doThis<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- 只当在 event.target 是当前元素自身时触发处理函数 --></span>  <span class="token comment" spellcheck="true">&lt;!-- 即事件不是从内部元素触发的 --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click.self</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doThat<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><h1 id="键盘事件及按键修饰符"><a href="#键盘事件及按键修饰符" class="headerlink" title="键盘事件及按键修饰符"></a>键盘事件及按键修饰符</h1><ul><li><h2 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h2></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> Vue </tag>
            
            <tag> 框架 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Django rest framework</title>
      <link href="/2019/05/23/django/django-rest-framework/"/>
      <url>/2019/05/23/django/django-rest-framework/</url>
      
        <content type="html"><![CDATA[<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="使用pip安装"><a href="#使用pip安装" class="headerlink" title="使用pip安装"></a>使用pip安装</h3><pre><code>pip install djangorestframework</code></pre><h3 id="在django项目app中配置app"><a href="#在django项目app中配置app" class="headerlink" title="在django项目app中配置app"></a>在django项目app中配置app</h3><pre class="line-numbers language-python"><code class="language-python">INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'django.contrib.admin'</span><span class="token punctuation">,</span><span class="token string">'django.contrib.auth'</span><span class="token punctuation">,</span><span class="token string">'django.contrib.contenttypes'</span><span class="token punctuation">,</span><span class="token string">'django.contrib.sessions'</span><span class="token punctuation">,</span><span class="token string">'django.contrib.messages'</span><span class="token punctuation">,</span><span class="token string">'django.contrib.staticfiles'</span><span class="token punctuation">,</span><span class="token string">'app01.apps.App01Config'</span><span class="token punctuation">,</span><span class="token string">'rest_framework'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>在setting中配置restframework相关设置</li></ul><pre class="line-numbers language-python"><code class="language-python">REST_FRAMEWORK <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true"># Use Django's standard `django.contrib.auth` permissions,</span><span class="token comment" spellcheck="true"># or allow read-only access for unauthenticated users.</span><span class="token string">'DEFAULT_PERMISSION_CLASSES'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>    <span class="token string">'rest_framework.permissions.IsAdminUser'</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'PAGE_SIZE'</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h2><h3 id="for-循环"><a href="#for-循环" class="headerlink" title="for 循环"></a>for 循环</h3><h3 id="to-dict"><a href="#to-dict" class="headerlink" title="to_dict"></a>to_dict</h3><h3 id="django自带系列化器"><a href="#django自带系列化器" class="headerlink" title="django自带系列化器"></a>django自带系列化器</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>core <span class="token keyword">import</span> serializersserializers<span class="token punctuation">.</span>serializer<span class="token punctuation">(</span><span class="token string">'json'</span><span class="token punctuation">,</span> QuerySet<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="django-rest-framerwork-序列化器"><a href="#django-rest-framerwork-序列化器" class="headerlink" title="django rest framerwork 序列化器"></a>django rest framerwork 序列化器</h3><ul><li>定义</li></ul><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">PublisherSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>Serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>    id <span class="token operator">=</span> serializers<span class="token punctuation">.</span>IntegerField<span class="token punctuation">(</span>read_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>    name <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">32</span><span class="token punctuation">)</span>    address <span class="token operator">=</span> serializers<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">128</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">create</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> validated_data<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> Publisher<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span><span class="token operator">**</span>validated_data<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">,</span> validated_data<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""        instance:实例， 原数据实例        validated_data: 验证过的数据，前台传来的        """</span>        instance<span class="token punctuation">.</span>name <span class="token operator">=</span> validated_data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> instance<span class="token punctuation">.</span>name<span class="token punctuation">)</span>        instance<span class="token punctuation">.</span>address <span class="token operator">=</span> validated_data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'address'</span><span class="token punctuation">,</span> instance<span class="token punctuation">.</span>name<span class="token punctuation">)</span>        instance<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> instance<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>使用</p></li><li><p>查询</p></li></ul><pre class="line-numbers language-python"><code class="language-python">PublisherSerializer<span class="token punctuation">(</span>QuerySet<span class="token punctuation">,</span> many<span class="token operator">=</span>Ture<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 如果QuerySet中包含多个结果，要使用many=Ture</span><span class="token comment" spellcheck="true"># 返回的是rest——framework的对象，要用json.dumps()转换</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>增加</li></ul><pre class="line-numbers language-python"><code class="language-python">p <span class="token operator">=</span> PubulisherSerializer<span class="token punctuation">(</span>data<span class="token operator">=</span>data<span class="token punctuation">)</span>p<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span>p<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ModelSerializer"><a href="#ModelSerializer" class="headerlink" title="ModelSerializer"></a>ModelSerializer</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">PublisherSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>ModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>        model <span class="token operator">=</span> Publisher        fields <span class="token operator">=</span> <span class="token punctuation">(</span>            <span class="token string">'id'</span><span class="token punctuation">,</span>            <span class="token string">'name'</span><span class="token punctuation">,</span>            <span class="token string">'address'</span><span class="token punctuation">,</span>            <span class="token string">'operator'</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># fields = "__all__"        </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="界面登录"><a href="#界面登录" class="headerlink" title="界面登录"></a>界面登录</h2><h3 id="在urlpatterns中配置路由"><a href="#在urlpatterns中配置路由" class="headerlink" title="在urlpatterns中配置路由"></a>在urlpatterns中配置路由</h3><pre class="line-numbers language-python"><code class="language-python">path<span class="token punctuation">(</span><span class="token string">'api-auth/'</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span><span class="token string">'rest_framework.urls'</span><span class="token punctuation">,</span> namespace<span class="token operator">=</span><span class="token string">'rest_framework'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="请求和响应"><a href="#请求和响应" class="headerlink" title="请求和响应"></a>请求和响应</h2><h3 id="基于函数的视图"><a href="#基于函数的视图" class="headerlink" title="基于函数的视图"></a>基于函数的视图</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 获取信息的列表</span><span class="token keyword">from</span> rest_framework<span class="token punctuation">.</span>decorators <span class="token keyword">import</span> api_view<span class="token keyword">from</span> app01 <span class="token keyword">import</span> models<span class="token punctuation">,</span> serializers<span class="token keyword">from</span> rest_framework<span class="token punctuation">.</span>response <span class="token keyword">import</span> Response<span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> status@api_view<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">publisher_list</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    列出所有出版社，或者创建一个出版社    """</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'GET'</span><span class="token punctuation">:</span>        queryset <span class="token operator">=</span> models<span class="token punctuation">.</span>Publisher<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span>        s <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PublisherSerializer<span class="token punctuation">(</span>queryset<span class="token punctuation">,</span> many<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>s<span class="token punctuation">.</span>data<span class="token punctuation">)</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>        s <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PublisherSerializer<span class="token punctuation">(</span>data<span class="token operator">=</span>request<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token keyword">if</span> s<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            s<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> Response<span class="token punctuation">(</span>s<span class="token punctuation">.</span>data<span class="token punctuation">,</span> status<span class="token operator">=</span>status<span class="token punctuation">.</span>HTTP_201_CREATED<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> Response<span class="token punctuation">(</span>s<span class="token punctuation">.</span>errors<span class="token punctuation">,</span> status<span class="token operator">=</span>status<span class="token punctuation">.</span>HTTP_400_BAD_REQUEST<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 获取单个信息</span>@api_view<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'PUT'</span><span class="token punctuation">,</span> <span class="token string">'DELETE'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">publisher_detail</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> pk<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        publisher <span class="token operator">=</span> serializers<span class="token punctuation">.</span>Publisher<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span>pk<span class="token operator">=</span>pk<span class="token punctuation">)</span>    <span class="token keyword">except</span> serializers<span class="token punctuation">.</span>Publisher<span class="token punctuation">.</span>DoesNotExist<span class="token punctuation">:</span>        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>status<span class="token operator">=</span>status<span class="token punctuation">.</span>HTTP_404_NOT_FOUND<span class="token punctuation">)</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'GET'</span><span class="token punctuation">:</span>        s <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PublisherSerializer<span class="token punctuation">(</span>publisher<span class="token punctuation">)</span>        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>s<span class="token punctuation">.</span>data<span class="token punctuation">)</span>    <span class="token keyword">elif</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'PUT'</span><span class="token punctuation">:</span>        s <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PublisherSerializer<span class="token punctuation">(</span>publisher<span class="token punctuation">,</span> data<span class="token operator">=</span>request<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token keyword">if</span> s<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            s<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> Response<span class="token punctuation">(</span>s<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>s<span class="token punctuation">.</span>errors<span class="token punctuation">,</span> status<span class="token operator">=</span>status<span class="token punctuation">.</span>HTTP_400_BAD_REQUEST<span class="token punctuation">)</span>    <span class="token keyword">elif</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'DELETE'</span><span class="token punctuation">:</span>        publisher<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>status<span class="token operator">=</span>status<span class="token punctuation">.</span>HTTP_204_NO_CONTENT<span class="token punctuation">)</span>        <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="基于类的视图"><a href="#基于类的视图" class="headerlink" title="基于类的视图"></a>基于类的视图</h2><h3 id="ApiView"><a href="#ApiView" class="headerlink" title="ApiView"></a>ApiView</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> app01 <span class="token keyword">import</span> models<span class="token punctuation">,</span> serializers<span class="token keyword">from</span> rest_framework<span class="token punctuation">.</span>response <span class="token keyword">import</span> Response<span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> status<span class="token keyword">from</span> rest_framework<span class="token punctuation">.</span>views <span class="token keyword">import</span> APIView<span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> Http404<span class="token keyword">class</span> <span class="token class-name">PublisherList</span><span class="token punctuation">(</span>APIView<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    列出所有的出版社,或新建一个出版社    """</span>    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> format<span class="token operator">=</span>None<span class="token punctuation">)</span><span class="token punctuation">:</span>        publisher <span class="token operator">=</span> models<span class="token punctuation">.</span>Publisher<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span>        s <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PublisherSerializer<span class="token punctuation">(</span>publisher<span class="token punctuation">,</span> many<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>s<span class="token punctuation">.</span>data<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">post</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> format<span class="token operator">=</span>None<span class="token punctuation">)</span><span class="token punctuation">:</span>        s <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PublisherSerializer<span class="token punctuation">(</span>data<span class="token operator">=</span>request<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token keyword">if</span> s<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            s<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> Response<span class="token punctuation">(</span>s<span class="token punctuation">.</span>data<span class="token punctuation">,</span> status<span class="token operator">=</span>status<span class="token punctuation">.</span>HTTP_201_CREATED<span class="token punctuation">)</span>        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>s<span class="token punctuation">.</span>errors<span class="token punctuation">,</span> status<span class="token operator">=</span>status<span class="token punctuation">.</span>HTTP_400_BAD_REQUEST<span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">PublisherDetail</span><span class="token punctuation">(</span>APIView<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    获取一个查看、修改、删除视图    """</span>    <span class="token keyword">def</span> <span class="token function">get_object</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pk<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> models<span class="token punctuation">.</span>Publisher<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span>pk<span class="token operator">=</span>pk<span class="token punctuation">)</span>        <span class="token keyword">except</span> models<span class="token punctuation">.</span>Publisher<span class="token punctuation">.</span>DoesNotExist<span class="token punctuation">:</span>            <span class="token keyword">raise</span> Http404    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> pk<span class="token punctuation">,</span> format<span class="token operator">=</span>None<span class="token punctuation">)</span><span class="token punctuation">:</span>        publisher <span class="token operator">=</span> self<span class="token punctuation">.</span>get_object<span class="token punctuation">(</span>pk<span class="token punctuation">)</span>        s <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PublisherSerializer<span class="token punctuation">(</span>publisher<span class="token punctuation">)</span>        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>s<span class="token punctuation">.</span>data<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">put</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> pk<span class="token punctuation">,</span> format<span class="token operator">=</span>None<span class="token punctuation">)</span><span class="token punctuation">:</span>        publisher <span class="token operator">=</span> self<span class="token punctuation">.</span>get_object<span class="token punctuation">(</span>pk<span class="token punctuation">)</span>        s <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PublisherSerializer<span class="token punctuation">(</span>publisher<span class="token punctuation">,</span> data<span class="token operator">=</span>request<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token keyword">if</span> s<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            s<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> Response<span class="token punctuation">(</span>s<span class="token punctuation">.</span>data<span class="token punctuation">,</span> status<span class="token operator">=</span>status<span class="token punctuation">.</span>HTTP_201_CREATED<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">delete</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> pk<span class="token punctuation">,</span> format<span class="token operator">=</span>None<span class="token punctuation">)</span><span class="token punctuation">:</span>        publisher <span class="token operator">=</span> self<span class="token punctuation">.</span>get_object<span class="token punctuation">(</span>pk<span class="token punctuation">)</span>        publisher<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>status<span class="token operator">=</span>status<span class="token punctuation">.</span>HTTP_204_NO_CONTENT<span class="token punctuation">)</span>            <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="使用minxin类"><a href="#使用minxin类" class="headerlink" title="使用minxin类"></a>使用minxin类</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> app01 <span class="token keyword">import</span> models<span class="token punctuation">,</span> serializers<span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> mixins<span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> generics <span class="token keyword">class</span> <span class="token class-name">PublisherList</span><span class="token punctuation">(</span>mixins<span class="token punctuation">.</span>ListModelMixin<span class="token punctuation">,</span>                    mixins<span class="token punctuation">.</span>CreateModelMixin<span class="token punctuation">,</span>                    generics<span class="token punctuation">.</span>GenericAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>    queryset <span class="token operator">=</span> models<span class="token punctuation">.</span>Publisher<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span>    serializer_class <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PublisherSerializer    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>list<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">*</span>kwargs<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">post</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>create<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">PublisherDetail</span><span class="token punctuation">(</span>mixins<span class="token punctuation">.</span>RetrieveModelMixin<span class="token punctuation">,</span>                      mixins<span class="token punctuation">.</span>UpdateModelMixin<span class="token punctuation">,</span>                      mixins<span class="token punctuation">.</span>DestroyModelMixin<span class="token punctuation">,</span>                      generics<span class="token punctuation">.</span>GenericAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>    queryset <span class="token operator">=</span> models<span class="token punctuation">.</span>Publisher<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span>    serializer_class <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PublisherSerializer    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>retrieve<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">put</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>update<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">delete</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>destroy<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>            <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="使用混和类"><a href="#使用混和类" class="headerlink" title="使用混和类"></a>使用混和类</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> app01 <span class="token keyword">import</span> models<span class="token punctuation">,</span> serializers<span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> generics<span class="token keyword">class</span> <span class="token class-name">PublisherList</span><span class="token punctuation">(</span>generics<span class="token punctuation">.</span>ListCreateAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>    queryset <span class="token operator">=</span> models<span class="token punctuation">.</span>Publisher<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span>    serializer_class <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PublisherSerializer    <span class="token comment" spellcheck="true"># permission_classes = (permissions.IsAuthenticated, IsOwnerOrReadOnly)  # 权限控制</span>    <span class="token keyword">def</span> <span class="token function">perform_create</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> serializer<span class="token punctuation">)</span><span class="token punctuation">:</span>        serializer<span class="token punctuation">.</span>save<span class="token punctuation">(</span>operator<span class="token operator">=</span>self<span class="token punctuation">.</span>request<span class="token punctuation">.</span>user<span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">PublisherDetail</span><span class="token punctuation">(</span>generics<span class="token punctuation">.</span>RetrieveUpdateDestroyAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>    queryset <span class="token operator">=</span> models<span class="token punctuation">.</span>Publisher<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span>    serializer_class <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PublisherSerializer    <span class="token comment" spellcheck="true"># permission_classes = (permissions.IsAuthenticated, IsOwnerOrReadOnly)  # 权限控制</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="认证和权限"><a href="#认证和权限" class="headerlink" title="认证和权限"></a>认证和权限</h2><h3 id="全局认证方案"><a href="#全局认证方案" class="headerlink" title="全局认证方案"></a>全局认证方案</h3><pre class="line-numbers language-python"><code class="language-python">REST_FRAMEWORK <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">'DEFAULT_AUTHENTICATION_CLASSES'</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>        <span class="token string">'rest_framework.authentication.BasicAuthentication'</span><span class="token punctuation">,</span>        <span class="token string">'rest_framework.authentication.SessionAuthentication'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># django默认方案,</span>        <span class="token string">'rest_framework.authentication.TokenAuthenticcation'</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="基于APIView类视图认证"><a href="#基于APIView类视图认证" class="headerlink" title="基于APIView类视图认证"></a>基于APIView类视图认证</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> rest_framework<span class="token punctuation">.</span>authentication <span class="token keyword">import</span> SessionAuthentication<span class="token punctuation">,</span> BasicAuthentication<span class="token keyword">from</span> rest_framework<span class="token punctuation">.</span>permissions <span class="token keyword">import</span> IsAuthenticated<span class="token keyword">from</span> rest_framework<span class="token punctuation">.</span>response <span class="token keyword">import</span> Response<span class="token keyword">from</span> rest_framework<span class="token punctuation">.</span>views <span class="token keyword">import</span> APIView<span class="token keyword">class</span> <span class="token class-name">ExampleView</span><span class="token punctuation">(</span>APIView<span class="token punctuation">)</span><span class="token punctuation">:</span>    authentication_classes <span class="token operator">=</span> <span class="token punctuation">(</span>SessionAuthentication<span class="token punctuation">,</span> BasicAuthentication<span class="token punctuation">)</span>    permission_classes <span class="token operator">=</span> <span class="token punctuation">(</span>IsAuthenticated<span class="token punctuation">,</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> format<span class="token operator">=</span>None<span class="token punctuation">)</span><span class="token punctuation">:</span>        content <span class="token operator">=</span> <span class="token punctuation">{</span>            <span class="token string">'user'</span><span class="token punctuation">:</span> unicode<span class="token punctuation">(</span>request<span class="token punctuation">.</span>user<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># `django.contrib.auth.User` 实例。</span>            <span class="token string">'auth'</span><span class="token punctuation">:</span> unicode<span class="token punctuation">(</span>request<span class="token punctuation">.</span>auth<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># None</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> Response<span class="token punctuation">(</span>content<span class="token punctuation">)</span>        <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="基于函数视图认证"><a href="#基于函数视图认证" class="headerlink" title="基于函数视图认证"></a>基于函数视图认证</h3><pre class="line-numbers language-python"><code class="language-python">@api_view<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>@authentication_classes<span class="token punctuation">(</span><span class="token punctuation">(</span>SessionAuthentication<span class="token punctuation">,</span> BasicAuthentication<span class="token punctuation">)</span><span class="token punctuation">)</span>@permission_classes<span class="token punctuation">(</span><span class="token punctuation">(</span>IsAuthenticated<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">example_view</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> format<span class="token operator">=</span>None<span class="token punctuation">)</span><span class="token punctuation">:</span>    content <span class="token operator">=</span> <span class="token punctuation">{</span>        <span class="token string">'user'</span><span class="token punctuation">:</span> unicode<span class="token punctuation">(</span>request<span class="token punctuation">.</span>user<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># `django.contrib.auth.User` 实例。</span>        <span class="token string">'auth'</span><span class="token punctuation">:</span> unicode<span class="token punctuation">(</span>request<span class="token punctuation">.</span>auth<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># None</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> Response<span class="token punctuation">(</span>content<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="token认证"><a href="#token认证" class="headerlink" title="token认证"></a>token认证</h3><pre><code>        pass</code></pre><h3 id="session认证"><a href="#session认证" class="headerlink" title="session认证"></a>session认证</h3><pre><code>        pass</code></pre><h2 id="超链接api"><a href="#超链接api" class="headerlink" title="超链接api"></a>超链接api</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">PublisherDetail</span><span class="token punctuation">(</span>generics<span class="token punctuation">.</span>RetrieveUpdateDestroyAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>    queryset <span class="token operator">=</span> models<span class="token punctuation">.</span>Publisher<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span>    serializer_class <span class="token operator">=</span> serializers<span class="token punctuation">.</span>PublisherSerializer<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>使用时必须对url命名</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
            <tag> Restfull </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>uWSGI 基础</title>
      <link href="/2019/05/23/django/uwsgi-ji-chu/"/>
      <url>/2019/05/23/django/uwsgi-ji-chu/</url>
      
        <content type="html"><![CDATA[<ul><li><h2 id="uWSGI-安装"><a href="#uWSGI-安装" class="headerlink" title="uWSGI 安装"></a>uWSGI 安装</h2><pre class="line-numbers language-python"><code class="language-python">  pip install uwsgi<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><h2 id="uWSGI-配置"><a href="#uWSGI-配置" class="headerlink" title="uWSGI 配置"></a>uWSGI 配置</h2><table><thead><tr><th>配置名</th><th>作用</th></tr></thead><tbody><tr><td>chdir</td><td>WSGI应用目录</td></tr><tr><td>module</td><td>WSGI应用的模块名字</td></tr><tr><td>processes</td><td>uWSGI进程数</td></tr><tr><td>(http-)socket</td><td>套接字路径、地址</td></tr><tr><td>max-requests</td><td>最大并发请求数</td></tr><tr><td>vacuum</td><td>是否清理环境配置</td></tr></tbody></table></li><li><h2 id="uWSGI-使用"><a href="#uWSGI-使用" class="headerlink" title="uWSGI 使用"></a>uWSGI 使用</h2><ul><li><h3 id="命令行启动"><a href="#命令行启动" class="headerlink" title="命令行启动"></a>命令行启动</h3><pre><code>  uwsgi --chdir xxxx --socket :80 --max-reqiests 5000 --processes 4 --module xxx.wsgi</code></pre></li><li><h3 id="配置文件启动"><a href="#配置文件启动" class="headerlink" title="配置文件启动"></a>配置文件启动</h3><ol><li><p>创建ini文件</p><blockquote><p>vim wsgi_demo.ini</p></blockquote></li><li><p>写入配置详情</p><pre><code> [uwsgi] chdir = /xxx/xx http-socket = :80 max-rquests = 5000 processes = 4</code></pre><pre><code> # 实例 chdir = /home/yanqing0709/python/django_deployment/ module = django_deployment.wsgi http-socket = :8000 master = True processes = 4 threads = 1 vacuum = True</code></pre></li><li><p>启动服务</p><blockquote><p>uwsgi –ini wsgi_domo.ini    </p></blockquote></li><li><p>停止服务<br> 前台启动</p><blockquote><p>ctrl+c</p></blockquote><p> 后台启动</p><blockquote><p>uwsgi –stop pid</p></blockquote></li></ol></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
            <tag> UWSGI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx安装、配置以及常用命令</title>
      <link href="/2019/05/23/ruan-jian-an-zhuang-yu-pei-zhi/nginx-an-zhuang-pei-zhi-yi-ji-chang-yong-ming-ling/"/>
      <url>/2019/05/23/ruan-jian-an-zhuang-yu-pei-zhi/nginx-an-zhuang-pei-zhi-yi-ji-chang-yong-ming-ling/</url>
      
        <content type="html"><![CDATA[<ul><li><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul><li><h3 id="ubuntu"><a href="#ubuntu" class="headerlink" title="ubuntu"></a>ubuntu</h3><pre><code>  sudo apt-get -install nginx</code></pre></li><li><h3 id="centos"><a href="#centos" class="headerlink" title="centos"></a>centos</h3><pre><code>  # 添加Nginx源  rpm -ivh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm  # 安装  sudo yum install nginx</code></pre></li></ul></li><li><h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><pre><code>  # 启动  nginx  # 强制停止  nginx -s stop  # 退出  nginx -s quit  # 重新加载配置文件  nginx -s reload   # 重新打开日志文件  nginx -s reopen</code></pre></li><li><h2 id="nginx-配置文件"><a href="#nginx-配置文件" class="headerlink" title="nginx 配置文件"></a>nginx 配置文件</h2><ul><li><h3 id="nginx-配置文件目录"><a href="#nginx-配置文件目录" class="headerlink" title="nginx 配置文件目录"></a>nginx 配置文件目录</h3><pre><code>  &gt; /etc/nginx</code></pre></li><li><h3 id="nginx-配置文件-1"><a href="#nginx-配置文件-1" class="headerlink" title="nginx 配置文件"></a>nginx 配置文件</h3><table><thead><tr><th>文件</th><th>用途</th></tr></thead><tbody><tr><td>sites-enabled</td><td>使用中的配置文件</td></tr><tr><td>sites-available</td><td>可使用但未正式使用</td></tr></tbody></table></li></ul></li><li><h2 id="nginx-关键配置模块"><a href="#nginx-关键配置模块" class="headerlink" title="nginx 关键配置模块"></a>nginx 关键配置模块</h2><ul><li><h3 id="相关配置"><a href="#相关配置" class="headerlink" title="相关配置"></a>相关配置</h3><table><thead><tr><th>配置名</th><th>作用</th></tr></thead><tbody><tr><td>events</td><td>网络连接相关配置（I/O模型)</td></tr><tr><td>server</td><td>相关服务节点配置</td></tr><tr><td>location</td><td>资源路由配置</td></tr><tr><td>http</td><td>Nginx作为网页服务器时的配置(#mail)</td></tr><tr><td>upstream</td><td>反向代理配置</td></tr></tbody></table></li><li><p>配置层级关系</p><pre><code>  envts{      ...  }  http{      ...      upstream{          ...      }      server{          ...          location{              ...          }      }  }</code></pre></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 软件安装与配置 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Django 缓存模块</title>
      <link href="/2019/05/21/django/django-huan-cun-mo-kuai/"/>
      <url>/2019/05/21/django/django-huan-cun-mo-kuai/</url>
      
        <content type="html"><![CDATA[<h2 id="缓存配置"><a href="#缓存配置" class="headerlink" title="缓存配置"></a>缓存配置</h2><h3 id="Memcached-基于缓存框架缓存，适用超大型网站"><a href="#Memcached-基于缓存框架缓存，适用超大型网站" class="headerlink" title="Memcached 基于缓存框架缓存，适用超大型网站"></a>Memcached 基于缓存框架缓存，适用超大型网站</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Memcached 缓存配置</span>CACHES <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true"># 使用python-memcached模块链接memcached</span>    <span class="token string">'default'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token string">'BACKEND'</span><span class="token punctuation">:</span> <span class="token string">'django.core.cache.backends.memcached.MemcachedCache'</span><span class="token punctuation">,</span>        <span class="token comment" spellcheck="true"># 使用pylibmc块链接memcached</span>        <span class="token comment" spellcheck="true"># 'default': 'django.core.cache.backends.memcached.PyLibMCCache'</span>        <span class="token comment" spellcheck="true"># 配置地址</span>        <span class="token string">'LOCATION'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>            <span class="token string">'127.0.0.1:111'</span><span class="token punctuation">,</span>            <span class="token string">'127.0.0.1:222'</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="数据库缓存-适用于大中型网站"><a href="#数据库缓存-适用于大中型网站" class="headerlink" title="数据库缓存 适用于大中型网站"></a>数据库缓存 适用于大中型网站</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 数据库缓存配置</span>CACHES <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">'default'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token string">'BACKEND'</span><span class="token punctuation">:</span> <span class="token string">'django.core.cache.backends.db.DatabaseCache'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># 缓存引擎</span>        <span class="token string">'LOCATION'</span><span class="token punctuation">:</span> <span class="token string">'my_cache_table'</span>  <span class="token comment" spellcheck="true"># 缓存表名称</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="文件系统缓存-适用于中小型网站"><a href="#文件系统缓存-适用于中小型网站" class="headerlink" title="文件系统缓存 适用于中小型网站"></a>文件系统缓存 适用于中小型网站</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 文件系统缓存</span>CACHES <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">'default'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token string">'BACKEND'</span><span class="token punctuation">:</span> <span class="token string">'django.core.cache.backends.filebased.FileBasedCache'</span><span class="token punctuation">,</span>        <span class="token string">'LOCATION'</span><span class="token punctuation">:</span> <span class="token string">'e"/django'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># 缓存文件路径</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="本地内存缓存-Django默认缓存方式，适用于项目开发测试"><a href="#本地内存缓存-Django默认缓存方式，适用于项目开发测试" class="headerlink" title="本地内存缓存 Django默认缓存方式，适用于项目开发测试"></a>本地内存缓存 Django默认缓存方式，适用于项目开发测试</h3><pre class="line-numbers language-pyhton"><code class="language-pyhton"># 本地内存缓存CACHES = {    'default': {        'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',        'LOCATION': 'unique_snowflake'  # 缓存名称标记    }}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="虚拟缓存-只提供缓存接口，并不能缓存数据，适用于项目测试"><a href="#虚拟缓存-只提供缓存接口，并不能缓存数据，适用于项目测试" class="headerlink" title="虚拟缓存 只提供缓存接口，并不能缓存数据，适用于项目测试"></a>虚拟缓存 只提供缓存接口，并不能缓存数据，适用于项目测试</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 虚拟缓存</span>CACHES <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token string">'default'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token string">'BACKEND'</span><span class="token punctuation">:</span> <span class="token string">'django.core.cache.backends.dummy.DummyCache'</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="缓存使用"><a href="#缓存使用" class="headerlink" title="缓存使用"></a>缓存使用</h2><h3 id="全站缓存"><a href="#全站缓存" class="headerlink" title="全站缓存"></a>全站缓存</h3><ol><li><p>在中间件中首尾添加中间件</p><pre class="line-numbers language-python"><code class="language-python">MIDDLEWARE <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">'django.middleware.cache.UpdateCacheMiddleware'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># 配置全站缓存</span> <span class="token string">'django.middleware.security.SecurityMiddleware'</span><span class="token punctuation">,</span> <span class="token string">'django.contrib.sessions.middleware.SessionMiddleware'</span><span class="token punctuation">,</span> <span class="token string">'django.middleware.common.CommonMiddleware'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true"># 'django.middleware.csrf.CsrfViewMiddleware',</span> <span class="token string">'django.middleware.locale.LocaleMiddleware'</span><span class="token punctuation">,</span> <span class="token string">'django.contrib.auth.middleware.AuthenticationMiddleware'</span><span class="token punctuation">,</span> <span class="token string">'django.contrib.messages.middleware.MessageMiddleware'</span><span class="token punctuation">,</span> <span class="token string">'django.middleware.clickjacking.XFrameOptionsMiddleware'</span><span class="token punctuation">,</span> <span class="token string">'django.middleware.cache.FetchFromCacheMiddleware'</span>  <span class="token comment" spellcheck="true"># 配置全站缓存</span><span class="token punctuation">]</span>        <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>在settings中进行相关设置</p><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 设置缓存生命周期</span>CACHE_MINDDLEWARE_SECONDS <span class="token operator">=</span> <span class="token number">15</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Django Admin 模块</title>
      <link href="/2019/05/21/django/django-admin-mo-kuai/"/>
      <url>/2019/05/21/django/django-admin-mo-kuai/</url>
      
        <content type="html"><![CDATA[<h2 id="Admin-使用"><a href="#Admin-使用" class="headerlink" title="Admin 使用"></a>Admin 使用</h2><blockquote><p>django默认开启了admin中间件且配置了路由</p></blockquote><h3 id="创建Admin账号"><a href="#创建Admin账号" class="headerlink" title="创建Admin账号"></a>创建Admin账号</h3><pre><code># 在控制台中执行命令python manage.py createsuperuser# 依此按要求输入信息即可</code></pre><ul><li>注册模型到admin模块<br>在app中的admin.py中注册模型<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 方法一 直接将模型注册到admin</span><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin<span class="token keyword">from</span> apis<span class="token punctuation">.</span>models <span class="token keyword">import</span> App<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><p>admin.site.register(App)</p><h1 id="方法二-自定与模型admin类并继承ModelAdmin"><a href="#方法二-自定与模型admin类并继承ModelAdmin" class="headerlink" title="方法二 自定与模型admin类并继承ModelAdmin"></a>方法二 自定与模型admin类并继承ModelAdmin</h1><h1 id="注册方法一：使用装饰器注册"><a href="#注册方法一：使用装饰器注册" class="headerlink" title="注册方法一：使用装饰器注册"></a>注册方法一：使用装饰器注册</h1><p>@admin.register(App)<br>class AppAdmin(admin.ModelAdmin)<br>    list_display = [‘appid’, ‘name’]  # 设置显示字段</p><h1 id="注册方法二"><a href="#注册方法二" class="headerlink" title="注册方法二"></a>注册方法二</h1><p>admin.site.register(App, AppAdmin)</p><pre><code></code></pre>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Django log日志模块</title>
      <link href="/2019/05/20/django/django-log-ri-zhi-mo-kuai/"/>
      <url>/2019/05/20/django/django-log-ri-zhi-mo-kuai/</url>
      
        <content type="html"><![CDATA[<h2 id="Django-日志模块"><a href="#Django-日志模块" class="headerlink" title="Django 日志模块"></a>Django 日志模块</h2><h3 id="日志生产过程"><a href="#日志生产过程" class="headerlink" title="日志生产过程"></a>日志生产过程</h3><pre class="mermaid">graph LR产生日志-日志实例-->渲染格式-格式器渲染格式-格式器-->匹配过滤-过滤器匹配过滤-过滤器-->持久化-处理器</pre><h3 id="日志模块的使用"><a href="#日志模块的使用" class="headerlink" title="日志模块的使用"></a>日志模块的使用</h3><ul><li>格式器 formatters</li></ul><ol><li>主要用于配置日志格式</li><li>沿用python语言里面的格式属性</li></ol><table><thead><tr><th>关键词</th><th>描述</th></tr></thead><tbody><tr><td>%(name)s</td><td>记录器的名称</td></tr><tr><td>%(levelno)s</td><td>数字形式的日志记录级别</td></tr><tr><td>%(levelname)s</td><td>日志记录级别的文本名称</td></tr><tr><td>%(filename)s</td><td>执行日志记录调用的源文件的文件名称</td></tr><tr><td>%(pathname)s</td><td>执行日志记录调用的源文件的路径名称</td></tr><tr><td>%(funcName)s</td><td>执行日志记录调用的函数名称</td></tr><tr><td>%(module)s</td><td>执行日志记录调用的模块名称</td></tr><tr><td>%(lineno)s</td><td>执行日志记录调用的行号</td></tr><tr><td>%(created)s</td><td>执行日志记录的时间</td></tr><tr><td>%(asctime)s</td><td>日期和时间</td></tr><tr><td>%(msecs)s</td><td>毫秒部分</td></tr><tr><td>%(thread)d</td><td>线程ID</td></tr><tr><td>%(threadName)s</td><td>线程名称</td></tr><tr><td>%(process)d</td><td>进程ID</td></tr><tr><td>%(message)s</td><td>记录的消息</td></tr></tbody></table><ul><li>过滤器 filter<ol><li>用于过滤符合条件的日志<br>Django 自带里三个过滤器<ol><li>django.utils.log.RequireDebugTrue - 读取设置中的调试设置</li><li>django.utils.log.RequireDebugFalse - 读取设置中的调试设置</li><li>CallbackFilter(callback) - 这个过滤器接受一个回调函数，并对每个传递给过滤器的记录调用它。如果回调函数返回False，将不会进行记录的处理。</li><li>还可以使用自定义过滤器。</li></ol></li></ol></li></ul><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 自定义过滤器</span><span class="token keyword">class</span> <span class="token class-name">TestFilter</span><span class="token punctuation">(</span>logging<span class="token punctuation">.</span>Filter<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">filter</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> record<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token string">'----'</span> <span class="token keyword">in</span> record<span class="token punctuation">.</span>msg<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>处理器 handler</p><ol><li>用于日志的持久化</li></ol></li><li><p>日志实例 logger</p><ol><li>用于生成日志</li></ol></li><li><p>日志代码例子</p><pre class="line-numbers language-python"><code class="language-python">LOGGING <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token string">'version'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token string">'formatters'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true"># 格式化器</span>      <span class="token string">'standard'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true"># 格式化器名称</span>          <span class="token string">'format'</span><span class="token punctuation">:</span> <span class="token string">'%(asctime)s [%(threadName)s: %(thread)d]'</span>          <span class="token string">'%(pathname)s: %(funcName)s: %(lineno)d %(levelname)s - %(message)s'</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token string">'filters'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true"># 过滤器</span>      <span class="token string">'test'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true"># 过滤器名称-自定义的过滤器</span>          <span class="token string">'()'</span><span class="token punctuation">:</span> <span class="token string">'ops.TestFilter'</span>  <span class="token comment" spellcheck="true"># 自定义的过滤器</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token string">'handlers'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true"># 处理器</span>      <span class="token string">'console_handler'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true"># 处理器名称</span>          <span class="token string">'level'</span><span class="token punctuation">:</span> <span class="token string">'INFO'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># 处理log级别</span>          <span class="token string">'class'</span><span class="token punctuation">:</span> <span class="token string">'logging.StreamHandler'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># 处理器类-流处理器, 直接在控制台打印信息</span>          <span class="token string">'formatter'</span><span class="token punctuation">:</span> <span class="token string">'standard'</span>  <span class="token comment" spellcheck="true"># 指定使用的格式化器</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token string">'file_handler'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true"># 处理器名称</span>          <span class="token string">'level'</span><span class="token punctuation">:</span> <span class="token string">'DEBUG'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># 处理log级别</span>          <span class="token string">'class'</span><span class="token punctuation">:</span> <span class="token string">'logging.handlers.RotatingFileHandler'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># 处理器类-文件,此类自动将log文件分割</span>          <span class="token string">'filename'</span><span class="token punctuation">:</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>LOG_DIR<span class="token punctuation">,</span> <span class="token string">'backend.log'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># 文件存放路径及名称</span>          <span class="token string">'maxBytes'</span><span class="token punctuation">:</span> <span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span><span class="token operator">*</span><span class="token number">5</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># 单个log文件大小</span>          <span class="token string">'backupCount'</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># 文件记录数量</span>          <span class="token string">'formatter'</span><span class="token punctuation">:</span> <span class="token string">'standard'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># 指定使用的格式化器</span>          <span class="token string">'encoding'</span><span class="token punctuation">:</span> <span class="token string">'utf-8'</span>  <span class="token comment" spellcheck="true"># 文件编码格式</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token string">'loggers'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true"># 日志实例</span>      <span class="token string">'django'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>          <span class="token string">'handlers'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'console_handler'</span><span class="token punctuation">,</span> <span class="token string">'file_handler'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># 选择日志处理器</span>          <span class="token string">'filters'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true"># 日志过滤器</span>          <span class="token string">'level'</span><span class="token punctuation">:</span> <span class="token string">'DEBUG'</span>  <span class="token comment" spellcheck="true"># 处理日志级别</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Django ORM 模型优化</title>
      <link href="/2019/05/18/django/django-orm-mo-xing-you-hua/"/>
      <url>/2019/05/18/django/django-orm-mo-xing-you-hua/</url>
      
        <content type="html"><![CDATA[<ul><li><h2 id="模型变更与迁移"><a href="#模型变更与迁移" class="headerlink" title="模型变更与迁移"></a>模型变更与迁移</h2><ul><li><h3 id="模型迁移的操作"><a href="#模型迁移的操作" class="headerlink" title="模型迁移的操作"></a>模型迁移的操作</h3>  <pre class="mermaid">        graph LR  模型变更 --> makemigrations  makemigrations --> migrate  用户层面-->Django层面  Django层面-->数据库层面</pre></li><li><h3 id="迁移相关的命令"><a href="#迁移相关的命令" class="headerlink" title="迁移相关的命令"></a>迁移相关的命令</h3><table><thead><tr><th>命令</th><th>用途</th></tr></thead><tbody><tr><td>makemigrations</td><td>将模型变更用Django的形式记录下来</td></tr><tr><td>migrate</td><td>执行模型变更，同步到数据库</td></tr><tr><td>sqlmigrate</td><td>显示每次迁移执行的sql语句</td></tr><tr><td>showmigrations</td><td>显示某个应用的模型变更和迁移历史</td></tr></tbody></table></li><li><h3 id="迁移文件详解"><a href="#迁移文件详解" class="headerlink" title="迁移文件详解"></a>迁移文件详解</h3><table><thead><tr><th>字段</th><th>用途</th></tr></thead><tbody><tr><td>dependencies</td><td>本次迁移的依赖app和依赖迁移记录</td></tr><tr><td>operations</td><td>本次迁移的相关操作</td></tr></tbody></table></li></ul></li><li><h2 id="懒加载与预加载"><a href="#懒加载与预加载" class="headerlink" title="懒加载与预加载"></a>懒加载与预加载</h2><ul><li><h3 id="懒加载"><a href="#懒加载" class="headerlink" title="懒加载"></a>懒加载</h3><p>  &emsp;&emsp;django懒加载是指在存在关系的表中进行数据查询的时候，只查询本体数据，不查询关联对象的数据，调用关联对象数据时，会再次查询数据库。造成二次查询，对数据库造成压力。</p></li><li><h3 id="预加载"><a href="#预加载" class="headerlink" title="预加载"></a>预加载</h3><ul><li><p>方法</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>select_related</td><td>预加载单个关联对象</td></tr><tr><td>prefetch_related</td><td>预加载多个关联对象</td></tr></tbody></table></li><li><p>例子</p><pre class="line-numbers language-pyhton"><code class="language-pyhton">  user = User.objects.prefetch_related('menu')<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>User为模型，menu为User模型中的外键，是一对多关系</p></blockquote><blockquote><p>说明<br>select_related 用于一对一、多对一<br>prefetch_related 用于一对多、多对多</p></blockquote></li></ul></li></ul></li><li><h2 id="长连接"><a href="#长连接" class="headerlink" title="长连接"></a>长连接</h2><p>  pass</p></li><li><h2 id="数据库操作规范"><a href="#数据库操作规范" class="headerlink" title="数据库操作规范"></a>数据库操作规范</h2><ul><li><h3 id="合理使用索引"><a href="#合理使用索引" class="headerlink" title="合理使用索引"></a>合理使用索引</h3><ul><li>正确使索引</li><li>在经常查询、排序、比较的字段建立索引</li></ul></li><li><h3 id="使用迭代器itertor迭代较大的QuerySet"><a href="#使用迭代器itertor迭代较大的QuerySet" class="headerlink" title="使用迭代器itertor迭代较大的QuerySet"></a>使用迭代器itertor迭代较大的QuerySet</h3><ul><li>查询数据较大时，使用迭代器节省内存</li></ul></li><li><h3 id="对象属性缓存"><a href="#对象属性缓存" class="headerlink" title="对象属性缓存"></a>对象属性缓存</h3><ul><li>不可调用的属性会被ORM框架缓存</li><li>可调用的属性不会被ORM框架缓存  <br>```pythonuser = User.objects.all()[0]user.name  # 不可调用属性user.menu.all()  # 可调用属性 menu是外键```  > 通过函数方式调用的就是可调用属性，否则就是不可调用属性，不可调用属性不会被缓存，尽量储存在变量中以供下次使用</li></ul></li><li><h3 id="数据库的操作由数据库来做"><a href="#数据库的操作由数据库来做" class="headerlink" title="数据库的操作由数据库来做"></a>数据库的操作由数据库来做</h3><ul><li>过滤： 使用filter、exclude等属性</li><li>聚合： 使用annotate函数进行聚合</li><li>使用原生SQL查询</li></ul></li><li><h3 id="使用检索时，尽量使用有索引的字段"><a href="#使用检索时，尽量使用有索引的字段" class="headerlink" title="使用检索时，尽量使用有索引的字段"></a>使用检索时，尽量使用有索引的字段</h3></li><li><h3 id="不进行不必要的检索"><a href="#不进行不必要的检索" class="headerlink" title="不进行不必要的检索"></a>不进行不必要的检索</h3><ul><li>QuserSet使用values()、 value_list() 函数返回pyhton结构容器</li><li>查询结果长度使用QuerySet.count()而不是len(QuerySet)</li></ul></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Django ORM 数据库函数</title>
      <link href="/2019/05/17/django/django-orm-shu-ju-ku-han-shu/"/>
      <url>/2019/05/17/django/django-orm-shu-ju-ku-han-shu/</url>
      
        <content type="html"><![CDATA[<ul><li><h2 id="字符串拼接-Concat"><a href="#字符串拼接-Concat" class="headerlink" title="字符串拼接 Concat"></a>字符串拼接 Concat</h2><ul><li><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><pre><code>  from django.db.models.function import Concat  def concat_function():      user = User.objects.filter(open_id=&#39;osYBs5ZmG1SobLJ_821dW9CvzcXw&#39;).annotate(          screen_name=Concat(              Value(&#39;open_id&#39;),              &#39;open_id&#39;,              Value(&#39;,&#39;),              Value(&#39;nickname=&#39;),              &#39;nickname&#39;)      )[0]      print(user.screen_name)</code></pre></li><li><h3 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h3><blockquote><p>open_id=osYBs5ZmG1SobLJ_821dW9CvzcXw,nickname=null1</p></blockquote></li></ul></li><li><h2 id="字符串长度-Length"><a href="#字符串长度-Length" class="headerlink" title="字符串长度 Length"></a>字符串长度 Length</h2><ul><li><h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h3><pre><code>  from django.db.models.function import Length  def length_function():      user = User.objects.filter(open_id=&#39;osYBs5ZmG1SobLJ_821dW9CvzcXw&#39;).annotate(          open_id_length=Length(&#39;open_id&#39;)      )[0]      print(user.open_id_length)</code></pre></li><li><h3 id="输出-1"><a href="#输出-1" class="headerlink" title="输出"></a>输出</h3><blockquote><p>28</p></blockquote></li></ul></li><li><h2 id="转换大小写-Upper-Lower"><a href="#转换大小写-Upper-Lower" class="headerlink" title="转换大小写 Upper, Lower"></a>转换大小写 Upper, Lower</h2><ul><li><h3 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h3><pre class="line-numbers language-python"><code class="language-python">  <span class="token keyword">from</span> django<span class="token punctuation">.</span>db<span class="token punctuation">.</span>models<span class="token punctuation">.</span>function <span class="token keyword">import</span> Upper<span class="token punctuation">,</span> Lower  <span class="token keyword">def</span> <span class="token function">case_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>      user <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>open_id<span class="token operator">=</span><span class="token string">'osYBs5ZmG1SobLJ_821dW9CvzcXw'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>annotate<span class="token punctuation">(</span>          upper_open_id<span class="token operator">=</span>Upper<span class="token punctuation">(</span><span class="token string">'open_id'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          lower_open_id<span class="token operator">=</span>Lower<span class="token punctuation">(</span><span class="token string">'open_id'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>      <span class="token keyword">print</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>upper_open_id<span class="token punctuation">)</span>      <span class="token keyword">print</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>lower_open_id<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><h2 id="输出-2"><a href="#输出-2" class="headerlink" title="输出"></a>输出</h2><blockquote></blockquote><p>  OSYBS5ZMG1SOBLJ_821DW9CVZCXW<br>  osybs5zmg1soblj_821dw9cvzcxw</p></li></ul></li><li><h2 id="日期处理函数"><a href="#日期处理函数" class="headerlink" title="日期处理函数"></a>日期处理函数</h2><ul><li><p>Now()</p><ul><li><p>代码</p><pre><code>  from django.db.models.functions import Now  def now_function():      apps = App.objects.filter(publish_date__lte=Now())      for app in apps:          print(app)</code></pre></li><li><p>输出</p></li></ul></li><li><p>时间截断函数 Trunc()</p><ul><li><p>代码</p><pre><code>  from django.db.models.functions import Trunc  from django.db.models import Count  def trunc_function():      app_per_month = App.objects.annotate(publish_month=Trunc(&#39;publish_date&#39;, &#39;month&#39;))\          .values(&#39;publish_month&#39;)\          .annotate(publish_num=Count(&#39;appid&#39;))      for app in app_per_day:          print(app)</code></pre></li><li><p>输出</p><blockquote></blockquote><p>  {‘publish_day’: datetime.date(2018, 10, 1), ‘publish_num’: 2}<br>  {‘publish_day’: datetime.date(2018, 11, 1), ‘publish_num’: 2}<br>  {‘publish_day’: datetime.date(2018, 12, 1), ‘publish_num’: 1}</p></li><li><p>解释</p><p>  Trunc()函数将会对数据库中的日期时间类字段按照给定的参数进行截断处理，例如参数为’month’时，所有时间将处理成对应月份的1日那天</p></li></ul></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
            <tag> ORM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Django ORM 关系操作</title>
      <link href="/2019/05/17/django/django-orm-guan-xi-cao-zuo/"/>
      <url>/2019/05/17/django/django-orm-guan-xi-cao-zuo/</url>
      
        <content type="html"><![CDATA[<ul><li><h2 id="一对一关系"><a href="#一对一关系" class="headerlink" title="一对一关系"></a>一对一关系</h2><ul><li><h3 id="一对一关系建立"><a href="#一对一关系建立" class="headerlink" title="一对一关系建立"></a>一对一关系建立</h3><pre class="line-numbers language-python"><code class="language-python">  <span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>      onetoone <span class="token operator">=</span> models<span class="token punctuation">.</span>OneToOneFiled<span class="token punctuation">(</span>Test<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 一对一关系 Test为关系表的类名称</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><h3 id="一对一关系操作"><a href="#一对一关系操作" class="headerlink" title="一对一关系操作"></a>一对一关系操作</h3><p>  pass</p></li></ul></li></ul><ul><li><h2 id="多对多关系操作"><a href="#多对多关系操作" class="headerlink" title="多对多关系操作"></a>多对多关系操作</h2><ul><li><h3 id="多对多关系建立"><a href="#多对多关系建立" class="headerlink" title="多对多关系建立"></a>多对多关系建立</h3><pre class="line-numbers language-python"><code class="language-python">  <span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>      manytomany <span class="token operator">=</span> models<span class="token punctuation">.</span>ManyToManyField<span class="token punctuation">(</span>B<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 多对多关系</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><h3 id="数据操作"><a href="#数据操作" class="headerlink" title="数据操作"></a>数据操作</h3><ul><li><h4 id="查询-返回queryset"><a href="#查询-返回queryset" class="headerlink" title="查询 -返回queryset"></a>查询 -返回queryset</h4><pre class="line-numbers language-python"><code class="language-python">  b <span class="token operator">=</span> A<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>foreignkey<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 正向查询</span>  a <span class="token operator">=</span> B<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>查询表_set<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 反向查询</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><h4 id="3-2-2-增加数据"><a href="#3-2-2-增加数据" class="headerlink" title="3.2.2 增加数据"></a>3.2.2 增加数据</h4><pre><code>  a.foreignkey.add(1)  # 添加单个, 1是B表id  a.foreignkey.add(1, 2, 3)   # 添加多个， 1，2，3是B 表id  a.foreignkey.add(*[1,2,3])   # 添加多个， 1，2，3是B 表id</code></pre></li><li><h4 id="3-2-3-更新数据"><a href="#3-2-3-更新数据" class="headerlink" title="3.2.3 更新数据"></a>3.2.3 更新数据</h4><pre><code>  a.foreignkey.set([1, 2, 3])    #1， 2， 3 可以是子表id或者是子表的一个实例对象，更新数据时，不需要添加*号</code></pre></li><li><h4 id="3-2-4-删除数据"><a href="#3-2-4-删除数据" class="headerlink" title="3.2.4 删除数据"></a>3.2.4 删除数据</h4><pre class="line-numbers language-python"><code class="language-python">  a<span class="token punctuation">.</span>foreignkey<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 删除1条</span>  a<span class="token punctuation">.</span>foreignkey<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 删除多条</span>  a<span class="token punctuation">.</span>foreiginkey<span class="token punctuation">.</span>cleaer<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 删除与当前相关所有数据</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Django </tag>
            
            <tag> ORM </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
